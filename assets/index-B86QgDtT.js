var Tw=Object.defineProperty;var Sw=(t,e,n)=>e in t?Tw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bd=(t,e,n)=>Sw(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function kc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dd={exports:{}},Ba={},Nd={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function Cw(){if(Jg)return We;Jg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=T&&H[T]||H["@@iterator"],typeof H=="function"?H:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function k(H,te,ge){this.props=H,this.context=te,this.refs=M,this.updater=ge||I}k.prototype.isReactComponent={},k.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function L(){}L.prototype=k.prototype;function O(H,te,ge){this.props=H,this.context=te,this.refs=M,this.updater=ge||I}var z=O.prototype=new L;z.constructor=O,R(z,k.prototype),z.isPureReactComponent=!0;var G=Array.isArray,N=Object.prototype.hasOwnProperty,ee={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(H,te,ge){var Ne,De={},Be=null,Ke=null;if(te!=null)for(Ne in te.ref!==void 0&&(Ke=te.ref),te.key!==void 0&&(Be=""+te.key),te)N.call(te,Ne)&&!A.hasOwnProperty(Ne)&&(De[Ne]=te[Ne]);var qe=arguments.length-2;if(qe===1)De.children=ge;else if(1<qe){for(var Ve=Array(qe),pt=0;pt<qe;pt++)Ve[pt]=arguments[pt+2];De.children=Ve}if(H&&H.defaultProps)for(Ne in qe=H.defaultProps,qe)De[Ne]===void 0&&(De[Ne]=qe[Ne]);return{$$typeof:t,type:H,key:Be,ref:Ke,props:De,_owner:ee.current}}function P(H,te){return{$$typeof:t,type:H.type,key:te,ref:H.ref,props:H.props,_owner:H._owner}}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function V(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return te[ge]})}var U=/\/+/g;function x(H,te){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):te.toString(36)}function et(H,te,ge,Ne,De){var Be=typeof H;(Be==="undefined"||Be==="boolean")&&(H=null);var Ke=!1;if(H===null)Ke=!0;else switch(Be){case"string":case"number":Ke=!0;break;case"object":switch(H.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=H,De=De(Ke),H=Ne===""?"."+x(Ke,0):Ne,G(De)?(ge="",H!=null&&(ge=H.replace(U,"$&/")+"/"),et(De,te,ge,"",function(pt){return pt})):De!=null&&(D(De)&&(De=P(De,ge+(!De.key||Ke&&Ke.key===De.key?"":(""+De.key).replace(U,"$&/")+"/")+H)),te.push(De)),1;if(Ke=0,Ne=Ne===""?".":Ne+":",G(H))for(var qe=0;qe<H.length;qe++){Be=H[qe];var Ve=Ne+x(Be,qe);Ke+=et(Be,te,ge,Ve,De)}else if(Ve=w(H),typeof Ve=="function")for(H=Ve.call(H),qe=0;!(Be=H.next()).done;)Be=Be.value,Ve=Ne+x(Be,qe++),Ke+=et(Be,te,ge,Ve,De);else if(Be==="object")throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ke}function je(H,te,ge){if(H==null)return H;var Ne=[],De=0;return et(H,Ne,"","",function(Be){return te.call(ge,Be,De++)}),Ne}function at(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var Te={current:null},le={transition:null},_e={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:le,ReactCurrentOwner:ee};function de(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:je,forEach:function(H,te,ge){je(H,function(){te.apply(this,arguments)},ge)},count:function(H){var te=0;return je(H,function(){te++}),te},toArray:function(H){return je(H,function(te){return te})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},We.Component=k,We.Fragment=n,We.Profiler=s,We.PureComponent=O,We.StrictMode=o,We.Suspense=p,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,We.act=de,We.cloneElement=function(H,te,ge){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ne=R({},H.props),De=H.key,Be=H.ref,Ke=H._owner;if(te!=null){if(te.ref!==void 0&&(Be=te.ref,Ke=ee.current),te.key!==void 0&&(De=""+te.key),H.type&&H.type.defaultProps)var qe=H.type.defaultProps;for(Ve in te)N.call(te,Ve)&&!A.hasOwnProperty(Ve)&&(Ne[Ve]=te[Ve]===void 0&&qe!==void 0?qe[Ve]:te[Ve])}var Ve=arguments.length-2;if(Ve===1)Ne.children=ge;else if(1<Ve){qe=Array(Ve);for(var pt=0;pt<Ve;pt++)qe[pt]=arguments[pt+2];Ne.children=qe}return{$$typeof:t,type:H.type,key:De,ref:Be,props:Ne,_owner:Ke}},We.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},We.createElement=S,We.createFactory=function(H){var te=S.bind(null,H);return te.type=H,te},We.createRef=function(){return{current:null}},We.forwardRef=function(H){return{$$typeof:d,render:H}},We.isValidElement=D,We.lazy=function(H){return{$$typeof:_,_payload:{_status:-1,_result:H},_init:at}},We.memo=function(H,te){return{$$typeof:g,type:H,compare:te===void 0?null:te}},We.startTransition=function(H){var te=le.transition;le.transition={};try{H()}finally{le.transition=te}},We.unstable_act=de,We.useCallback=function(H,te){return Te.current.useCallback(H,te)},We.useContext=function(H){return Te.current.useContext(H)},We.useDebugValue=function(){},We.useDeferredValue=function(H){return Te.current.useDeferredValue(H)},We.useEffect=function(H,te){return Te.current.useEffect(H,te)},We.useId=function(){return Te.current.useId()},We.useImperativeHandle=function(H,te,ge){return Te.current.useImperativeHandle(H,te,ge)},We.useInsertionEffect=function(H,te){return Te.current.useInsertionEffect(H,te)},We.useLayoutEffect=function(H,te){return Te.current.useLayoutEffect(H,te)},We.useMemo=function(H,te){return Te.current.useMemo(H,te)},We.useReducer=function(H,te,ge){return Te.current.useReducer(H,te,ge)},We.useRef=function(H){return Te.current.useRef(H)},We.useState=function(H){return Te.current.useState(H)},We.useSyncExternalStore=function(H,te,ge){return Te.current.useSyncExternalStore(H,te,ge)},We.useTransition=function(){return Te.current.useTransition()},We.version="18.3.1",We}var Zg;function So(){return Zg||(Zg=1,Nd.exports=Cw()),Nd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function Iw(){if(ey)return Ba;ey=1;var t=So(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var _,T={},w=null,I=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(I=p.ref);for(_ in p)o.call(p,_)&&!l.hasOwnProperty(_)&&(T[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)T[_]===void 0&&(T[_]=p[_]);return{$$typeof:e,type:d,key:w,ref:I,props:T,_owner:s.current}}return Ba.Fragment=n,Ba.jsx=c,Ba.jsxs=c,Ba}var ty;function Rw(){return ty||(ty=1,Dd.exports=Iw()),Dd.exports}var Z=Rw(),$=So();const _t=kc($);var Mu={},Ld={exports:{}},Un={},Vd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function Pw(){return ny||(ny=1,function(t){function e(le,_e){var de=le.length;le.push(_e);e:for(;0<de;){var H=de-1>>>1,te=le[H];if(0<s(te,_e))le[H]=_e,le[de]=te,de=H;else break e}}function n(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var _e=le[0],de=le.pop();if(de!==_e){le[0]=de;e:for(var H=0,te=le.length,ge=te>>>1;H<ge;){var Ne=2*(H+1)-1,De=le[Ne],Be=Ne+1,Ke=le[Be];if(0>s(De,de))Be<te&&0>s(Ke,De)?(le[H]=Ke,le[Be]=de,H=Be):(le[H]=De,le[Ne]=de,H=Ne);else if(Be<te&&0>s(Ke,de))le[H]=Ke,le[Be]=de,H=Be;else break e}}return _e}function s(le,_e){var de=le.sortIndex-_e.sortIndex;return de!==0?de:le.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,T=null,w=3,I=!1,R=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(le){for(var _e=n(g);_e!==null;){if(_e.callback===null)o(g);else if(_e.startTime<=le)o(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(g)}}function G(le){if(M=!1,z(le),!R)if(n(p)!==null)R=!0,at(N);else{var _e=n(g);_e!==null&&Te(G,_e.startTime-le)}}function N(le,_e){R=!1,M&&(M=!1,L(S),S=-1),I=!0;var de=w;try{for(z(_e),T=n(p);T!==null&&(!(T.expirationTime>_e)||le&&!V());){var H=T.callback;if(typeof H=="function"){T.callback=null,w=T.priorityLevel;var te=H(T.expirationTime<=_e);_e=t.unstable_now(),typeof te=="function"?T.callback=te:T===n(p)&&o(p),z(_e)}else o(p);T=n(p)}if(T!==null)var ge=!0;else{var Ne=n(g);Ne!==null&&Te(G,Ne.startTime-_e),ge=!1}return ge}finally{T=null,w=de,I=!1}}var ee=!1,A=null,S=-1,P=5,D=-1;function V(){return!(t.unstable_now()-D<P)}function U(){if(A!==null){var le=t.unstable_now();D=le;var _e=!0;try{_e=A(!0,le)}finally{_e?x():(ee=!1,A=null)}}else ee=!1}var x;if(typeof O=="function")x=function(){O(U)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,je=et.port2;et.port1.onmessage=U,x=function(){je.postMessage(null)}}else x=function(){k(U,0)};function at(le){A=le,ee||(ee=!0,x())}function Te(le,_e){S=k(function(){le(t.unstable_now())},_e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){R||I||(R=!0,at(N))},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(le){switch(w){case 1:case 2:case 3:var _e=3;break;default:_e=w}var de=w;w=_e;try{return le()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,_e){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var de=w;w=le;try{return _e()}finally{w=de}},t.unstable_scheduleCallback=function(le,_e,de){var H=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?H+de:H):de=H,le){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=de+te,le={id:_++,callback:_e,priorityLevel:le,startTime:de,expirationTime:te,sortIndex:-1},de>H?(le.sortIndex=de,e(g,le),n(p)===null&&le===n(g)&&(M?(L(S),S=-1):M=!0,Te(G,de-H))):(le.sortIndex=te,e(p,le),R||I||(R=!0,at(N))),le},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(le){var _e=w;return function(){var de=w;w=_e;try{return le.apply(this,arguments)}finally{w=de}}}}(Md)),Md}var ry;function Aw(){return ry||(ry=1,Vd.exports=Pw()),Vd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function xw(){if(iy)return Un;iy=1;var t=So(),e=Aw();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function w(r){return p.call(T,r)?!0:p.call(_,r)?!1:g.test(r)?T[r]=!0:(_[r]=!0,!1)}function I(r,i,a,f){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function R(r,i,a,f){if(i===null||typeof i>"u"||I(r,i,a,f))return!0;if(f)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function M(r,i,a,f,h,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new M(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function O(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(L,O);k[i]=new M(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(L,O);k[i]=new M(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(L,O);k[i]=new M(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function z(r,i,a,f){var h=k.hasOwnProperty(i)?k[i]:null;(h!==null?h.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(R(i,a,h,f)&&(a=null),f||h===null?w(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(i=h.attributeName,f=h.attributeNamespace,a===null?r.removeAttribute(i):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,f?r.setAttributeNS(f,i,a):r.setAttribute(i,a))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),ee=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),le=Symbol.iterator;function _e(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,H;function te(r){if(H===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);H=i&&i[1]||""}return`
`+H+r}var ge=!1;function Ne(r,i){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var f=X}Reflect.construct(r,[],i)}else{try{i.call()}catch(X){f=X}r.call(i.prototype)}else{try{throw Error()}catch(X){f=X}r()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var h=X.stack.split(`
`),y=f.stack.split(`
`),E=h.length-1,b=y.length-1;1<=E&&0<=b&&h[E]!==y[b];)b--;for(;1<=E&&0<=b;E--,b--)if(h[E]!==y[b]){if(E!==1||b!==1)do if(E--,b--,0>b||h[E]!==y[b]){var F=`
`+h[E].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=E&&0<=b);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?te(r):""}function De(r){switch(r.tag){case 5:return te(r.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case ee:return"Portal";case P:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case et:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case U:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case je:return i=r.displayName||null,i!==null?i:Be(r.type)||"Memo";case at:i=r._payload,r=r._init;try{return Be(r(i))}catch{}}return null}function Ke(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ve(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pt(r){var i=Ve(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){f=""+E,y.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function fn(r){r._valueTracker||(r._valueTracker=pt(r))}function tr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),f="";return r&&(f=Ve(r)?r.checked?"true":"false":r.value),r=f,r!==a?(i.setValue(r),!0):!1}function Mt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function At(r,i){var a=i.checked;return de({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Or(r,i){var a=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;a=qe(i.value!=null?i.value:a),r._wrapperState={initialChecked:f,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fr(r,i){i=i.checked,i!=null&&z(r,"checked",i,!1)}function nr(r,i){Fr(r,i);var a=qe(i.value),f=i.type;if(a!=null)f==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?jr(r,i.type,a):i.hasOwnProperty("defaultValue")&&jr(r,i.type,qe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Ni(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function jr(r,i,a){(i!=="number"||Mt(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var xn=Array.isArray;function Ut(r,i,a,f){if(r=r.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=i.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&f&&(r[a].defaultSelected=!0)}else{for(a=""+qe(a),i=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,f&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function kn(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return de({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function hr(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(xn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:qe(a)}}function rr(r,i){var a=qe(i.value),f=qe(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),f!=null&&(r.defaultValue=""+f)}function Zt(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ut(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ut(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Re,Qe=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,f,h){MSApp.execUnsafeLocalFunction(function(){return r(i,a,f,h)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Re=Re||document.createElement("div"),Re.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Re.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function He(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ur=["Webkit","ms","Moz","O"];Object.keys(Ct).forEach(function(r){Ur.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ct[i]=Ct[r]})});function Li(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ct.hasOwnProperty(r)&&Ct[r]?(""+i).trim():i+"px"}function Ro(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var f=a.indexOf("--")===0,h=Li(a,i[a],f);a==="float"&&(a="cssFloat"),f?r.setProperty(a,h):r[a]=h}}var Vi=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(r,i){if(i){if(Vi[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Mi(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function Oi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var si=null,bn=null,$n=null;function mr(r){if(r=Pa(r)){if(typeof si!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Yl(i),si(r.stateNode,r.type,i))}}function Tn(r){bn?$n?$n.push(r):$n=[r]:bn=r}function Po(){if(bn){var r=bn,i=$n;if($n=bn=null,mr(r),i)for(r=0;r<i.length;r++)mr(i[r])}}function ai(r,i){return r(i)}function j(){}var q=!1;function Y(r,i,a){if(q)return r(i,a);q=!0;try{return ai(r,i,a)}finally{q=!1,(bn!==null||$n!==null)&&(j(),Po())}}function ne(r,i){var a=r.stateNode;if(a===null)return null;var f=Yl(a);if(f===null)return null;a=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var he=!1;if(d)try{var ve={};Object.defineProperty(ve,"passive",{get:function(){he=!0}}),window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,ve)}catch{he=!1}function Ae(r,i,a,f,h,y,E,b,F){var X=Array.prototype.slice.call(arguments,3);try{i.apply(a,X)}catch(oe){this.onError(oe)}}var pe=!1,we=null,ce=!1,Le=null,$e={onError:function(r){pe=!0,we=r}};function ct(r,i,a,f,h,y,E,b,F){pe=!1,we=null,Ae.apply($e,arguments)}function Dt(r,i,a,f,h,y,E,b,F){if(ct.apply(this,arguments),pe){if(pe){var X=we;pe=!1,we=null}else throw Error(n(198));ce||(ce=!0,Le=X)}}function Xe(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ot(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ft(r){if(Xe(r)!==r)throw Error(n(188))}function gr(r){var i=r.alternate;if(!i){if(i=Xe(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,f=i;;){var h=a.return;if(h===null)break;var y=h.alternate;if(y===null){if(f=h.return,f!==null){a=f;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===a)return ft(h),r;if(y===f)return ft(h),i;y=y.sibling}throw Error(n(188))}if(a.return!==f.return)a=h,f=y;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,f=y;break}if(b===f){E=!0,f=h,a=y;break}b=b.sibling}if(!E){for(b=y.child;b;){if(b===a){E=!0,a=y,f=h;break}if(b===f){E=!0,f=y,a=h;break}b=b.sibling}if(!E)throw Error(n(189))}}if(a.alternate!==f)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function yr(r){return r=gr(r),r!==null?dn(r):null}function dn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=dn(r);if(i!==null)return i;r=r.sibling}return null}var en=e.unstable_scheduleCallback,li=e.unstable_cancelCallback,Br=e.unstable_shouldYield,_r=e.unstable_requestPaint,dt=e.unstable_now,ui=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,vt=e.unstable_UserBlockingPriority,tn=e.unstable_NormalPriority,vr=e.unstable_LowPriority,Et=e.unstable_IdlePriority,Dn=null,hn=null;function as(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Dn,r,void 0,(r.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:xl,fa=Math.log,Al=Math.LN2;function xl(r){return r>>>=0,r===0?32:31-(fa(r)/Al|0)|0}var ls=64,us=4194304;function Fi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ao(r,i){var a=r.pendingLanes;if(a===0)return 0;var f=0,h=r.suspendedLanes,y=r.pingedLanes,E=a&268435455;if(E!==0){var b=E&~h;b!==0?f=Fi(b):(y&=E,y!==0&&(f=Fi(y)))}else E=a&~h,E!==0?f=Fi(E):y!==0&&(f=Fi(y));if(f===0)return 0;if(i!==0&&i!==f&&!(i&h)&&(h=f&-f,y=i&-i,h>=y||h===16&&(y&4194240)!==0))return i;if(f&4&&(f|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)a=31-Sn(i),h=1<<a,f|=r[a],i&=~h;return f}function af(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ci(r,i){for(var a=r.suspendedLanes,f=r.pingedLanes,h=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Sn(y),b=1<<E,F=h[E];F===-1?(!(b&a)||b&f)&&(h[E]=af(b,i)):F<=i&&(r.expiredLanes|=b),y&=~b}}function Hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function xo(){var r=ls;return ls<<=1,!(ls&4194240)&&(ls=64),r}function ji(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Ui(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Sn(i),r[i]=a}function gt(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Sn(a),y=1<<h;i[h]=0,f[h]=-1,r[h]=-1,a&=~y}}function zi(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var f=31-Sn(a),h=1<<f;h&i|r[f]&i&&(r[f]|=i),a&=~h}}var Ye=0;function Bi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var kl,cs,bl,Dl,Nl,da=!1,$r=[],nn=null,Er=null,wr=null,$i=new Map,ir=new Map,Hr=[],lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(r,i){switch(r){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":$i.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(i.pointerId)}}function Nn(r,i,a,f,h,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:f,nativeEvent:y,targetContainers:[h]},i!==null&&(i=Pa(i),i!==null&&cs(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function uf(r,i,a,f,h){switch(i){case"focusin":return nn=Nn(nn,r,i,a,f,h),!0;case"dragenter":return Er=Nn(Er,r,i,a,f,h),!0;case"mouseover":return wr=Nn(wr,r,i,a,f,h),!0;case"pointerover":var y=h.pointerId;return $i.set(y,Nn($i.get(y)||null,r,i,a,f,h)),!0;case"gotpointercapture":return y=h.pointerId,ir.set(y,Nn(ir.get(y)||null,r,i,a,f,h)),!0}return!1}function Vl(r){var i=Lo(r.target);if(i!==null){var a=Xe(i);if(a!==null){if(i=a.tag,i===13){if(i=ot(a),i!==null){r.blockedOn=i,Nl(r.priority,function(){bl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fi(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=fs(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var f=new a.constructor(a.type,a);pr=f,a.target.dispatchEvent(f),pr=null}else return i=Pa(a),i!==null&&cs(i),r.blockedOn=a,!1;i.shift()}return!0}function ko(r,i,a){fi(r)&&a.delete(i)}function Ml(){da=!1,nn!==null&&fi(nn)&&(nn=null),Er!==null&&fi(Er)&&(Er=null),wr!==null&&fi(wr)&&(wr=null),$i.forEach(ko),ir.forEach(ko)}function Tr(r,i){r.blockedOn===i&&(r.blockedOn=null,da||(da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ml)))}function Sr(r){function i(h){return Tr(h,r)}if(0<$r.length){Tr($r[0],r);for(var a=1;a<$r.length;a++){var f=$r[a];f.blockedOn===r&&(f.blockedOn=null)}}for(nn!==null&&Tr(nn,r),Er!==null&&Tr(Er,r),wr!==null&&Tr(wr,r),$i.forEach(i),ir.forEach(i),a=0;a<Hr.length;a++)f=Hr[a],f.blockedOn===r&&(f.blockedOn=null);for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)Vl(a),a.blockedOn===null&&Hr.shift()}var di=G.ReactCurrentBatchConfig,Hi=!0;function It(r,i,a,f){var h=Ye,y=di.transition;di.transition=null;try{Ye=1,ha(r,i,a,f)}finally{Ye=h,di.transition=y}}function cf(r,i,a,f){var h=Ye,y=di.transition;di.transition=null;try{Ye=4,ha(r,i,a,f)}finally{Ye=h,di.transition=y}}function ha(r,i,a,f){if(Hi){var h=fs(r,i,a,f);if(h===null)wf(r,i,f,bo,a),Ll(r,f);else if(uf(h,r,i,a,f))f.stopPropagation();else if(Ll(r,f),i&4&&-1<lf.indexOf(r)){for(;h!==null;){var y=Pa(h);if(y!==null&&kl(y),y=fs(r,i,a,f),y===null&&wf(r,i,f,bo,a),y===h)break;h=y}h!==null&&f.stopPropagation()}else wf(r,i,f,null,a)}}var bo=null;function fs(r,i,a,f){if(bo=null,r=Oi(f),r=Lo(r),r!==null)if(i=Xe(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ot(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return bo=r,null}function pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ui()){case tt:return 1;case vt:return 4;case tn:case vr:return 16;case Et:return 536870912;default:return 16}default:return 16}}var qn=null,ds=null,Ln=null;function ma(){if(Ln)return Ln;var r,i=ds,a=i.length,f,h="value"in qn?qn.value:qn.textContent,y=h.length;for(r=0;r<a&&i[r]===h[r];r++);var E=a-r;for(f=1;f<=E&&i[a-f]===h[y-f];f++);return Ln=h.slice(r,1<f?1-f:void 0)}function hs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function qr(){return!0}function ga(){return!1}function rn(r){function i(a,f,h,y,E){this._reactName=a,this._targetInst=h,this.type=f,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qr:ga,this.isPropagationStopped=ga,this}return de(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),i}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=rn(Cr),Wr=de({},Cr,{view:0,detail:0}),ff=rn(Wr),ms,hi,qi,Do=de({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qi&&(qi&&r.type==="mousemove"?(ms=r.screenX-qi.screenX,hi=r.screenY-qi.screenY):hi=ms=0,qi=r),ms)},movementY:function(r){return"movementY"in r?r.movementY:hi}}),gs=rn(Do),ya=de({},Do,{dataTransfer:0}),Ol=rn(ya),ys=de({},Wr,{relatedTarget:0}),_s=rn(ys),Fl=de({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),pi=rn(Fl),jl=de({},Cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ul=rn(jl),zl=de({},Cr,{data:0}),_a=rn(zl),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Bl[r])?!!i[r]:!1}function Kr(){return $l}var u=de({},Wr,{key:function(r){if(r.key){var i=vs[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=hs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Cn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(r){return r.type==="keypress"?hs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?hs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=rn(u),v=de({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=rn(v),W=de({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),J=rn(W),fe=de({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=rn(fe),zt=de({},Do,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=rn(zt),Kt=[9,13,27,32],Ot=d&&"CompositionEvent"in window,or=null;d&&"documentMode"in document&&(or=document.documentMode);var Wn=d&&"TextEvent"in window&&!or,No=d&&(!Ot||or&&8<or&&11>=or),Es=" ",Wp=!1;function Kp(r,i){switch(r){case"keyup":return Kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ws=!1;function EE(r,i){switch(r){case"compositionend":return Qp(i);case"keypress":return i.which!==32?null:(Wp=!0,Es);case"textInput":return r=i.data,r===Es&&Wp?null:r;default:return null}}function wE(r,i){if(ws)return r==="compositionend"||!Ot&&Kp(r,i)?(r=ma(),Ln=ds=qn=null,ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return No&&i.locale!=="ko"?null:i.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!TE[r.type]:i==="textarea"}function Xp(r,i,a,f){Tn(f),i=Ql(i,"onChange"),0<i.length&&(a=new ps("onChange","change",null,a,f),r.push({event:a,listeners:i}))}var va=null,Ea=null;function SE(r){pm(r,0)}function Hl(r){var i=Rs(r);if(tr(i))return r}function CE(r,i){if(r==="change")return i}var Yp=!1;if(d){var df;if(d){var hf="oninput"in document;if(!hf){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),hf=typeof Jp.oninput=="function"}df=hf}else df=!1;Yp=df&&(!document.documentMode||9<document.documentMode)}function Zp(){va&&(va.detachEvent("onpropertychange",em),Ea=va=null)}function em(r){if(r.propertyName==="value"&&Hl(Ea)){var i=[];Xp(i,Ea,r,Oi(r)),Y(SE,i)}}function IE(r,i,a){r==="focusin"?(Zp(),va=i,Ea=a,va.attachEvent("onpropertychange",em)):r==="focusout"&&Zp()}function RE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hl(Ea)}function PE(r,i){if(r==="click")return Hl(i)}function AE(r,i){if(r==="input"||r==="change")return Hl(i)}function xE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ir=typeof Object.is=="function"?Object.is:xE;function wa(r,i){if(Ir(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),f=Object.keys(i);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var h=a[f];if(!p.call(i,h)||!Ir(r[h],i[h]))return!1}return!0}function tm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nm(r,i){var a=tm(r);r=0;for(var f;a;){if(a.nodeType===3){if(f=r+a.textContent.length,r<=i&&f>=i)return{node:a,offset:i-r};r=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tm(a)}}function rm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?rm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function im(){for(var r=window,i=Mt();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Mt(r.document)}return i}function pf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function kE(r){var i=im(),a=r.focusedElem,f=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&rm(a.ownerDocument.documentElement,a)){if(f!==null&&pf(a)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,y=Math.min(f.start,h);f=f.end===void 0?y:Math.min(f.end,h),!r.extend&&y>f&&(h=f,f=y,y=h),h=nm(a,y);var E=nm(a,f);h&&E&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),r.removeAllRanges(),y>f?(r.addRange(i),r.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var bE=d&&"documentMode"in document&&11>=document.documentMode,Ts=null,mf=null,Ta=null,gf=!1;function om(r,i,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Ts==null||Ts!==Mt(f)||(f=Ts,"selectionStart"in f&&pf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ta&&wa(Ta,f)||(Ta=f,f=Ql(mf,"onSelect"),0<f.length&&(i=new ps("onSelect","select",null,i,a),r.push({event:i,listeners:f}),i.target=Ts)))}function ql(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Ss={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},yf={},sm={};d&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Wl(r){if(yf[r])return yf[r];if(!Ss[r])return r;var i=Ss[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in sm)return yf[r]=i[a];return r}var am=Wl("animationend"),lm=Wl("animationiteration"),um=Wl("animationstart"),cm=Wl("transitionend"),fm=new Map,dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(r,i){fm.set(r,i),l(i,[r])}for(var _f=0;_f<dm.length;_f++){var vf=dm[_f],DE=vf.toLowerCase(),NE=vf[0].toUpperCase()+vf.slice(1);Wi(DE,"on"+NE)}Wi(am,"onAnimationEnd"),Wi(lm,"onAnimationIteration"),Wi(um,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(cm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function hm(r,i,a){var f=r.type||"unknown-event";r.currentTarget=a,Dt(f,i,void 0,r),r.currentTarget=null}function pm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var f=r[a],h=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var E=f.length-1;0<=E;E--){var b=f[E],F=b.instance,X=b.currentTarget;if(b=b.listener,F!==y&&h.isPropagationStopped())break e;hm(h,b,X),y=F}else for(E=0;E<f.length;E++){if(b=f[E],F=b.instance,X=b.currentTarget,b=b.listener,F!==y&&h.isPropagationStopped())break e;hm(h,b,X),y=F}}}if(ce)throw r=Le,ce=!1,Le=null,r}function wt(r,i){var a=i[Pf];a===void 0&&(a=i[Pf]=new Set);var f=r+"__bubble";a.has(f)||(mm(i,r,2,!1),a.add(f))}function Ef(r,i,a){var f=0;i&&(f|=4),mm(a,r,f,i)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Ca(r){if(!r[Kl]){r[Kl]=!0,o.forEach(function(a){a!=="selectionchange"&&(LE.has(a)||Ef(a,!1,r),Ef(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Kl]||(i[Kl]=!0,Ef("selectionchange",!1,i))}}function mm(r,i,a,f){switch(pa(i)){case 1:var h=It;break;case 4:h=cf;break;default:h=ha}a=h.bind(null,i,a,r),h=void 0,!he||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),f?h!==void 0?r.addEventListener(i,a,{capture:!0,passive:h}):r.addEventListener(i,a,!0):h!==void 0?r.addEventListener(i,a,{passive:h}):r.addEventListener(i,a,!1)}function wf(r,i,a,f,h){var y=f;if(!(i&1)&&!(i&2)&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var b=f.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(E===4)for(E=f.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===h||F.nodeType===8&&F.parentNode===h))return;E=E.return}for(;b!==null;){if(E=Lo(b),E===null)return;if(F=E.tag,F===5||F===6){f=y=E;continue e}b=b.parentNode}}f=f.return}Y(function(){var X=y,oe=Oi(a),ae=[];e:{var ie=fm.get(r);if(ie!==void 0){var me=ps,Se=r;switch(r){case"keypress":if(hs(a)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Se="focus",me=_s;break;case"focusout":Se="blur",me=_s;break;case"beforeblur":case"afterblur":me=_s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case am:case lm:case um:me=pi;break;case cm:me=mt;break;case"scroll":me=ff;break;case"wheel":me=nt;break;case"copy":case"cut":case"paste":me=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=C}var Ce=(i&4)!==0,Lt=!Ce&&r==="scroll",K=Ce?ie!==null?ie+"Capture":null:ie;Ce=[];for(var B=X,Q;B!==null;){Q=B;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,K!==null&&(ue=ne(B,K),ue!=null&&Ce.push(Ia(B,ue,Q)))),Lt)break;B=B.return}0<Ce.length&&(ie=new me(ie,Se,null,a,oe),ae.push({event:ie,listeners:Ce}))}}if(!(i&7)){e:{if(ie=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ie&&a!==pr&&(Se=a.relatedTarget||a.fromElement)&&(Lo(Se)||Se[mi]))break e;if((me||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(Se=a.relatedTarget||a.toElement,me=X,Se=Se?Lo(Se):null,Se!==null&&(Lt=Xe(Se),Se!==Lt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(me=null,Se=X),me!==Se)){if(Ce=gs,ue="onMouseLeave",K="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=C,ue="onPointerLeave",K="onPointerEnter",B="pointer"),Lt=me==null?ie:Rs(me),Q=Se==null?ie:Rs(Se),ie=new Ce(ue,B+"leave",me,a,oe),ie.target=Lt,ie.relatedTarget=Q,ue=null,Lo(oe)===X&&(Ce=new Ce(K,B+"enter",Se,a,oe),Ce.target=Q,Ce.relatedTarget=Lt,ue=Ce),Lt=ue,me&&Se)t:{for(Ce=me,K=Se,B=0,Q=Ce;Q;Q=Cs(Q))B++;for(Q=0,ue=K;ue;ue=Cs(ue))Q++;for(;0<B-Q;)Ce=Cs(Ce),B--;for(;0<Q-B;)K=Cs(K),Q--;for(;B--;){if(Ce===K||K!==null&&Ce===K.alternate)break t;Ce=Cs(Ce),K=Cs(K)}Ce=null}else Ce=null;me!==null&&gm(ae,ie,me,Ce,!1),Se!==null&&Lt!==null&&gm(ae,Lt,Se,Ce,!0)}}e:{if(ie=X?Rs(X):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var Ie=CE;else if(Gp(ie))if(Yp)Ie=AE;else{Ie=RE;var xe=IE}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ie=PE);if(Ie&&(Ie=Ie(r,X))){Xp(ae,Ie,a,oe);break e}xe&&xe(r,ie,X),r==="focusout"&&(xe=ie._wrapperState)&&xe.controlled&&ie.type==="number"&&jr(ie,"number",ie.value)}switch(xe=X?Rs(X):window,r){case"focusin":(Gp(xe)||xe.contentEditable==="true")&&(Ts=xe,mf=X,Ta=null);break;case"focusout":Ta=mf=Ts=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,om(ae,a,oe);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":om(ae,a,oe)}var ke;if(Ot)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ws?Kp(r,a)&&(Me="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(No&&a.locale!=="ko"&&(ws||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ws&&(ke=ma()):(qn=oe,ds="value"in qn?qn.value:qn.textContent,ws=!0)),xe=Ql(X,Me),0<xe.length&&(Me=new _a(Me,r,null,a,oe),ae.push({event:Me,listeners:xe}),ke?Me.data=ke:(ke=Qp(a),ke!==null&&(Me.data=ke)))),(ke=Wn?EE(r,a):wE(r,a))&&(X=Ql(X,"onBeforeInput"),0<X.length&&(oe=new _a("onBeforeInput","beforeinput",null,a,oe),ae.push({event:oe,listeners:X}),oe.data=ke))}pm(ae,i)})}function Ia(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Ql(r,i){for(var a=i+"Capture",f=[];r!==null;){var h=r,y=h.stateNode;h.tag===5&&y!==null&&(h=y,y=ne(r,a),y!=null&&f.unshift(Ia(r,y,h)),y=ne(r,i),y!=null&&f.push(Ia(r,y,h))),r=r.return}return f}function Cs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function gm(r,i,a,f,h){for(var y=i._reactName,E=[];a!==null&&a!==f;){var b=a,F=b.alternate,X=b.stateNode;if(F!==null&&F===f)break;b.tag===5&&X!==null&&(b=X,h?(F=ne(a,y),F!=null&&E.unshift(Ia(a,F,b))):h||(F=ne(a,y),F!=null&&E.push(Ia(a,F,b)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var VE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function ym(r){return(typeof r=="string"?r:""+r).replace(VE,`
`).replace(ME,"")}function Gl(r,i,a){if(i=ym(i),ym(r)!==i&&a)throw Error(n(425))}function Xl(){}var Tf=null,Sf=null;function Cf(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,FE=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(r){return _m.resolve(null).then(r).catch(jE)}:If;function jE(r){setTimeout(function(){throw r})}function Rf(r,i){var a=i,f=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(f===0){r.removeChild(h),Sr(i);return}f--}else a!=="$"&&a!=="$?"&&a!=="$!"||f++;a=h}while(a);Sr(i)}function Ki(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function vm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Is,Ra="__reactProps$"+Is,mi="__reactContainer$"+Is,Pf="__reactEvents$"+Is,UE="__reactListeners$"+Is,zE="__reactHandles$"+Is;function Lo(r){var i=r[Qr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[mi]||a[Qr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=vm(r);r!==null;){if(a=r[Qr])return a;r=vm(r)}return i}r=a,a=r.parentNode}return null}function Pa(r){return r=r[Qr]||r[mi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Rs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Yl(r){return r[Ra]||null}var Af=[],Ps=-1;function Qi(r){return{current:r}}function Tt(r){0>Ps||(r.current=Af[Ps],Af[Ps]=null,Ps--)}function yt(r,i){Ps++,Af[Ps]=r.current,r.current=i}var Gi={},pn=Qi(Gi),Vn=Qi(!1),Vo=Gi;function As(r,i){var a=r.type.contextTypes;if(!a)return Gi;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var h={},y;for(y in a)h[y]=i[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=h),h}function Mn(r){return r=r.childContextTypes,r!=null}function Jl(){Tt(Vn),Tt(pn)}function Em(r,i,a){if(pn.current!==Gi)throw Error(n(168));yt(pn,i),yt(Vn,a)}function wm(r,i,a){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return a;f=f.getChildContext();for(var h in f)if(!(h in i))throw Error(n(108,Ke(r)||"Unknown",h));return de({},a,f)}function Zl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Gi,Vo=pn.current,yt(pn,r),yt(Vn,Vn.current),!0}function Tm(r,i,a){var f=r.stateNode;if(!f)throw Error(n(169));a?(r=wm(r,i,Vo),f.__reactInternalMemoizedMergedChildContext=r,Tt(Vn),Tt(pn),yt(pn,r)):Tt(Vn),yt(Vn,a)}var gi=null,eu=!1,xf=!1;function Sm(r){gi===null?gi=[r]:gi.push(r)}function BE(r){eu=!0,Sm(r)}function Xi(){if(!xf&&gi!==null){xf=!0;var r=0,i=Ye;try{var a=gi;for(Ye=1;r<a.length;r++){var f=a[r];do f=f(!0);while(f!==null)}gi=null,eu=!1}catch(h){throw gi!==null&&(gi=gi.slice(r+1)),en(tt,Xi),h}finally{Ye=i,xf=!1}}return null}var xs=[],ks=0,tu=null,nu=0,sr=[],ar=0,Mo=null,yi=1,_i="";function Oo(r,i){xs[ks++]=nu,xs[ks++]=tu,tu=r,nu=i}function Cm(r,i,a){sr[ar++]=yi,sr[ar++]=_i,sr[ar++]=Mo,Mo=r;var f=yi;r=_i;var h=32-Sn(f)-1;f&=~(1<<h),a+=1;var y=32-Sn(i)+h;if(30<y){var E=h-h%5;y=(f&(1<<E)-1).toString(32),f>>=E,h-=E,yi=1<<32-Sn(i)+h|a<<h|f,_i=y+r}else yi=1<<y|a<<h|f,_i=r}function kf(r){r.return!==null&&(Oo(r,1),Cm(r,1,0))}function bf(r){for(;r===tu;)tu=xs[--ks],xs[ks]=null,nu=xs[--ks],xs[ks]=null;for(;r===Mo;)Mo=sr[--ar],sr[ar]=null,_i=sr[--ar],sr[ar]=null,yi=sr[--ar],sr[ar]=null}var Kn=null,Qn=null,Rt=!1,Rr=null;function Im(r,i){var a=fr(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Rm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Kn=r,Qn=Ki(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Kn=r,Qn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Mo!==null?{id:yi,overflow:_i}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=fr(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Kn=r,Qn=null,!0):!1;default:return!1}}function Df(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nf(r){if(Rt){var i=Qn;if(i){var a=i;if(!Rm(r,i)){if(Df(r))throw Error(n(418));i=Ki(a.nextSibling);var f=Kn;i&&Rm(r,i)?Im(f,a):(r.flags=r.flags&-4097|2,Rt=!1,Kn=r)}}else{if(Df(r))throw Error(n(418));r.flags=r.flags&-4097|2,Rt=!1,Kn=r}}}function Pm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Kn=r}function ru(r){if(r!==Kn)return!1;if(!Rt)return Pm(r),Rt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Cf(r.type,r.memoizedProps)),i&&(i=Qn)){if(Df(r))throw Am(),Error(n(418));for(;i;)Im(r,i),i=Ki(i.nextSibling)}if(Pm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Qn=Ki(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Qn=null}}else Qn=Kn?Ki(r.stateNode.nextSibling):null;return!0}function Am(){for(var r=Qn;r;)r=Ki(r.nextSibling)}function bs(){Qn=Kn=null,Rt=!1}function Lf(r){Rr===null?Rr=[r]:Rr.push(r)}var $E=G.ReactCurrentBatchConfig;function Aa(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var f=a.stateNode}if(!f)throw Error(n(147,r));var h=f,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var b=h.refs;E===null?delete b[y]:b[y]=E},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function iu(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function xm(r){var i=r._init;return i(r._payload)}function km(r){function i(K,B){if(r){var Q=K.deletions;Q===null?(K.deletions=[B],K.flags|=16):Q.push(B)}}function a(K,B){if(!r)return null;for(;B!==null;)i(K,B),B=B.sibling;return null}function f(K,B){for(K=new Map;B!==null;)B.key!==null?K.set(B.key,B):K.set(B.index,B),B=B.sibling;return K}function h(K,B){return K=io(K,B),K.index=0,K.sibling=null,K}function y(K,B,Q){return K.index=Q,r?(Q=K.alternate,Q!==null?(Q=Q.index,Q<B?(K.flags|=2,B):Q):(K.flags|=2,B)):(K.flags|=1048576,B)}function E(K){return r&&K.alternate===null&&(K.flags|=2),K}function b(K,B,Q,ue){return B===null||B.tag!==6?(B=Id(Q,K.mode,ue),B.return=K,B):(B=h(B,Q),B.return=K,B)}function F(K,B,Q,ue){var Ie=Q.type;return Ie===A?oe(K,B,Q.props.children,ue,Q.key):B!==null&&(B.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===at&&xm(Ie)===B.type)?(ue=h(B,Q.props),ue.ref=Aa(K,B,Q),ue.return=K,ue):(ue=Au(Q.type,Q.key,Q.props,null,K.mode,ue),ue.ref=Aa(K,B,Q),ue.return=K,ue)}function X(K,B,Q,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Rd(Q,K.mode,ue),B.return=K,B):(B=h(B,Q.children||[]),B.return=K,B)}function oe(K,B,Q,ue,Ie){return B===null||B.tag!==7?(B=qo(Q,K.mode,ue,Ie),B.return=K,B):(B=h(B,Q),B.return=K,B)}function ae(K,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Id(""+B,K.mode,Q),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return Q=Au(B.type,B.key,B.props,null,K.mode,Q),Q.ref=Aa(K,null,B),Q.return=K,Q;case ee:return B=Rd(B,K.mode,Q),B.return=K,B;case at:var ue=B._init;return ae(K,ue(B._payload),Q)}if(xn(B)||_e(B))return B=qo(B,K.mode,Q,null),B.return=K,B;iu(K,B)}return null}function ie(K,B,Q,ue){var Ie=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ie!==null?null:b(K,B,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return Q.key===Ie?F(K,B,Q,ue):null;case ee:return Q.key===Ie?X(K,B,Q,ue):null;case at:return Ie=Q._init,ie(K,B,Ie(Q._payload),ue)}if(xn(Q)||_e(Q))return Ie!==null?null:oe(K,B,Q,ue,null);iu(K,Q)}return null}function me(K,B,Q,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return K=K.get(Q)||null,b(B,K,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:return K=K.get(ue.key===null?Q:ue.key)||null,F(B,K,ue,Ie);case ee:return K=K.get(ue.key===null?Q:ue.key)||null,X(B,K,ue,Ie);case at:var xe=ue._init;return me(K,B,Q,xe(ue._payload),Ie)}if(xn(ue)||_e(ue))return K=K.get(Q)||null,oe(B,K,ue,Ie,null);iu(B,ue)}return null}function Se(K,B,Q,ue){for(var Ie=null,xe=null,ke=B,Me=B=0,Xt=null;ke!==null&&Me<Q.length;Me++){ke.index>Me?(Xt=ke,ke=null):Xt=ke.sibling;var lt=ie(K,ke,Q[Me],ue);if(lt===null){ke===null&&(ke=Xt);break}r&&ke&&lt.alternate===null&&i(K,ke),B=y(lt,B,Me),xe===null?Ie=lt:xe.sibling=lt,xe=lt,ke=Xt}if(Me===Q.length)return a(K,ke),Rt&&Oo(K,Me),Ie;if(ke===null){for(;Me<Q.length;Me++)ke=ae(K,Q[Me],ue),ke!==null&&(B=y(ke,B,Me),xe===null?Ie=ke:xe.sibling=ke,xe=ke);return Rt&&Oo(K,Me),Ie}for(ke=f(K,ke);Me<Q.length;Me++)Xt=me(ke,K,Me,Q[Me],ue),Xt!==null&&(r&&Xt.alternate!==null&&ke.delete(Xt.key===null?Me:Xt.key),B=y(Xt,B,Me),xe===null?Ie=Xt:xe.sibling=Xt,xe=Xt);return r&&ke.forEach(function(oo){return i(K,oo)}),Rt&&Oo(K,Me),Ie}function Ce(K,B,Q,ue){var Ie=_e(Q);if(typeof Ie!="function")throw Error(n(150));if(Q=Ie.call(Q),Q==null)throw Error(n(151));for(var xe=Ie=null,ke=B,Me=B=0,Xt=null,lt=Q.next();ke!==null&&!lt.done;Me++,lt=Q.next()){ke.index>Me?(Xt=ke,ke=null):Xt=ke.sibling;var oo=ie(K,ke,lt.value,ue);if(oo===null){ke===null&&(ke=Xt);break}r&&ke&&oo.alternate===null&&i(K,ke),B=y(oo,B,Me),xe===null?Ie=oo:xe.sibling=oo,xe=oo,ke=Xt}if(lt.done)return a(K,ke),Rt&&Oo(K,Me),Ie;if(ke===null){for(;!lt.done;Me++,lt=Q.next())lt=ae(K,lt.value,ue),lt!==null&&(B=y(lt,B,Me),xe===null?Ie=lt:xe.sibling=lt,xe=lt);return Rt&&Oo(K,Me),Ie}for(ke=f(K,ke);!lt.done;Me++,lt=Q.next())lt=me(ke,K,Me,lt.value,ue),lt!==null&&(r&&lt.alternate!==null&&ke.delete(lt.key===null?Me:lt.key),B=y(lt,B,Me),xe===null?Ie=lt:xe.sibling=lt,xe=lt);return r&&ke.forEach(function(ww){return i(K,ww)}),Rt&&Oo(K,Me),Ie}function Lt(K,B,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:e:{for(var Ie=Q.key,xe=B;xe!==null;){if(xe.key===Ie){if(Ie=Q.type,Ie===A){if(xe.tag===7){a(K,xe.sibling),B=h(xe,Q.props.children),B.return=K,K=B;break e}}else if(xe.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===at&&xm(Ie)===xe.type){a(K,xe.sibling),B=h(xe,Q.props),B.ref=Aa(K,xe,Q),B.return=K,K=B;break e}a(K,xe);break}else i(K,xe);xe=xe.sibling}Q.type===A?(B=qo(Q.props.children,K.mode,ue,Q.key),B.return=K,K=B):(ue=Au(Q.type,Q.key,Q.props,null,K.mode,ue),ue.ref=Aa(K,B,Q),ue.return=K,K=ue)}return E(K);case ee:e:{for(xe=Q.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){a(K,B.sibling),B=h(B,Q.children||[]),B.return=K,K=B;break e}else{a(K,B);break}else i(K,B);B=B.sibling}B=Rd(Q,K.mode,ue),B.return=K,K=B}return E(K);case at:return xe=Q._init,Lt(K,B,xe(Q._payload),ue)}if(xn(Q))return Se(K,B,Q,ue);if(_e(Q))return Ce(K,B,Q,ue);iu(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(a(K,B.sibling),B=h(B,Q),B.return=K,K=B):(a(K,B),B=Id(Q,K.mode,ue),B.return=K,K=B),E(K)):a(K,B)}return Lt}var Ds=km(!0),bm=km(!1),ou=Qi(null),su=null,Ns=null,Vf=null;function Mf(){Vf=Ns=su=null}function Of(r){var i=ou.current;Tt(ou),r._currentValue=i}function Ff(r,i,a){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===a)break;r=r.return}}function Ls(r,i){su=r,Vf=Ns=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(On=!0),r.firstContext=null)}function lr(r){var i=r._currentValue;if(Vf!==r)if(r={context:r,memoizedValue:i,next:null},Ns===null){if(su===null)throw Error(n(308));Ns=r,su.dependencies={lanes:0,firstContext:r}}else Ns=Ns.next=r;return i}var Fo=null;function jf(r){Fo===null?Fo=[r]:Fo.push(r)}function Dm(r,i,a,f){var h=i.interleaved;return h===null?(a.next=a,jf(i)):(a.next=h.next,h.next=a),i.interleaved=a,vi(r,f)}function vi(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Yi=!1;function Uf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ei(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ji(r,i,a){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,st&2){var h=f.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),f.pending=i,vi(r,a)}return h=f.interleaved,h===null?(i.next=i,jf(f)):(i.next=h.next,h.next=i),f.interleaved=i,vi(r,a)}function au(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,a|=f,i.lanes=a,zi(r,a)}}function Lm(r,i){var a=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var h=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?h=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?h=y=i:y=y.next=i}else h=y=i;a={baseState:f.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function lu(r,i,a,f){var h=r.updateQueue;Yi=!1;var y=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var F=b,X=F.next;F.next=null,E===null?y=X:E.next=X,E=F;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,b=oe.lastBaseUpdate,b!==E&&(b===null?oe.firstBaseUpdate=X:b.next=X,oe.lastBaseUpdate=F))}if(y!==null){var ae=h.baseState;E=0,oe=X=F=null,b=y;do{var ie=b.lane,me=b.eventTime;if((f&ie)===ie){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Se=r,Ce=b;switch(ie=i,me=a,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){ae=Se.call(me,ae,ie);break e}ae=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,ie=typeof Se=="function"?Se.call(me,ae,ie):Se,ie==null)break e;ae=de({},ae,ie);break e;case 2:Yi=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,ie=h.effects,ie===null?h.effects=[b]:ie.push(b))}else me={eventTime:me,lane:ie,tag:b.tag,payload:b.payload,callback:b.callback,next:null},oe===null?(X=oe=me,F=ae):oe=oe.next=me,E|=ie;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;ie=b,b=ie.next,ie.next=null,h.lastBaseUpdate=ie,h.shared.pending=null}}while(!0);if(oe===null&&(F=ae),h.baseState=F,h.firstBaseUpdate=X,h.lastBaseUpdate=oe,i=h.shared.interleaved,i!==null){h=i;do E|=h.lane,h=h.next;while(h!==i)}else y===null&&(h.shared.lanes=0);zo|=E,r.lanes=E,r.memoizedState=ae}}function Vm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],h=f.callback;if(h!==null){if(f.callback=null,f=a,typeof h!="function")throw Error(n(191,h));h.call(f)}}}var xa={},Gr=Qi(xa),ka=Qi(xa),ba=Qi(xa);function jo(r){if(r===xa)throw Error(n(174));return r}function zf(r,i){switch(yt(ba,i),yt(ka,r),yt(Gr,xa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:St(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=St(i,r)}Tt(Gr),yt(Gr,i)}function Vs(){Tt(Gr),Tt(ka),Tt(ba)}function Mm(r){jo(ba.current);var i=jo(Gr.current),a=St(i,r.type);i!==a&&(yt(ka,r),yt(Gr,a))}function Bf(r){ka.current===r&&(Tt(Gr),Tt(ka))}var xt=Qi(0);function uu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $f=[];function Hf(){for(var r=0;r<$f.length;r++)$f[r]._workInProgressVersionPrimary=null;$f.length=0}var cu=G.ReactCurrentDispatcher,qf=G.ReactCurrentBatchConfig,Uo=0,kt=null,Bt=null,Qt=null,fu=!1,Da=!1,Na=0,HE=0;function mn(){throw Error(n(321))}function Wf(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Ir(r[a],i[a]))return!1;return!0}function Kf(r,i,a,f,h,y){if(Uo=y,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,cu.current=r===null||r.memoizedState===null?QE:GE,r=a(f,h),Da){y=0;do{if(Da=!1,Na=0,25<=y)throw Error(n(301));y+=1,Qt=Bt=null,i.updateQueue=null,cu.current=XE,r=a(f,h)}while(Da)}if(cu.current=pu,i=Bt!==null&&Bt.next!==null,Uo=0,Qt=Bt=kt=null,fu=!1,i)throw Error(n(300));return r}function Qf(){var r=Na!==0;return Na=0,r}function Xr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?kt.memoizedState=Qt=r:Qt=Qt.next=r,Qt}function ur(){if(Bt===null){var r=kt.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var i=Qt===null?kt.memoizedState:Qt.next;if(i!==null)Qt=i,Bt=r;else{if(r===null)throw Error(n(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Qt===null?kt.memoizedState=Qt=r:Qt=Qt.next=r}return Qt}function La(r,i){return typeof i=="function"?i(r):i}function Gf(r){var i=ur(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var f=Bt,h=f.baseQueue,y=a.pending;if(y!==null){if(h!==null){var E=h.next;h.next=y.next,y.next=E}f.baseQueue=h=y,a.pending=null}if(h!==null){y=h.next,f=f.baseState;var b=E=null,F=null,X=y;do{var oe=X.lane;if((Uo&oe)===oe)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:r(f,X.action);else{var ae={lane:oe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(b=F=ae,E=f):F=F.next=ae,kt.lanes|=oe,zo|=oe}X=X.next}while(X!==null&&X!==y);F===null?E=f:F.next=b,Ir(f,i.memoizedState)||(On=!0),i.memoizedState=f,i.baseState=E,i.baseQueue=F,a.lastRenderedState=f}if(r=a.interleaved,r!==null){h=r;do y=h.lane,kt.lanes|=y,zo|=y,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Xf(r){var i=ur(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var f=a.dispatch,h=a.pending,y=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do y=r(y,E.action),E=E.next;while(E!==h);Ir(y,i.memoizedState)||(On=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,f]}function Om(){}function Fm(r,i){var a=kt,f=ur(),h=i(),y=!Ir(f.memoizedState,h);if(y&&(f.memoizedState=h,On=!0),f=f.queue,Yf(zm.bind(null,a,f,r),[r]),f.getSnapshot!==i||y||Qt!==null&&Qt.memoizedState.tag&1){if(a.flags|=2048,Va(9,Um.bind(null,a,f,h,i),void 0,null),Gt===null)throw Error(n(349));Uo&30||jm(a,i,h)}return h}function jm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Um(r,i,a,f){i.value=a,i.getSnapshot=f,Bm(i)&&$m(r)}function zm(r,i,a){return a(function(){Bm(i)&&$m(r)})}function Bm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Ir(r,a)}catch{return!0}}function $m(r){var i=vi(r,1);i!==null&&kr(i,r,1,-1)}function Hm(r){var i=Xr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:r},i.queue=r,r=r.dispatch=KE.bind(null,kt,r),[i.memoizedState,r]}function Va(r,i,a,f){return r={tag:r,create:i,destroy:a,deps:f,next:null},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(f=a.next,a.next=r,r.next=f,i.lastEffect=r)),r}function qm(){return ur().memoizedState}function du(r,i,a,f){var h=Xr();kt.flags|=r,h.memoizedState=Va(1|i,a,void 0,f===void 0?null:f)}function hu(r,i,a,f){var h=ur();f=f===void 0?null:f;var y=void 0;if(Bt!==null){var E=Bt.memoizedState;if(y=E.destroy,f!==null&&Wf(f,E.deps)){h.memoizedState=Va(i,a,y,f);return}}kt.flags|=r,h.memoizedState=Va(1|i,a,y,f)}function Wm(r,i){return du(8390656,8,r,i)}function Yf(r,i){return hu(2048,8,r,i)}function Km(r,i){return hu(4,2,r,i)}function Qm(r,i){return hu(4,4,r,i)}function Gm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Xm(r,i,a){return a=a!=null?a.concat([r]):null,hu(4,4,Gm.bind(null,i,r),a)}function Jf(){}function Ym(r,i){var a=ur();i=i===void 0?null:i;var f=a.memoizedState;return f!==null&&i!==null&&Wf(i,f[1])?f[0]:(a.memoizedState=[r,i],r)}function Jm(r,i){var a=ur();i=i===void 0?null:i;var f=a.memoizedState;return f!==null&&i!==null&&Wf(i,f[1])?f[0]:(r=r(),a.memoizedState=[r,i],r)}function Zm(r,i,a){return Uo&21?(Ir(a,i)||(a=xo(),kt.lanes|=a,zo|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,On=!0),r.memoizedState=a)}function qE(r,i){var a=Ye;Ye=a!==0&&4>a?a:4,r(!0);var f=qf.transition;qf.transition={};try{r(!1),i()}finally{Ye=a,qf.transition=f}}function eg(){return ur().memoizedState}function WE(r,i,a){var f=no(r);if(a={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null},tg(r))ng(i,a);else if(a=Dm(r,i,a,f),a!==null){var h=Rn();kr(a,r,f,h),rg(a,i,f)}}function KE(r,i,a){var f=no(r),h={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null};if(tg(r))ng(i,h);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,b=y(E,a);if(h.hasEagerState=!0,h.eagerState=b,Ir(b,E)){var F=i.interleaved;F===null?(h.next=h,jf(i)):(h.next=F.next,F.next=h),i.interleaved=h;return}}catch{}finally{}a=Dm(r,i,h,f),a!==null&&(h=Rn(),kr(a,r,f,h),rg(a,i,f))}}function tg(r){var i=r.alternate;return r===kt||i!==null&&i===kt}function ng(r,i){Da=fu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function rg(r,i,a){if(a&4194240){var f=i.lanes;f&=r.pendingLanes,a|=f,i.lanes=a,zi(r,a)}}var pu={readContext:lr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},QE={readContext:lr,useCallback:function(r,i){return Xr().memoizedState=[r,i===void 0?null:i],r},useContext:lr,useEffect:Wm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,du(4194308,4,Gm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return du(4194308,4,r,i)},useInsertionEffect:function(r,i){return du(4,2,r,i)},useMemo:function(r,i){var a=Xr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var f=Xr();return i=a!==void 0?a(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=WE.bind(null,kt,r),[f.memoizedState,r]},useRef:function(r){var i=Xr();return r={current:r},i.memoizedState=r},useState:Hm,useDebugValue:Jf,useDeferredValue:function(r){return Xr().memoizedState=r},useTransition:function(){var r=Hm(!1),i=r[0];return r=qE.bind(null,r[1]),Xr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var f=kt,h=Xr();if(Rt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),Gt===null)throw Error(n(349));Uo&30||jm(f,i,a)}h.memoizedState=a;var y={value:a,getSnapshot:i};return h.queue=y,Wm(zm.bind(null,f,y,r),[r]),f.flags|=2048,Va(9,Um.bind(null,f,y,a,i),void 0,null),a},useId:function(){var r=Xr(),i=Gt.identifierPrefix;if(Rt){var a=_i,f=yi;a=(f&~(1<<32-Sn(f)-1)).toString(32)+a,i=":"+i+"R"+a,a=Na++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=HE++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},GE={readContext:lr,useCallback:Ym,useContext:lr,useEffect:Yf,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Jm,useReducer:Gf,useRef:qm,useState:function(){return Gf(La)},useDebugValue:Jf,useDeferredValue:function(r){var i=ur();return Zm(i,Bt.memoizedState,r)},useTransition:function(){var r=Gf(La)[0],i=ur().memoizedState;return[r,i]},useMutableSource:Om,useSyncExternalStore:Fm,useId:eg,unstable_isNewReconciler:!1},XE={readContext:lr,useCallback:Ym,useContext:lr,useEffect:Yf,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Jm,useReducer:Xf,useRef:qm,useState:function(){return Xf(La)},useDebugValue:Jf,useDeferredValue:function(r){var i=ur();return Bt===null?i.memoizedState=r:Zm(i,Bt.memoizedState,r)},useTransition:function(){var r=Xf(La)[0],i=ur().memoizedState;return[r,i]},useMutableSource:Om,useSyncExternalStore:Fm,useId:eg,unstable_isNewReconciler:!1};function Pr(r,i){if(r&&r.defaultProps){i=de({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Zf(r,i,a,f){i=r.memoizedState,a=a(f,i),a=a==null?i:de({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var mu={isMounted:function(r){return(r=r._reactInternals)?Xe(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var f=Rn(),h=no(r),y=Ei(f,h);y.payload=i,a!=null&&(y.callback=a),i=Ji(r,y,h),i!==null&&(kr(i,r,h,f),au(i,r,h))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var f=Rn(),h=no(r),y=Ei(f,h);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=Ji(r,y,h),i!==null&&(kr(i,r,h,f),au(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Rn(),f=no(r),h=Ei(a,f);h.tag=2,i!=null&&(h.callback=i),i=Ji(r,h,f),i!==null&&(kr(i,r,f,a),au(i,r,f))}};function ig(r,i,a,f,h,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,E):i.prototype&&i.prototype.isPureReactComponent?!wa(a,f)||!wa(h,y):!0}function og(r,i,a){var f=!1,h=Gi,y=i.contextType;return typeof y=="object"&&y!==null?y=lr(y):(h=Mn(i)?Vo:pn.current,f=i.contextTypes,y=(f=f!=null)?As(r,h):Gi),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=mu,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=y),i}function sg(r,i,a,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,f),i.state!==r&&mu.enqueueReplaceState(i,i.state,null)}function ed(r,i,a,f){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Uf(r);var y=i.contextType;typeof y=="object"&&y!==null?h.context=lr(y):(y=Mn(i)?Vo:pn.current,h.context=As(r,y)),h.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Zf(r,i,y,a),h.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&mu.enqueueReplaceState(h,h.state,null),lu(r,a,h,f),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Ms(r,i){try{var a="",f=i;do a+=De(f),f=f.return;while(f);var h=a}catch(y){h=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:h,digest:null}}function td(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function nd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var YE=typeof WeakMap=="function"?WeakMap:Map;function ag(r,i,a){a=Ei(-1,a),a.tag=3,a.payload={element:null};var f=i.value;return a.callback=function(){Tu||(Tu=!0,yd=f),nd(r,i)},a}function lg(r,i,a){a=Ei(-1,a),a.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var h=i.value;a.payload=function(){return f(h)},a.callback=function(){nd(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){nd(r,i),typeof f!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function ug(r,i,a){var f=r.pingCache;if(f===null){f=r.pingCache=new YE;var h=new Set;f.set(i,h)}else h=f.get(i),h===void 0&&(h=new Set,f.set(i,h));h.has(a)||(h.add(a),r=fw.bind(null,r,i,a),i.then(r,r))}function cg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function fg(r,i,a,f,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ei(-1,1),i.tag=2,Ji(a,i,1))),a.lanes|=1),r)}var JE=G.ReactCurrentOwner,On=!1;function In(r,i,a,f){i.child=r===null?bm(i,null,a,f):Ds(i,r.child,a,f)}function dg(r,i,a,f,h){a=a.render;var y=i.ref;return Ls(i,h),f=Kf(r,i,a,f,y,h),a=Qf(),r!==null&&!On?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,wi(r,i,h)):(Rt&&a&&kf(i),i.flags|=1,In(r,i,f,h),i.child)}function hg(r,i,a,f,h){if(r===null){var y=a.type;return typeof y=="function"&&!Cd(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,pg(r,i,y,f,h)):(r=Au(a.type,null,f,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!(r.lanes&h)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:wa,a(E,f)&&r.ref===i.ref)return wi(r,i,h)}return i.flags|=1,r=io(y,f),r.ref=i.ref,r.return=i,i.child=r}function pg(r,i,a,f,h){if(r!==null){var y=r.memoizedProps;if(wa(y,f)&&r.ref===i.ref)if(On=!1,i.pendingProps=f=y,(r.lanes&h)!==0)r.flags&131072&&(On=!0);else return i.lanes=r.lanes,wi(r,i,h)}return rd(r,i,a,f,h)}function mg(r,i,a){var f=i.pendingProps,h=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Fs,Gn),Gn|=a;else{if(!(a&1073741824))return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,yt(Fs,Gn),Gn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:a,yt(Fs,Gn),Gn|=f}else y!==null?(f=y.baseLanes|a,i.memoizedState=null):f=a,yt(Fs,Gn),Gn|=f;return In(r,i,h,a),i.child}function gg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function rd(r,i,a,f,h){var y=Mn(a)?Vo:pn.current;return y=As(i,y),Ls(i,h),a=Kf(r,i,a,f,y,h),f=Qf(),r!==null&&!On?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,wi(r,i,h)):(Rt&&f&&kf(i),i.flags|=1,In(r,i,a,h),i.child)}function yg(r,i,a,f,h){if(Mn(a)){var y=!0;Zl(i)}else y=!1;if(Ls(i,h),i.stateNode===null)yu(r,i),og(i,a,f),ed(i,a,f,h),f=!0;else if(r===null){var E=i.stateNode,b=i.memoizedProps;E.props=b;var F=E.context,X=a.contextType;typeof X=="object"&&X!==null?X=lr(X):(X=Mn(a)?Vo:pn.current,X=As(i,X));var oe=a.getDerivedStateFromProps,ae=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==f||F!==X)&&sg(i,E,f,X),Yi=!1;var ie=i.memoizedState;E.state=ie,lu(i,f,E,h),F=i.memoizedState,b!==f||ie!==F||Vn.current||Yi?(typeof oe=="function"&&(Zf(i,a,oe,f),F=i.memoizedState),(b=Yi||ig(i,a,b,f,ie,F,X))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=F),E.props=f,E.state=F,E.context=X,f=b):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{E=i.stateNode,Nm(r,i),b=i.memoizedProps,X=i.type===i.elementType?b:Pr(i.type,b),E.props=X,ae=i.pendingProps,ie=E.context,F=a.contextType,typeof F=="object"&&F!==null?F=lr(F):(F=Mn(a)?Vo:pn.current,F=As(i,F));var me=a.getDerivedStateFromProps;(oe=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==ae||ie!==F)&&sg(i,E,f,F),Yi=!1,ie=i.memoizedState,E.state=ie,lu(i,f,E,h);var Se=i.memoizedState;b!==ae||ie!==Se||Vn.current||Yi?(typeof me=="function"&&(Zf(i,a,me,f),Se=i.memoizedState),(X=Yi||ig(i,a,X,f,ie,Se,F)||!1)?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,Se,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,Se,F)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&ie===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ie===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Se),E.props=f,E.state=Se,E.context=F,f=X):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&ie===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ie===r.memoizedState||(i.flags|=1024),f=!1)}return id(r,i,a,f,y,h)}function id(r,i,a,f,h,y){gg(r,i);var E=(i.flags&128)!==0;if(!f&&!E)return h&&Tm(i,a,!1),wi(r,i,y);f=i.stateNode,JE.current=i;var b=E&&typeof a.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&E?(i.child=Ds(i,r.child,null,y),i.child=Ds(i,null,b,y)):In(r,i,b,y),i.memoizedState=f.state,h&&Tm(i,a,!0),i.child}function _g(r){var i=r.stateNode;i.pendingContext?Em(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Em(r,i.context,!1),zf(r,i.containerInfo)}function vg(r,i,a,f,h){return bs(),Lf(h),i.flags|=256,In(r,i,a,f),i.child}var od={dehydrated:null,treeContext:null,retryLane:0};function sd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Eg(r,i,a){var f=i.pendingProps,h=xt.current,y=!1,E=(i.flags&128)!==0,b;if((b=E)||(b=r!==null&&r.memoizedState===null?!1:(h&2)!==0),b?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),yt(xt,h&1),r===null)return Nf(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(E=f.children,r=f.fallback,y?(f=i.mode,y=i.child,E={mode:"hidden",children:E},!(f&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=xu(E,f,0,null),r=qo(r,f,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=sd(a),i.memoizedState=od,r):ad(i,E));if(h=r.memoizedState,h!==null&&(b=h.dehydrated,b!==null))return ZE(r,i,E,f,b,h,a);if(y){y=f.fallback,E=i.mode,h=r.child,b=h.sibling;var F={mode:"hidden",children:f.children};return!(E&1)&&i.child!==h?(f=i.child,f.childLanes=0,f.pendingProps=F,i.deletions=null):(f=io(h,F),f.subtreeFlags=h.subtreeFlags&14680064),b!==null?y=io(b,y):(y=qo(y,E,a,null),y.flags|=2),y.return=i,f.return=i,f.sibling=y,i.child=f,f=y,y=i.child,E=r.child.memoizedState,E=E===null?sd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~a,i.memoizedState=od,f}return y=r.child,r=y.sibling,f=io(y,{mode:"visible",children:f.children}),!(i.mode&1)&&(f.lanes=a),f.return=i,f.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=f,i.memoizedState=null,f}function ad(r,i){return i=xu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function gu(r,i,a,f){return f!==null&&Lf(f),Ds(i,r.child,null,a),r=ad(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function ZE(r,i,a,f,h,y,E){if(a)return i.flags&256?(i.flags&=-257,f=td(Error(n(422))),gu(r,i,E,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=f.fallback,h=i.mode,f=xu({mode:"visible",children:f.children},h,0,null),y=qo(y,h,E,null),y.flags|=2,f.return=i,y.return=i,f.sibling=y,i.child=f,i.mode&1&&Ds(i,r.child,null,E),i.child.memoizedState=sd(E),i.memoizedState=od,y);if(!(i.mode&1))return gu(r,i,E,null);if(h.data==="$!"){if(f=h.nextSibling&&h.nextSibling.dataset,f)var b=f.dgst;return f=b,y=Error(n(419)),f=td(y,f,void 0),gu(r,i,E,f)}if(b=(E&r.childLanes)!==0,On||b){if(f=Gt,f!==null){switch(E&-E){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(f.suspendedLanes|E)?0:h,h!==0&&h!==y.retryLane&&(y.retryLane=h,vi(r,h),kr(f,r,h,-1))}return Sd(),f=td(Error(n(421))),gu(r,i,E,f)}return h.data==="$?"?(i.flags|=128,i.child=r.child,i=dw.bind(null,r),h._reactRetry=i,null):(r=y.treeContext,Qn=Ki(h.nextSibling),Kn=i,Rt=!0,Rr=null,r!==null&&(sr[ar++]=yi,sr[ar++]=_i,sr[ar++]=Mo,yi=r.id,_i=r.overflow,Mo=i),i=ad(i,f.children),i.flags|=4096,i)}function wg(r,i,a){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),Ff(r.return,i,a)}function ld(r,i,a,f,h){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:h}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=a,y.tailMode=h)}function Tg(r,i,a){var f=i.pendingProps,h=f.revealOrder,y=f.tail;if(In(r,i,f.children,a),f=xt.current,f&2)f=f&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wg(r,a,i);else if(r.tag===19)wg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(yt(xt,f),!(i.mode&1))i.memoizedState=null;else switch(h){case"forwards":for(a=i.child,h=null;a!==null;)r=a.alternate,r!==null&&uu(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ld(i,!1,h,a,y);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&uu(r)===null){i.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}ld(i,!0,a,null,y);break;case"together":ld(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function yu(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function wi(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),zo|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=io(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=io(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function ew(r,i,a){switch(i.tag){case 3:_g(i),bs();break;case 5:Mm(i);break;case 1:Mn(i.type)&&Zl(i);break;case 4:zf(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,h=i.memoizedProps.value;yt(ou,f._currentValue),f._currentValue=h;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(yt(xt,xt.current&1),i.flags|=128,null):a&i.child.childLanes?Eg(r,i,a):(yt(xt,xt.current&1),r=wi(r,i,a),r!==null?r.sibling:null);yt(xt,xt.current&1);break;case 19:if(f=(a&i.childLanes)!==0,r.flags&128){if(f)return Tg(r,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),yt(xt,xt.current),f)break;return null;case 22:case 23:return i.lanes=0,mg(r,i,a)}return wi(r,i,a)}var Sg,ud,Cg,Ig;Sg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ud=function(){},Cg=function(r,i,a,f){var h=r.memoizedProps;if(h!==f){r=i.stateNode,jo(Gr.current);var y=null;switch(a){case"input":h=At(r,h),f=At(r,f),y=[];break;case"select":h=de({},h,{value:void 0}),f=de({},f,{value:void 0}),y=[];break;case"textarea":h=kn(r,h),f=kn(r,f),y=[];break;default:typeof h.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Xl)}zr(a,f);var E;a=null;for(X in h)if(!f.hasOwnProperty(X)&&h.hasOwnProperty(X)&&h[X]!=null)if(X==="style"){var b=h[X];for(E in b)b.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?y||(y=[]):(y=y||[]).push(X,null));for(X in f){var F=f[X];if(b=h!=null?h[X]:void 0,f.hasOwnProperty(X)&&F!==b&&(F!=null||b!=null))if(X==="style")if(b){for(E in b)!b.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in F)F.hasOwnProperty(E)&&b[E]!==F[E]&&(a||(a={}),a[E]=F[E])}else a||(y||(y=[]),y.push(X,a)),a=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,b=b?b.__html:void 0,F!=null&&b!==F&&(y=y||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&wt("scroll",r),y||b===F||(y=[])):(y=y||[]).push(X,F))}a&&(y=y||[]).push("style",a);var X=y;(i.updateQueue=X)&&(i.flags|=4)}},Ig=function(r,i,a,f){a!==f&&(i.flags|=4)};function Ma(r,i){if(!Rt)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function gn(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,f=0;if(i)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,f|=h.subtreeFlags&14680064,f|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,f|=h.subtreeFlags,f|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=f,r.childLanes=a,i}function tw(r,i,a){var f=i.pendingProps;switch(bf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(i),null;case 1:return Mn(i.type)&&Jl(),gn(i),null;case 3:return f=i.stateNode,Vs(),Tt(Vn),Tt(pn),Hf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(ru(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Rr!==null&&(Ed(Rr),Rr=null))),ud(r,i),gn(i),null;case 5:Bf(i);var h=jo(ba.current);if(a=i.type,r!==null&&i.stateNode!=null)Cg(r,i,a,f,h),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return gn(i),null}if(r=jo(Gr.current),ru(i)){f=i.stateNode,a=i.type;var y=i.memoizedProps;switch(f[Qr]=i,f[Ra]=y,r=(i.mode&1)!==0,a){case"dialog":wt("cancel",f),wt("close",f);break;case"iframe":case"object":case"embed":wt("load",f);break;case"video":case"audio":for(h=0;h<Sa.length;h++)wt(Sa[h],f);break;case"source":wt("error",f);break;case"img":case"image":case"link":wt("error",f),wt("load",f);break;case"details":wt("toggle",f);break;case"input":Or(f,y),wt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},wt("invalid",f);break;case"textarea":hr(f,y),wt("invalid",f)}zr(a,y),h=null;for(var E in y)if(y.hasOwnProperty(E)){var b=y[E];E==="children"?typeof b=="string"?f.textContent!==b&&(y.suppressHydrationWarning!==!0&&Gl(f.textContent,b,r),h=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(y.suppressHydrationWarning!==!0&&Gl(f.textContent,b,r),h=["children",""+b]):s.hasOwnProperty(E)&&b!=null&&E==="onScroll"&&wt("scroll",f)}switch(a){case"input":fn(f),Ni(f,y,!0);break;case"textarea":fn(f),Zt(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Xl)}f=h,i.updateQueue=f,f!==null&&(i.flags|=4)}else{E=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ut(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=E.createElement(a,{is:f.is}):(r=E.createElement(a),a==="select"&&(E=r,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):r=E.createElementNS(r,a),r[Qr]=i,r[Ra]=f,Sg(r,i,!1,!1),i.stateNode=r;e:{switch(E=Mi(a,f),a){case"dialog":wt("cancel",r),wt("close",r),h=f;break;case"iframe":case"object":case"embed":wt("load",r),h=f;break;case"video":case"audio":for(h=0;h<Sa.length;h++)wt(Sa[h],r);h=f;break;case"source":wt("error",r),h=f;break;case"img":case"image":case"link":wt("error",r),wt("load",r),h=f;break;case"details":wt("toggle",r),h=f;break;case"input":Or(r,f),h=At(r,f),wt("invalid",r);break;case"option":h=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},h=de({},f,{value:void 0}),wt("invalid",r);break;case"textarea":hr(r,f),h=kn(r,f),wt("invalid",r);break;default:h=f}zr(a,h),b=h;for(y in b)if(b.hasOwnProperty(y)){var F=b[y];y==="style"?Ro(r,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Qe(r,F)):y==="children"?typeof F=="string"?(a!=="textarea"||F!=="")&&He(r,F):typeof F=="number"&&He(r,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?F!=null&&y==="onScroll"&&wt("scroll",r):F!=null&&z(r,y,F,E))}switch(a){case"input":fn(r),Ni(r,f,!1);break;case"textarea":fn(r),Zt(r);break;case"option":f.value!=null&&r.setAttribute("value",""+qe(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?Ut(r,!!f.multiple,y,!1):f.defaultValue!=null&&Ut(r,!!f.multiple,f.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Xl)}switch(a){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return gn(i),null;case 6:if(r&&i.stateNode!=null)Ig(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(a=jo(ba.current),jo(Gr.current),ru(i)){if(f=i.stateNode,a=i.memoizedProps,f[Qr]=i,(y=f.nodeValue!==a)&&(r=Kn,r!==null))switch(r.tag){case 3:Gl(f.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Gl(f.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else f=(a.nodeType===9?a:a.ownerDocument).createTextNode(f),f[Qr]=i,i.stateNode=f}return gn(i),null;case 13:if(Tt(xt),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Rt&&Qn!==null&&i.mode&1&&!(i.flags&128))Am(),bs(),i.flags|=98560,y=!1;else if(y=ru(i),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Qr]=i}else bs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;gn(i),y=!1}else Rr!==null&&(Ed(Rr),Rr=null),y=!0;if(!y)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,i.mode&1&&(r===null||xt.current&1?$t===0&&($t=3):Sd())),i.updateQueue!==null&&(i.flags|=4),gn(i),null);case 4:return Vs(),ud(r,i),r===null&&Ca(i.stateNode.containerInfo),gn(i),null;case 10:return Of(i.type._context),gn(i),null;case 17:return Mn(i.type)&&Jl(),gn(i),null;case 19:if(Tt(xt),y=i.memoizedState,y===null)return gn(i),null;if(f=(i.flags&128)!==0,E=y.rendering,E===null)if(f)Ma(y,!1);else{if($t!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(E=uu(r),E!==null){for(i.flags|=128,Ma(y,!1),f=E.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=a,a=i.child;a!==null;)y=a,r=f,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return yt(xt,xt.current&1|2),i.child}r=r.sibling}y.tail!==null&&dt()>js&&(i.flags|=128,f=!0,Ma(y,!1),i.lanes=4194304)}else{if(!f)if(r=uu(E),r!==null){if(i.flags|=128,f=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ma(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Rt)return gn(i),null}else 2*dt()-y.renderingStartTime>js&&a!==1073741824&&(i.flags|=128,f=!0,Ma(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(a=y.last,a!==null?a.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=dt(),i.sibling=null,a=xt.current,yt(xt,f?a&1|2:a&1),i):(gn(i),null);case 22:case 23:return Td(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&i.mode&1?Gn&1073741824&&(gn(i),i.subtreeFlags&6&&(i.flags|=8192)):gn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function nw(r,i){switch(bf(i),i.tag){case 1:return Mn(i.type)&&Jl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Vs(),Tt(Vn),Tt(pn),Hf(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Bf(i),null;case 13:if(Tt(xt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));bs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Tt(xt),null;case 4:return Vs(),null;case 10:return Of(i.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var _u=!1,yn=!1,rw=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Os(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(f){Nt(r,i,f)}else a.current=null}function cd(r,i,a){try{a()}catch(f){Nt(r,i,f)}}var Rg=!1;function iw(r,i){if(Tf=Hi,r=im(),pf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var h=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,b=-1,F=-1,X=0,oe=0,ae=r,ie=null;t:for(;;){for(var me;ae!==a||h!==0&&ae.nodeType!==3||(b=E+h),ae!==y||f!==0&&ae.nodeType!==3||(F=E+f),ae.nodeType===3&&(E+=ae.nodeValue.length),(me=ae.firstChild)!==null;)ie=ae,ae=me;for(;;){if(ae===r)break t;if(ie===a&&++X===h&&(b=E),ie===y&&++oe===f&&(F=E),(me=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=me}a=b===-1||F===-1?null:{start:b,end:F}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sf={focusedElem:r,selectionRange:a},Hi=!1,Ee=i;Ee!==null;)if(i=Ee,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Ee=r;else for(;Ee!==null;){i=Ee;try{var Se=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,Lt=Se.memoizedState,K=i.stateNode,B=K.getSnapshotBeforeUpdate(i.elementType===i.type?Ce:Pr(i.type,Ce),Lt);K.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Nt(i,i.return,ue)}if(r=i.sibling,r!==null){r.return=i.return,Ee=r;break}Ee=i.return}return Se=Rg,Rg=!1,Se}function Oa(r,i,a){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var h=f=f.next;do{if((h.tag&r)===r){var y=h.destroy;h.destroy=void 0,y!==void 0&&cd(i,a,y)}h=h.next}while(h!==f)}}function vu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var f=a.create;a.destroy=f()}a=a.next}while(a!==i)}}function fd(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Pg(r){var i=r.alternate;i!==null&&(r.alternate=null,Pg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Qr],delete i[Ra],delete i[Pf],delete i[UE],delete i[zE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ag(r){return r.tag===5||r.tag===3||r.tag===4}function xg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ag(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dd(r,i,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xl));else if(f!==4&&(r=r.child,r!==null))for(dd(r,i,a),r=r.sibling;r!==null;)dd(r,i,a),r=r.sibling}function hd(r,i,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(hd(r,i,a),r=r.sibling;r!==null;)hd(r,i,a),r=r.sibling}var on=null,Ar=!1;function Zi(r,i,a){for(a=a.child;a!==null;)kg(r,i,a),a=a.sibling}function kg(r,i,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Dn,a)}catch{}switch(a.tag){case 5:yn||Os(a,i);case 6:var f=on,h=Ar;on=null,Zi(r,i,a),on=f,Ar=h,on!==null&&(Ar?(r=on,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):on.removeChild(a.stateNode));break;case 18:on!==null&&(Ar?(r=on,a=a.stateNode,r.nodeType===8?Rf(r.parentNode,a):r.nodeType===1&&Rf(r,a),Sr(r)):Rf(on,a.stateNode));break;case 4:f=on,h=Ar,on=a.stateNode.containerInfo,Ar=!0,Zi(r,i,a),on=f,Ar=h;break;case 0:case 11:case 14:case 15:if(!yn&&(f=a.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){h=f=f.next;do{var y=h,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&cd(a,i,E),h=h.next}while(h!==f)}Zi(r,i,a);break;case 1:if(!yn&&(Os(a,i),f=a.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=a.memoizedProps,f.state=a.memoizedState,f.componentWillUnmount()}catch(b){Nt(a,i,b)}Zi(r,i,a);break;case 21:Zi(r,i,a);break;case 22:a.mode&1?(yn=(f=yn)||a.memoizedState!==null,Zi(r,i,a),yn=f):Zi(r,i,a);break;default:Zi(r,i,a)}}function bg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new rw),i.forEach(function(f){var h=hw.bind(null,r,f);a.has(f)||(a.add(f),f.then(h,h))})}}function xr(r,i){var a=i.deletions;if(a!==null)for(var f=0;f<a.length;f++){var h=a[f];try{var y=r,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 5:on=b.stateNode,Ar=!1;break e;case 3:on=b.stateNode.containerInfo,Ar=!0;break e;case 4:on=b.stateNode.containerInfo,Ar=!0;break e}b=b.return}if(on===null)throw Error(n(160));kg(y,E,h),on=null,Ar=!1;var F=h.alternate;F!==null&&(F.return=null),h.return=null}catch(X){Nt(h,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Dg(i,r),i=i.sibling}function Dg(r,i){var a=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(xr(i,r),Yr(r),f&4){try{Oa(3,r,r.return),vu(3,r)}catch(Ce){Nt(r,r.return,Ce)}try{Oa(5,r,r.return)}catch(Ce){Nt(r,r.return,Ce)}}break;case 1:xr(i,r),Yr(r),f&512&&a!==null&&Os(a,a.return);break;case 5:if(xr(i,r),Yr(r),f&512&&a!==null&&Os(a,a.return),r.flags&32){var h=r.stateNode;try{He(h,"")}catch(Ce){Nt(r,r.return,Ce)}}if(f&4&&(h=r.stateNode,h!=null)){var y=r.memoizedProps,E=a!==null?a.memoizedProps:y,b=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{b==="input"&&y.type==="radio"&&y.name!=null&&Fr(h,y),Mi(b,E);var X=Mi(b,y);for(E=0;E<F.length;E+=2){var oe=F[E],ae=F[E+1];oe==="style"?Ro(h,ae):oe==="dangerouslySetInnerHTML"?Qe(h,ae):oe==="children"?He(h,ae):z(h,oe,ae,X)}switch(b){case"input":nr(h,y);break;case"textarea":rr(h,y);break;case"select":var ie=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Ut(h,!!y.multiple,me,!1):ie!==!!y.multiple&&(y.defaultValue!=null?Ut(h,!!y.multiple,y.defaultValue,!0):Ut(h,!!y.multiple,y.multiple?[]:"",!1))}h[Ra]=y}catch(Ce){Nt(r,r.return,Ce)}}break;case 6:if(xr(i,r),Yr(r),f&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,y=r.memoizedProps;try{h.nodeValue=y}catch(Ce){Nt(r,r.return,Ce)}}break;case 3:if(xr(i,r),Yr(r),f&4&&a!==null&&a.memoizedState.isDehydrated)try{Sr(i.containerInfo)}catch(Ce){Nt(r,r.return,Ce)}break;case 4:xr(i,r),Yr(r);break;case 13:xr(i,r),Yr(r),h=r.child,h.flags&8192&&(y=h.memoizedState!==null,h.stateNode.isHidden=y,!y||h.alternate!==null&&h.alternate.memoizedState!==null||(gd=dt())),f&4&&bg(r);break;case 22:if(oe=a!==null&&a.memoizedState!==null,r.mode&1?(yn=(X=yn)||oe,xr(i,r),yn=X):xr(i,r),Yr(r),f&8192){if(X=r.memoizedState!==null,(r.stateNode.isHidden=X)&&!oe&&r.mode&1)for(Ee=r,oe=r.child;oe!==null;){for(ae=Ee=oe;Ee!==null;){switch(ie=Ee,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:Oa(4,ie,ie.return);break;case 1:Os(ie,ie.return);var Se=ie.stateNode;if(typeof Se.componentWillUnmount=="function"){f=ie,a=ie.return;try{i=f,Se.props=i.memoizedProps,Se.state=i.memoizedState,Se.componentWillUnmount()}catch(Ce){Nt(f,a,Ce)}}break;case 5:Os(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Vg(ae);continue}}me!==null?(me.return=ie,Ee=me):Vg(ae)}oe=oe.sibling}e:for(oe=null,ae=r;;){if(ae.tag===5){if(oe===null){oe=ae;try{h=ae.stateNode,X?(y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(b=ae.stateNode,F=ae.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,b.style.display=Li("display",E))}catch(Ce){Nt(r,r.return,Ce)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(Ce){Nt(r,r.return,Ce)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===r)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===r)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===r)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:xr(i,r),Yr(r),f&4&&bg(r);break;case 21:break;default:xr(i,r),Yr(r)}}function Yr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Ag(a)){var f=a;break e}a=a.return}throw Error(n(160))}switch(f.tag){case 5:var h=f.stateNode;f.flags&32&&(He(h,""),f.flags&=-33);var y=xg(r);hd(r,y,h);break;case 3:case 4:var E=f.stateNode.containerInfo,b=xg(r);dd(r,b,E);break;default:throw Error(n(161))}}catch(F){Nt(r,r.return,F)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function ow(r,i,a){Ee=r,Ng(r)}function Ng(r,i,a){for(var f=(r.mode&1)!==0;Ee!==null;){var h=Ee,y=h.child;if(h.tag===22&&f){var E=h.memoizedState!==null||_u;if(!E){var b=h.alternate,F=b!==null&&b.memoizedState!==null||yn;b=_u;var X=yn;if(_u=E,(yn=F)&&!X)for(Ee=h;Ee!==null;)E=Ee,F=E.child,E.tag===22&&E.memoizedState!==null?Mg(h):F!==null?(F.return=E,Ee=F):Mg(h);for(;y!==null;)Ee=y,Ng(y),y=y.sibling;Ee=h,_u=b,yn=X}Lg(r)}else h.subtreeFlags&8772&&y!==null?(y.return=h,Ee=y):Lg(r)}}function Lg(r){for(;Ee!==null;){var i=Ee;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:yn||vu(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!yn)if(a===null)f.componentDidMount();else{var h=i.elementType===i.type?a.memoizedProps:Pr(i.type,a.memoizedProps);f.componentDidUpdate(h,a.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Vm(i,y,f);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Vm(i,E,a)}break;case 5:var b=i.stateNode;if(a===null&&i.flags&4){a=b;var F=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&a.focus();break;case"img":F.src&&(a.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var oe=X.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Sr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||i.flags&512&&fd(i)}catch(ie){Nt(i,i.return,ie)}}if(i===r){Ee=null;break}if(a=i.sibling,a!==null){a.return=i.return,Ee=a;break}Ee=i.return}}function Vg(r){for(;Ee!==null;){var i=Ee;if(i===r){Ee=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Ee=a;break}Ee=i.return}}function Mg(r){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{vu(4,i)}catch(F){Nt(i,a,F)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var h=i.return;try{f.componentDidMount()}catch(F){Nt(i,h,F)}}var y=i.return;try{fd(i)}catch(F){Nt(i,y,F)}break;case 5:var E=i.return;try{fd(i)}catch(F){Nt(i,E,F)}}}catch(F){Nt(i,i.return,F)}if(i===r){Ee=null;break}var b=i.sibling;if(b!==null){b.return=i.return,Ee=b;break}Ee=i.return}}var sw=Math.ceil,Eu=G.ReactCurrentDispatcher,pd=G.ReactCurrentOwner,cr=G.ReactCurrentBatchConfig,st=0,Gt=null,Ft=null,sn=0,Gn=0,Fs=Qi(0),$t=0,Fa=null,zo=0,wu=0,md=0,ja=null,Fn=null,gd=0,js=1/0,Ti=null,Tu=!1,yd=null,eo=null,Su=!1,to=null,Cu=0,Ua=0,_d=null,Iu=-1,Ru=0;function Rn(){return st&6?dt():Iu!==-1?Iu:Iu=dt()}function no(r){return r.mode&1?st&2&&sn!==0?sn&-sn:$E.transition!==null?(Ru===0&&(Ru=xo()),Ru):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:pa(r.type)),r):1}function kr(r,i,a,f){if(50<Ua)throw Ua=0,_d=null,Error(n(185));Ui(r,a,f),(!(st&2)||r!==Gt)&&(r===Gt&&(!(st&2)&&(wu|=a),$t===4&&ro(r,sn)),jn(r,f),a===1&&st===0&&!(i.mode&1)&&(js=dt()+500,eu&&Xi()))}function jn(r,i){var a=r.callbackNode;ci(r,i);var f=Ao(r,r===Gt?sn:0);if(f===0)a!==null&&li(a),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(a!=null&&li(a),i===1)r.tag===0?BE(Fg.bind(null,r)):Sm(Fg.bind(null,r)),FE(function(){!(st&6)&&Xi()}),a=null;else{switch(Bi(f)){case 1:a=tt;break;case 4:a=vt;break;case 16:a=tn;break;case 536870912:a=Et;break;default:a=tn}a=Wg(a,Og.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Og(r,i){if(Iu=-1,Ru=0,st&6)throw Error(n(327));var a=r.callbackNode;if(Us()&&r.callbackNode!==a)return null;var f=Ao(r,r===Gt?sn:0);if(f===0)return null;if(f&30||f&r.expiredLanes||i)i=Pu(r,f);else{i=f;var h=st;st|=2;var y=Ug();(Gt!==r||sn!==i)&&(Ti=null,js=dt()+500,$o(r,i));do try{uw();break}catch(b){jg(r,b)}while(!0);Mf(),Eu.current=y,st=h,Ft!==null?i=0:(Gt=null,sn=0,i=$t)}if(i!==0){if(i===2&&(h=Hn(r),h!==0&&(f=h,i=vd(r,h))),i===1)throw a=Fa,$o(r,0),ro(r,f),jn(r,dt()),a;if(i===6)ro(r,f);else{if(h=r.current.alternate,!(f&30)&&!aw(h)&&(i=Pu(r,f),i===2&&(y=Hn(r),y!==0&&(f=y,i=vd(r,y))),i===1))throw a=Fa,$o(r,0),ro(r,f),jn(r,dt()),a;switch(r.finishedWork=h,r.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:Ho(r,Fn,Ti);break;case 3:if(ro(r,f),(f&130023424)===f&&(i=gd+500-dt(),10<i)){if(Ao(r,0)!==0)break;if(h=r.suspendedLanes,(h&f)!==f){Rn(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=If(Ho.bind(null,r,Fn,Ti),i);break}Ho(r,Fn,Ti);break;case 4:if(ro(r,f),(f&4194240)===f)break;for(i=r.eventTimes,h=-1;0<f;){var E=31-Sn(f);y=1<<E,E=i[E],E>h&&(h=E),f&=~y}if(f=h,f=dt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*sw(f/1960))-f,10<f){r.timeoutHandle=If(Ho.bind(null,r,Fn,Ti),f);break}Ho(r,Fn,Ti);break;case 5:Ho(r,Fn,Ti);break;default:throw Error(n(329))}}}return jn(r,dt()),r.callbackNode===a?Og.bind(null,r):null}function vd(r,i){var a=ja;return r.current.memoizedState.isDehydrated&&($o(r,i).flags|=256),r=Pu(r,i),r!==2&&(i=Fn,Fn=a,i!==null&&Ed(i)),r}function Ed(r){Fn===null?Fn=r:Fn.push.apply(Fn,r)}function aw(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var f=0;f<a.length;f++){var h=a[f],y=h.getSnapshot;h=h.value;try{if(!Ir(y(),h))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ro(r,i){for(i&=~md,i&=~wu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Sn(i),f=1<<a;r[a]=-1,i&=~f}}function Fg(r){if(st&6)throw Error(n(327));Us();var i=Ao(r,0);if(!(i&1))return jn(r,dt()),null;var a=Pu(r,i);if(r.tag!==0&&a===2){var f=Hn(r);f!==0&&(i=f,a=vd(r,f))}if(a===1)throw a=Fa,$o(r,0),ro(r,i),jn(r,dt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ho(r,Fn,Ti),jn(r,dt()),null}function wd(r,i){var a=st;st|=1;try{return r(i)}finally{st=a,st===0&&(js=dt()+500,eu&&Xi())}}function Bo(r){to!==null&&to.tag===0&&!(st&6)&&Us();var i=st;st|=1;var a=cr.transition,f=Ye;try{if(cr.transition=null,Ye=1,r)return r()}finally{Ye=f,cr.transition=a,st=i,!(st&6)&&Xi()}}function Td(){Gn=Fs.current,Tt(Fs)}function $o(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,OE(a)),Ft!==null)for(a=Ft.return;a!==null;){var f=a;switch(bf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Jl();break;case 3:Vs(),Tt(Vn),Tt(pn),Hf();break;case 5:Bf(f);break;case 4:Vs();break;case 13:Tt(xt);break;case 19:Tt(xt);break;case 10:Of(f.type._context);break;case 22:case 23:Td()}a=a.return}if(Gt=r,Ft=r=io(r.current,null),sn=Gn=i,$t=0,Fa=null,md=wu=zo=0,Fn=ja=null,Fo!==null){for(i=0;i<Fo.length;i++)if(a=Fo[i],f=a.interleaved,f!==null){a.interleaved=null;var h=f.next,y=a.pending;if(y!==null){var E=y.next;y.next=h,f.next=E}a.pending=f}Fo=null}return r}function jg(r,i){do{var a=Ft;try{if(Mf(),cu.current=pu,fu){for(var f=kt.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}fu=!1}if(Uo=0,Qt=Bt=kt=null,Da=!1,Na=0,pd.current=null,a===null||a.return===null){$t=1,Fa=i,Ft=null;break}e:{var y=r,E=a.return,b=a,F=i;if(i=sn,b.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,oe=b,ae=oe.tag;if(!(oe.mode&1)&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=cg(E);if(me!==null){me.flags&=-257,fg(me,E,b,y,i),me.mode&1&&ug(y,X,i),i=me,F=X;var Se=i.updateQueue;if(Se===null){var Ce=new Set;Ce.add(F),i.updateQueue=Ce}else Se.add(F);break e}else{if(!(i&1)){ug(y,X,i),Sd();break e}F=Error(n(426))}}else if(Rt&&b.mode&1){var Lt=cg(E);if(Lt!==null){!(Lt.flags&65536)&&(Lt.flags|=256),fg(Lt,E,b,y,i),Lf(Ms(F,b));break e}}y=F=Ms(F,b),$t!==4&&($t=2),ja===null?ja=[y]:ja.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var K=ag(y,F,i);Lm(y,K);break e;case 1:b=F;var B=y.type,Q=y.stateNode;if(!(y.flags&128)&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(eo===null||!eo.has(Q)))){y.flags|=65536,i&=-i,y.lanes|=i;var ue=lg(y,b,i);Lm(y,ue);break e}}y=y.return}while(y!==null)}Bg(a)}catch(Ie){i=Ie,Ft===a&&a!==null&&(Ft=a=a.return);continue}break}while(!0)}function Ug(){var r=Eu.current;return Eu.current=pu,r===null?pu:r}function Sd(){($t===0||$t===3||$t===2)&&($t=4),Gt===null||!(zo&268435455)&&!(wu&268435455)||ro(Gt,sn)}function Pu(r,i){var a=st;st|=2;var f=Ug();(Gt!==r||sn!==i)&&(Ti=null,$o(r,i));do try{lw();break}catch(h){jg(r,h)}while(!0);if(Mf(),st=a,Eu.current=f,Ft!==null)throw Error(n(261));return Gt=null,sn=0,$t}function lw(){for(;Ft!==null;)zg(Ft)}function uw(){for(;Ft!==null&&!Br();)zg(Ft)}function zg(r){var i=qg(r.alternate,r,Gn);r.memoizedProps=r.pendingProps,i===null?Bg(r):Ft=i,pd.current=null}function Bg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=nw(a,i),a!==null){a.flags&=32767,Ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{$t=6,Ft=null;return}}else if(a=tw(a,i,Gn),a!==null){Ft=a;return}if(i=i.sibling,i!==null){Ft=i;return}Ft=i=r}while(i!==null);$t===0&&($t=5)}function Ho(r,i,a){var f=Ye,h=cr.transition;try{cr.transition=null,Ye=1,cw(r,i,a,f)}finally{cr.transition=h,Ye=f}return null}function cw(r,i,a,f){do Us();while(to!==null);if(st&6)throw Error(n(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(gt(r,y),r===Gt&&(Ft=Gt=null,sn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Su||(Su=!0,Wg(tn,function(){return Us(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=cr.transition,cr.transition=null;var E=Ye;Ye=1;var b=st;st|=4,pd.current=null,iw(r,a),Dg(a,r),kE(Sf),Hi=!!Tf,Sf=Tf=null,r.current=a,ow(a),_r(),st=b,Ye=E,cr.transition=y}else r.current=a;if(Su&&(Su=!1,to=r,Cu=h),y=r.pendingLanes,y===0&&(eo=null),as(a.stateNode),jn(r,dt()),i!==null)for(f=r.onRecoverableError,a=0;a<i.length;a++)h=i[a],f(h.value,{componentStack:h.stack,digest:h.digest});if(Tu)throw Tu=!1,r=yd,yd=null,r;return Cu&1&&r.tag!==0&&Us(),y=r.pendingLanes,y&1?r===_d?Ua++:(Ua=0,_d=r):Ua=0,Xi(),null}function Us(){if(to!==null){var r=Bi(Cu),i=cr.transition,a=Ye;try{if(cr.transition=null,Ye=16>r?16:r,to===null)var f=!1;else{if(r=to,to=null,Cu=0,st&6)throw Error(n(331));var h=st;for(st|=4,Ee=r.current;Ee!==null;){var y=Ee,E=y.child;if(Ee.flags&16){var b=y.deletions;if(b!==null){for(var F=0;F<b.length;F++){var X=b[F];for(Ee=X;Ee!==null;){var oe=Ee;switch(oe.tag){case 0:case 11:case 15:Oa(8,oe,y)}var ae=oe.child;if(ae!==null)ae.return=oe,Ee=ae;else for(;Ee!==null;){oe=Ee;var ie=oe.sibling,me=oe.return;if(Pg(oe),oe===X){Ee=null;break}if(ie!==null){ie.return=me,Ee=ie;break}Ee=me}}}var Se=y.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var Lt=Ce.sibling;Ce.sibling=null,Ce=Lt}while(Ce!==null)}}Ee=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,Ee=E;else e:for(;Ee!==null;){if(y=Ee,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Oa(9,y,y.return)}var K=y.sibling;if(K!==null){K.return=y.return,Ee=K;break e}Ee=y.return}}var B=r.current;for(Ee=B;Ee!==null;){E=Ee;var Q=E.child;if(E.subtreeFlags&2064&&Q!==null)Q.return=E,Ee=Q;else e:for(E=B;Ee!==null;){if(b=Ee,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:vu(9,b)}}catch(Ie){Nt(b,b.return,Ie)}if(b===E){Ee=null;break e}var ue=b.sibling;if(ue!==null){ue.return=b.return,Ee=ue;break e}Ee=b.return}}if(st=h,Xi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Dn,r)}catch{}f=!0}return f}finally{Ye=a,cr.transition=i}}return!1}function $g(r,i,a){i=Ms(a,i),i=ag(r,i,1),r=Ji(r,i,1),i=Rn(),r!==null&&(Ui(r,1,i),jn(r,i))}function Nt(r,i,a){if(r.tag===3)$g(r,r,a);else for(;i!==null;){if(i.tag===3){$g(i,r,a);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(eo===null||!eo.has(f))){r=Ms(a,r),r=lg(i,r,1),i=Ji(i,r,1),r=Rn(),i!==null&&(Ui(i,1,r),jn(i,r));break}}i=i.return}}function fw(r,i,a){var f=r.pingCache;f!==null&&f.delete(i),i=Rn(),r.pingedLanes|=r.suspendedLanes&a,Gt===r&&(sn&a)===a&&($t===4||$t===3&&(sn&130023424)===sn&&500>dt()-gd?$o(r,0):md|=a),jn(r,i)}function Hg(r,i){i===0&&(r.mode&1?(i=us,us<<=1,!(us&130023424)&&(us=4194304)):i=1);var a=Rn();r=vi(r,i),r!==null&&(Ui(r,i,a),jn(r,a))}function dw(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Hg(r,a)}function hw(r,i){var a=0;switch(r.tag){case 13:var f=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),Hg(r,a)}var qg;qg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Vn.current)On=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return On=!1,ew(r,i,a);On=!!(r.flags&131072)}else On=!1,Rt&&i.flags&1048576&&Cm(i,nu,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;yu(r,i),r=i.pendingProps;var h=As(i,pn.current);Ls(i,a),h=Kf(null,i,f,r,h,a);var y=Qf();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Mn(f)?(y=!0,Zl(i)):y=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Uf(i),h.updater=mu,i.stateNode=h,h._reactInternals=i,ed(i,f,r,a),i=id(null,i,f,!0,y,a)):(i.tag=0,Rt&&y&&kf(i),In(null,i,h,a),i=i.child),i;case 16:f=i.elementType;e:{switch(yu(r,i),r=i.pendingProps,h=f._init,f=h(f._payload),i.type=f,h=i.tag=mw(f),r=Pr(f,r),h){case 0:i=rd(null,i,f,r,a);break e;case 1:i=yg(null,i,f,r,a);break e;case 11:i=dg(null,i,f,r,a);break e;case 14:i=hg(null,i,f,Pr(f.type,r),a);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:Pr(f,h),rd(r,i,f,h,a);case 1:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:Pr(f,h),yg(r,i,f,h,a);case 3:e:{if(_g(i),r===null)throw Error(n(387));f=i.pendingProps,y=i.memoizedState,h=y.element,Nm(r,i),lu(i,f,null,a);var E=i.memoizedState;if(f=E.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){h=Ms(Error(n(423)),i),i=vg(r,i,f,a,h);break e}else if(f!==h){h=Ms(Error(n(424)),i),i=vg(r,i,f,a,h);break e}else for(Qn=Ki(i.stateNode.containerInfo.firstChild),Kn=i,Rt=!0,Rr=null,a=bm(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bs(),f===h){i=wi(r,i,a);break e}In(r,i,f,a)}i=i.child}return i;case 5:return Mm(i),r===null&&Nf(i),f=i.type,h=i.pendingProps,y=r!==null?r.memoizedProps:null,E=h.children,Cf(f,h)?E=null:y!==null&&Cf(f,y)&&(i.flags|=32),gg(r,i),In(r,i,E,a),i.child;case 6:return r===null&&Nf(i),null;case 13:return Eg(r,i,a);case 4:return zf(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Ds(i,null,f,a):In(r,i,f,a),i.child;case 11:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:Pr(f,h),dg(r,i,f,h,a);case 7:return In(r,i,i.pendingProps,a),i.child;case 8:return In(r,i,i.pendingProps.children,a),i.child;case 12:return In(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(f=i.type._context,h=i.pendingProps,y=i.memoizedProps,E=h.value,yt(ou,f._currentValue),f._currentValue=E,y!==null)if(Ir(y.value,E)){if(y.children===h.children&&!Vn.current){i=wi(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){E=y.child;for(var F=b.firstContext;F!==null;){if(F.context===f){if(y.tag===1){F=Ei(-1,a&-a),F.tag=2;var X=y.updateQueue;if(X!==null){X=X.shared;var oe=X.pending;oe===null?F.next=F:(F.next=oe.next,oe.next=F),X.pending=F}}y.lanes|=a,F=y.alternate,F!==null&&(F.lanes|=a),Ff(y.return,a,i),b.lanes|=a;break}F=F.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=a,b=E.alternate,b!==null&&(b.lanes|=a),Ff(E,a,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}In(r,i,h.children,a),i=i.child}return i;case 9:return h=i.type,f=i.pendingProps.children,Ls(i,a),h=lr(h),f=f(h),i.flags|=1,In(r,i,f,a),i.child;case 14:return f=i.type,h=Pr(f,i.pendingProps),h=Pr(f.type,h),hg(r,i,f,h,a);case 15:return pg(r,i,i.type,i.pendingProps,a);case 17:return f=i.type,h=i.pendingProps,h=i.elementType===f?h:Pr(f,h),yu(r,i),i.tag=1,Mn(f)?(r=!0,Zl(i)):r=!1,Ls(i,a),og(i,f,h),ed(i,f,h,a),id(null,i,f,!0,r,a);case 19:return Tg(r,i,a);case 22:return mg(r,i,a)}throw Error(n(156,i.tag))};function Wg(r,i){return en(r,i)}function pw(r,i,a,f){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(r,i,a,f){return new pw(r,i,a,f)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mw(r){if(typeof r=="function")return Cd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===je)return 14}return 2}function io(r,i){var a=r.alternate;return a===null?(a=fr(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Au(r,i,a,f,h,y){var E=2;if(f=r,typeof r=="function")Cd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case A:return qo(a.children,h,y,i);case S:E=8,h|=8;break;case P:return r=fr(12,a,i,h|2),r.elementType=P,r.lanes=y,r;case x:return r=fr(13,a,i,h),r.elementType=x,r.lanes=y,r;case et:return r=fr(19,a,i,h),r.elementType=et,r.lanes=y,r;case Te:return xu(a,h,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case V:E=9;break e;case U:E=11;break e;case je:E=14;break e;case at:E=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=fr(E,a,i,h),i.elementType=r,i.type=f,i.lanes=y,i}function qo(r,i,a,f){return r=fr(7,r,f,i),r.lanes=a,r}function xu(r,i,a,f){return r=fr(22,r,f,i),r.elementType=Te,r.lanes=a,r.stateNode={isHidden:!1},r}function Id(r,i,a){return r=fr(6,r,null,i),r.lanes=a,r}function Rd(r,i,a){return i=fr(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function gw(r,i,a,f,h){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ji(0),this.expirationTimes=ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.identifierPrefix=f,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Pd(r,i,a,f,h,y,E,b,F){return r=new gw(r,i,a,b,F),i===1?(i=1,y===!0&&(i|=8)):i=0,y=fr(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(y),r}function yw(r,i,a){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:f==null?null:""+f,children:r,containerInfo:i,implementation:a}}function Kg(r){if(!r)return Gi;r=r._reactInternals;e:{if(Xe(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Mn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Mn(a))return wm(r,a,i)}return i}function Qg(r,i,a,f,h,y,E,b,F){return r=Pd(a,f,!0,r,h,y,E,b,F),r.context=Kg(null),a=r.current,f=Rn(),h=no(a),y=Ei(f,h),y.callback=i??null,Ji(a,y,h),r.current.lanes=h,Ui(r,h,f),jn(r,f),r}function ku(r,i,a,f){var h=i.current,y=Rn(),E=no(h);return a=Kg(a),i.context===null?i.context=a:i.pendingContext=a,i=Ei(y,E),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Ji(h,i,E),r!==null&&(kr(r,h,E,y),au(r,h,E)),E}function bu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Gg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Ad(r,i){Gg(r,i),(r=r.alternate)&&Gg(r,i)}var Xg=typeof reportError=="function"?reportError:function(r){console.error(r)};function xd(r){this._internalRoot=r}Du.prototype.render=xd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));ku(r,i,null,null)},Du.prototype.unmount=xd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Bo(function(){ku(null,r,null,null)}),i[mi]=null}};function Du(r){this._internalRoot=r}Du.prototype.unstable_scheduleHydration=function(r){if(r){var i=Dl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,r),a===0&&Vl(r)}};function kd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Nu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function _w(r,i,a,f,h){if(h){if(typeof f=="function"){var y=f;f=function(){var X=bu(E);y.call(X)}}var E=Qg(i,f,r,0,null,!1,!1,"",Yg);return r._reactRootContainer=E,r[mi]=E.current,Ca(r.nodeType===8?r.parentNode:r),Bo(),E}for(;h=r.lastChild;)r.removeChild(h);if(typeof f=="function"){var b=f;f=function(){var X=bu(F);b.call(X)}}var F=Pd(r,0,!1,null,null,!1,!1,"",Yg);return r._reactRootContainer=F,r[mi]=F.current,Ca(r.nodeType===8?r.parentNode:r),Bo(function(){ku(i,F,a,f)}),F}function Lu(r,i,a,f,h){var y=a._reactRootContainer;if(y){var E=y;if(typeof h=="function"){var b=h;h=function(){var F=bu(E);b.call(F)}}ku(i,E,r,h)}else E=_w(a,i,r,h,f);return bu(E)}kl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Fi(i.pendingLanes);a!==0&&(zi(i,a|1),jn(i,dt()),!(st&6)&&(js=dt()+500,Xi()))}break;case 13:Bo(function(){var f=vi(r,1);if(f!==null){var h=Rn();kr(f,r,1,h)}}),Ad(r,1)}},cs=function(r){if(r.tag===13){var i=vi(r,134217728);if(i!==null){var a=Rn();kr(i,r,134217728,a)}Ad(r,134217728)}},bl=function(r){if(r.tag===13){var i=no(r),a=vi(r,i);if(a!==null){var f=Rn();kr(a,r,i,f)}Ad(r,i)}},Dl=function(){return Ye},Nl=function(r,i){var a=Ye;try{return Ye=r,i()}finally{Ye=a}},si=function(r,i,a){switch(i){case"input":if(nr(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var f=a[i];if(f!==r&&f.form===r.form){var h=Yl(f);if(!h)throw Error(n(90));tr(f),nr(f,h)}}}break;case"textarea":rr(r,a);break;case"select":i=a.value,i!=null&&Ut(r,!!a.multiple,i,!1)}},ai=wd,j=Bo;var vw={usingClientEntryPoint:!1,Events:[Pa,Rs,Yl,Tn,Po,wd]},za={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ew={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=yr(r),r===null?null:r.stateNode},findFiberByHostInstance:za.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Dn=Vu.inject(Ew),hn=Vu}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw,Un.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kd(i))throw Error(n(200));return yw(r,i,null,a)},Un.createRoot=function(r,i){if(!kd(r))throw Error(n(299));var a=!1,f="",h=Xg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=Pd(r,1,!1,null,null,a,!1,f,h),r[mi]=i.current,Ca(r.nodeType===8?r.parentNode:r),new xd(i)},Un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=yr(i),r=r===null?null:r.stateNode,r},Un.flushSync=function(r){return Bo(r)},Un.hydrate=function(r,i,a){if(!Nu(i))throw Error(n(200));return Lu(null,r,i,!0,a)},Un.hydrateRoot=function(r,i,a){if(!kd(r))throw Error(n(405));var f=a!=null&&a.hydratedSources||null,h=!1,y="",E=Xg;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=Qg(i,null,r,1,a??null,h,!1,y,E),r[mi]=i.current,Ca(r),f)for(r=0;r<f.length;r++)a=f[r],h=a._getVersion,h=h(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,h]:i.mutableSourceEagerHydrationData.push(a,h);return new Du(i)},Un.render=function(r,i,a){if(!Nu(i))throw Error(n(200));return Lu(null,r,i,!1,a)},Un.unmountComponentAtNode=function(r){if(!Nu(r))throw Error(n(40));return r._reactRootContainer?(Bo(function(){Lu(null,null,r,!1,function(){r._reactRootContainer=null,r[mi]=null})}),!0):!1},Un.unstable_batchedUpdates=wd,Un.unstable_renderSubtreeIntoContainer=function(r,i,a,f){if(!Nu(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Lu(r,i,a,!1,f)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var oy;function G_(){if(oy)return Ld.exports;oy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ld.exports=xw(),Ld.exports}var sy;function kw(){if(sy)return Mu;sy=1;var t=G_();return Mu.createRoot=t.createRoot,Mu.hydrateRoot=t.hydrateRoot,Mu}var bw=kw();const Dw=kc(bw);var $a={},ay;function Nw(){if(ay)return $a;ay=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.parse=c,$a.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,I){const R=new l,M=w.length;if(M<2)return R;const k=(I==null?void 0:I.decode)||_;let L=0;do{const O=w.indexOf("=",L);if(O===-1)break;const z=w.indexOf(";",L),G=z===-1?M:z;if(O>G){L=w.lastIndexOf(";",O-1)+1;continue}const N=d(w,L,O),ee=p(w,O,N),A=w.slice(N,ee);if(R[A]===void 0){let S=d(w,O+1,G),P=p(w,G,S);const D=k(w.slice(S,P));R[A]=D}L=G+1}while(L<M);return R}function d(w,I,R){do{const M=w.charCodeAt(I);if(M!==32&&M!==9)return I}while(++I<R);return R}function p(w,I,R){for(;I>R;){const M=w.charCodeAt(--I);if(M!==32&&M!==9)return I+1}return R}function g(w,I,R){const M=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=M(I);if(!e.test(k))throw new TypeError(`argument val is invalid: ${I}`);let L=w+"="+k;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!o.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return s.call(w)==="[object Date]"}return $a}Nw();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ly="popstate";function Lw(t={}){function e(s,l){let{pathname:c="/",search:d="",hash:p=""}=Di(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),al("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=s.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:mo(l))}function o(s,l){Jt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Mw(e,n,o,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vw(){return Math.random().toString(36).substring(2,10)}function uy(t,e){return{usr:t.state,key:t.key,idx:e}}function al(t,e,n=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Di(e):e,state:n,key:e&&e.key||o||Vw()}}function mo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function Mw(t,e,n,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,c=s.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=_(),L=k==null?null:k-g;g=k,p&&p({action:d,location:M.location,delta:L})}function w(k,L){d="PUSH";let O=al(M.location,k,L);n(O,k),g=_()+1;let z=uy(O,g),G=M.createHref(O);try{c.pushState(z,"",G)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(G)}l&&p&&p({action:d,location:M.location,delta:1})}function I(k,L){d="REPLACE";let O=al(M.location,k,L);n(O,k),g=_();let z=uy(O,g),G=M.createHref(O);c.replaceState(z,"",G),l&&p&&p({action:d,location:M.location,delta:0})}function R(k){let L=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof k=="string"?k:mo(k);return O=O.replace(/ $/,"%20"),Ze(L,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,L)}let M={get action(){return d},get location(){return t(s,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(ly,T),p=k,()=>{s.removeEventListener(ly,T),p=null}},createHref(k){return e(s,k)},createURL:R,encodeLocation(k){let L=R(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:I,go(k){return c.go(k)}};return M}var Ow=new Set(["lazy","caseSensitive","path","id","index","children"]);function Fw(t){return t.index===!0}function sc(t,e,n=[],o={}){return t.map((s,l)=>{let c=[...n,String(l)],d=typeof s.id=="string"?s.id:c.join("-");if(Ze(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ze(!o[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Fw(s)){let p={...s,...e(s),id:d};return o[d]=p,p}else{let p={...s,...e(s),id:d,children:void 0};return o[d]=p,s.children&&(p.children=sc(s.children,e,c,o)),p}})}function lo(t,e,n="/"){return Xu(t,e,n,!1)}function Xu(t,e,n,o){let s=typeof e=="string"?Di(e):e,l=Vr(s.pathname||"/",n);if(l==null)return null;let c=X_(t);Uw(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=Yw(l);d=Gw(c[p],g,o)}return d}function jw(t,e){let{route:n,pathname:o,params:s}=t;return{id:n.id,pathname:o,params:s,data:e[n.id],handle:n.handle}}function X_(t,e=[],n=[],o=""){let s=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Ze(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let g=Zr([o,p.relativePath]),_=n.concat(p);l.children&&l.children.length>0&&(Ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),X_(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Kw(g,l.index),routesMeta:_})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let p of Y_(l.path))s(l,c,p)}),e}function Y_(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let c=Y_(o.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function Uw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Qw(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var zw=/^:[\w-]+$/,Bw=3,$w=2,Hw=1,qw=10,Ww=-2,cy=t=>t==="*";function Kw(t,e){let n=t.split("/"),o=n.length;return n.some(cy)&&(o+=Ww),e&&(o+=$w),n.filter(s=>!cy(s)).reduce((s,l)=>s+(zw.test(l)?Bw:l===""?Hw:qw),o)}function Qw(t,e){return t.length===e.length&&t.slice(0,-1).every((o,s)=>o===e[s])?t[t.length-1]-e[e.length-1]:0}function Gw(t,e,n=!1){let{routesMeta:o}=t,s={},l="/",c=[];for(let d=0;d<o.length;++d){let p=o[d],g=d===o.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=ac({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&n&&!o[o.length-1].route.index&&(T=ac({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:Zr([l,T.pathname]),pathnameBase:eT(Zr([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Zr([l,T.pathnameBase]))}return c}function ac(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=Xw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:o.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let R=d[w]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const I=d[w];return T&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function Xw(t,e=!1,n=!0){Jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(o.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function Yw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function Jw(t,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:Zw(n,e):e,search:tT(o),hash:nT(s)}}function Zw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Od(t,e,n,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gh(t){let e=J_(t);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function Xh(t,e,n,o=!1){let s;typeof t=="string"?s=Di(t):(s={...t},Ze(!s.pathname||!s.pathname.includes("?"),Od("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Od("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Od("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!o&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;s.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=Jw(s,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Zr=t=>t.join("/").replace(/\/\/+/g,"/"),eT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lc=class{constructor(t,e,n,o=!1){this.status=t,this.statusText=e||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Z_=["POST","PUT","PATCH","DELETE"],rT=new Set(Z_),iT=["GET",...Z_],oT=new Set(iT),sT=new Set([301,302,303,307,308]),aT=new Set([307,308]),Fd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ha={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Yh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ev="remix-router-transitions",tv=Symbol("ResetLoaderData");function cT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ze(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=t.mapRouteProperties||uT,s={},l=sc(t.routes,o,void 0,s),c,d=t.basename||"/",p=t.dataStrategy||mT,g=t.patchRoutesOnNavigation,_={...t.future},T=null,w=new Set,I=null,R=null,M=null,k=t.hydrationData!=null,L=lo(l,t.history.location,d),O=null;if(L==null&&!g){let j=dr(404,{pathname:t.history.location.pathname}),{matches:q,route:Y}=wy(l);L=q,O={[Y.id]:j}}L&&!t.hydrationData&&mr(L,l,t.history.location.pathname).active&&(L=null);let z;if(L)if(L.some(j=>j.route.lazy))z=!1;else if(!L.some(j=>j.route.loader))z=!0;else{let j=t.hydrationData?t.hydrationData.loaderData:null,q=t.hydrationData?t.hydrationData.errors:null;if(q){let Y=L.findIndex(ne=>q[ne.route.id]!==void 0);z=L.slice(0,Y+1).every(ne=>!uh(ne.route,j,q))}else z=L.every(Y=>!uh(Y.route,j,q))}else{z=!1,L=[];let j=mr(null,l,t.history.location.pathname);j.active&&j.matches&&(L=j.matches)}let G,N={historyAction:t.history.action,location:t.history.location,matches:L,initialized:z,navigation:Fd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},ee="POP",A=!1,S,P=!1,D=new Map,V=null,U=!1,x=!1,et=new Set,je=new Map,at=0,Te=-1,le=new Map,_e=new Set,de=new Map,H=new Map,te=new Set,ge=new Map,Ne,De=null;function Be(){if(T=t.history.listen(({action:j,location:q,delta:Y})=>{if(Ne){Ne(),Ne=void 0;return}Jt(ge.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Mi({currentLocation:N.location,nextLocation:q,historyAction:j});if(ne&&Y!=null){let he=new Promise(ve=>{Ne=ve});t.history.go(Y*-1),zr(ne,{state:"blocked",location:q,proceed(){zr(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),he.then(()=>t.history.go(Y))},reset(){let ve=new Map(N.blockers);ve.set(ne,Ha),Ve({blockers:ve})}});return}return Mt(j,q)}),n){RT(e,D);let j=()=>PT(e,D);e.addEventListener("pagehide",j),V=()=>e.removeEventListener("pagehide",j)}return N.initialized||Mt("POP",N.location,{initialHydration:!0}),G}function Ke(){T&&T(),V&&V(),w.clear(),S&&S.abort(),N.fetchers.forEach((j,q)=>Re(q)),N.blockers.forEach((j,q)=>Vi(q))}function qe(j){return w.add(j),()=>w.delete(j)}function Ve(j,q={}){N={...N,...j};let Y=[],ne=[];N.fetchers.forEach((he,ve)=>{he.state==="idle"&&(te.has(ve)?Y.push(ve):ne.push(ve))}),te.forEach(he=>{!N.fetchers.has(he)&&!je.has(he)&&Y.push(he)}),[...w].forEach(he=>he(N,{deletedFetchers:Y,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),Y.forEach(he=>Re(he)),ne.forEach(he=>N.fetchers.delete(he))}function pt(j,q,{flushSync:Y}={}){var ce,Le;let ne=N.actionData!=null&&N.navigation.formMethod!=null&&Dr(N.navigation.formMethod)&&N.navigation.state==="loading"&&((ce=j.state)==null?void 0:ce._isRedirect)!==!0,he;q.actionData?Object.keys(q.actionData).length>0?he=q.actionData:he=null:ne?he=N.actionData:he=null;let ve=q.loaderData?vy(N.loaderData,q.loaderData,q.matches||[],q.errors):N.loaderData,Ae=N.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach(($e,ct)=>Ae.set(ct,Ha)));let pe=A===!0||N.navigation.formMethod!=null&&Dr(N.navigation.formMethod)&&((Le=j.state)==null?void 0:Le._isRedirect)!==!0;c&&(l=c,c=void 0),U||ee==="POP"||(ee==="PUSH"?t.history.push(j,j.state):ee==="REPLACE"&&t.history.replace(j,j.state));let we;if(ee==="POP"){let $e=D.get(N.location.pathname);$e&&$e.has(j.pathname)?we={currentLocation:N.location,nextLocation:j}:D.has(j.pathname)&&(we={currentLocation:j,nextLocation:N.location})}else if(P){let $e=D.get(N.location.pathname);$e?$e.add(j.pathname):($e=new Set([j.pathname]),D.set(N.location.pathname,$e)),we={currentLocation:N.location,nextLocation:j}}Ve({...q,actionData:he,loaderData:ve,historyAction:ee,location:j,initialized:!0,navigation:Fd,revalidation:"idle",restoreScrollPosition:$n(j,q.matches||N.matches),preventScrollReset:pe,blockers:Ae},{viewTransitionOpts:we,flushSync:Y===!0}),ee="POP",A=!1,P=!1,U=!1,x=!1,De==null||De.resolve(),De=null}async function fn(j,q){if(typeof j=="number"){t.history.go(j);return}let Y=lh(N.location,N.matches,d,j,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:ne,submission:he,error:ve}=fy(!1,Y,q),Ae=N.location,pe=al(N.location,ne,q&&q.state);pe={...pe,...t.history.encodeLocation(pe)};let we=q&&q.replace!=null?q.replace:void 0,ce="PUSH";we===!0?ce="REPLACE":we===!1||he!=null&&Dr(he.formMethod)&&he.formAction===N.location.pathname+N.location.search&&(ce="REPLACE");let Le=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,$e=(q&&q.flushSync)===!0,ct=Mi({currentLocation:Ae,nextLocation:pe,historyAction:ce});if(ct){zr(ct,{state:"blocked",location:pe,proceed(){zr(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),fn(j,q)},reset(){let Dt=new Map(N.blockers);Dt.set(ct,Ha),Ve({blockers:Dt})}});return}await Mt(ce,pe,{submission:he,pendingError:ve,preventScrollReset:Le,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:$e})}function tr(){De||(De=AT()),rr(),Ve({revalidation:"loading"});let j=De.promise;return N.navigation.state==="submitting"?j:N.navigation.state==="idle"?(Mt(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),j):(Mt(ee||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:P===!0}),j)}async function Mt(j,q,Y){S&&S.abort(),S=null,ee=j,U=(Y&&Y.startUninterruptedRevalidation)===!0,bn(N.location,N.matches),A=(Y&&Y.preventScrollReset)===!0,P=(Y&&Y.enableViewTransition)===!0;let ne=c||l,he=Y&&Y.overrideNavigation,ve=lo(ne,q,d),Ae=(Y&&Y.flushSync)===!0,pe=mr(ve,ne,q.pathname);if(pe.active&&pe.matches&&(ve=pe.matches),!ve){let{error:Xe,notFoundMatches:ot,route:ft}=pr(q.pathname);pt(q,{matches:ot,loaderData:{},errors:{[ft.id]:Xe}},{flushSync:Ae});return}if(N.initialized&&!x&&wT(N.location,q)&&!(Y&&Y.submission&&Dr(Y.submission.formMethod))){pt(q,{matches:ve},{flushSync:Ae});return}S=new AbortController;let we=zs(t.history,q,S.signal,Y&&Y.submission),ce;if(Y&&Y.pendingError)ce=[Qo(ve).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Dr(Y.submission.formMethod)){let Xe=await At(we,q,Y.submission,ve,pe.active,{replace:Y.replace,flushSync:Ae});if(Xe.shortCircuited)return;if(Xe.pendingActionResult){let[ot,ft]=Xe.pendingActionResult;if(Xn(ft)&&bc(ft.error)&&ft.error.status===404){S=null,pt(q,{matches:Xe.matches,loaderData:{},errors:{[ot]:ft.error}});return}}ve=Xe.matches||ve,ce=Xe.pendingActionResult,he=jd(q,Y.submission),Ae=!1,pe.active=!1,we=zs(t.history,we.url,we.signal)}let{shortCircuited:Le,matches:$e,loaderData:ct,errors:Dt}=await Or(we,q,ve,pe.active,he,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ae,ce);Le||(S=null,pt(q,{matches:$e||ve,...Ey(ce),loaderData:ct,errors:Dt}))}async function At(j,q,Y,ne,he,ve={}){rr();let Ae=CT(q,Y);if(Ve({navigation:Ae},{flushSync:ve.flushSync===!0}),he){let ce=await Tn(ne,q.pathname,j.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let Le=Qo(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[Le,{type:"error",error:ce.error}]}}else if(ce.matches)ne=ce.matches;else{let{notFoundMatches:Le,error:$e,route:ct}=pr(q.pathname);return{matches:Le,pendingActionResult:[ct.id,{type:"error",error:$e}]}}}let pe,we=Xa(ne,q);if(!we.route.action&&!we.route.lazy)pe={type:"error",error:dr(405,{method:j.method,pathname:q.pathname,routeId:we.route.id})};else if(pe=(await kn("action",N,j,[we],ne,null))[we.route.id],j.signal.aborted)return{shortCircuited:!0};if(Go(pe)){let ce;return ve&&ve.replace!=null?ce=ve.replace:ce=gy(pe.response.headers.get("Location"),new URL(j.url),d)===N.location.pathname+N.location.search,await Ut(j,pe,!0,{submission:Y,replace:ce}),{shortCircuited:!0}}if(Xn(pe)){let ce=Qo(ne,we.route.id);return(ve&&ve.replace)!==!0&&(ee="PUSH"),{matches:ne,pendingActionResult:[ce.route.id,pe]}}return{matches:ne,pendingActionResult:[we.route.id,pe]}}async function Or(j,q,Y,ne,he,ve,Ae,pe,we,ce,Le){let $e=he||jd(q,ve),ct=ve||Ae||Sy($e),Dt=!U&&!we;if(ne){if(Dt){let vt=Fr(Le);Ve({navigation:$e,...vt!==void 0?{actionData:vt}:{}},{flushSync:ce})}let tt=await Tn(Y,q.pathname,j.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let vt=Qo(tt.partialMatches).route.id;return{matches:tt.partialMatches,loaderData:{},errors:{[vt]:tt.error}}}else if(tt.matches)Y=tt.matches;else{let{error:vt,notFoundMatches:tn,route:vr}=pr(q.pathname);return{matches:tn,loaderData:{},errors:{[vr.id]:vt}}}}let Xe=c||l,[ot,ft]=hy(t.history,N,Y,ct,q,we===!0,x,et,te,de,_e,Xe,d,Le);if(Te=++at,ot.length===0&&ft.length===0){let tt=Ur();return pt(q,{matches:Y,loaderData:{},errors:Le&&Xn(Le[1])?{[Le[0]]:Le[1].error}:null,...Ey(Le),...tt?{fetchers:new Map(N.fetchers)}:{}},{flushSync:ce}),{shortCircuited:!0}}if(Dt){let tt={};if(!ne){tt.navigation=$e;let vt=Fr(Le);vt!==void 0&&(tt.actionData=vt)}ft.length>0&&(tt.fetchers=nr(ft)),Ve(tt,{flushSync:ce})}ft.forEach(tt=>{He(tt.key),tt.controller&&je.set(tt.key,tt.controller)});let gr=()=>ft.forEach(tt=>He(tt.key));S&&S.signal.addEventListener("abort",gr);let{loaderResults:yr,fetcherResults:dn}=await hr(N,Y,ot,ft,j);if(j.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",gr),ft.forEach(tt=>je.delete(tt.key));let en=Ou(yr);if(en)return await Ut(j,en.result,!0,{replace:pe}),{shortCircuited:!0};if(en=Ou(dn),en)return _e.add(en.key),await Ut(j,en.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:li,errors:Br}=_y(N,Y,yr,Le,ft,dn);we&&N.errors&&(Br={...N.errors,...Br});let _r=Ur(),dt=Li(Te),ui=_r||dt||ft.length>0;return{matches:Y,loaderData:li,errors:Br,...ui?{fetchers:new Map(N.fetchers)}:{}}}function Fr(j){if(j&&!Xn(j[1]))return{[j[0]]:j[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function nr(j){return j.forEach(q=>{let Y=N.fetchers.get(q.key),ne=qa(void 0,Y?Y.data:void 0);N.fetchers.set(q.key,ne)}),new Map(N.fetchers)}async function Ni(j,q,Y,ne){He(j);let he=(ne&&ne.flushSync)===!0,ve=c||l,Ae=lh(N.location,N.matches,d,Y,q,ne==null?void 0:ne.relative),pe=lo(ve,Ae,d),we=mr(pe,ve,Ae);if(we.active&&we.matches&&(pe=we.matches),!pe){ut(j,q,dr(404,{pathname:Ae}),{flushSync:he});return}let{path:ce,submission:Le,error:$e}=fy(!0,Ae,ne);if($e){ut(j,q,$e,{flushSync:he});return}let ct=Xa(pe,ce),Dt=(ne&&ne.preventScrollReset)===!0;if(Le&&Dr(Le.formMethod)){await jr(j,q,ce,ct,pe,we.active,he,Dt,Le);return}de.set(j,{routeId:q,path:ce}),await xn(j,q,ce,ct,pe,we.active,he,Dt,Le)}async function jr(j,q,Y,ne,he,ve,Ae,pe,we){rr(),de.delete(j);function ce(Et){if(!Et.route.action&&!Et.route.lazy){let Dn=dr(405,{method:we.formMethod,pathname:Y,routeId:q});return ut(j,q,Dn,{flushSync:Ae}),!0}return!1}if(!ve&&ce(ne))return;let Le=N.fetchers.get(j);Zt(j,IT(we,Le),{flushSync:Ae});let $e=new AbortController,ct=zs(t.history,Y,$e.signal,we);if(ve){let Et=await Tn(he,Y,ct.signal);if(Et.type==="aborted")return;if(Et.type==="error"){ut(j,q,Et.error,{flushSync:Ae});return}else if(Et.matches){if(he=Et.matches,ne=Xa(he,Y),ce(ne))return}else{ut(j,q,dr(404,{pathname:Y}),{flushSync:Ae});return}}je.set(j,$e);let Dt=at,ot=(await kn("action",N,ct,[ne],he,j))[ne.route.id];if(ct.signal.aborted){je.get(j)===$e&&je.delete(j);return}if(te.has(j)){if(Go(ot)||Xn(ot)){Zt(j,ao(void 0));return}}else{if(Go(ot))if(je.delete(j),Te>Dt){Zt(j,ao(void 0));return}else return _e.add(j),Zt(j,qa(we)),Ut(ct,ot,!1,{fetcherSubmission:we,preventScrollReset:pe});if(Xn(ot)){ut(j,q,ot.error);return}}let ft=N.navigation.location||N.location,gr=zs(t.history,ft,$e.signal),yr=c||l,dn=N.navigation.state!=="idle"?lo(yr,N.navigation.location,d):N.matches;Ze(dn,"Didn't find any matches after fetcher action");let en=++at;le.set(j,en);let li=qa(we,ot.data);N.fetchers.set(j,li);let[Br,_r]=hy(t.history,N,dn,we,ft,!1,x,et,te,de,_e,yr,d,[ne.route.id,ot]);_r.filter(Et=>Et.key!==j).forEach(Et=>{let Dn=Et.key,hn=N.fetchers.get(Dn),as=qa(void 0,hn?hn.data:void 0);N.fetchers.set(Dn,as),He(Dn),Et.controller&&je.set(Dn,Et.controller)}),Ve({fetchers:new Map(N.fetchers)});let dt=()=>_r.forEach(Et=>He(Et.key));$e.signal.addEventListener("abort",dt);let{loaderResults:ui,fetcherResults:tt}=await hr(N,dn,Br,_r,gr);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",dt),le.delete(j),je.delete(j),_r.forEach(Et=>je.delete(Et.key));let vt=Ou(ui);if(vt)return Ut(gr,vt.result,!1,{preventScrollReset:pe});if(vt=Ou(tt),vt)return _e.add(vt.key),Ut(gr,vt.result,!1,{preventScrollReset:pe});let{loaderData:tn,errors:vr}=_y(N,dn,ui,void 0,_r,tt);if(N.fetchers.has(j)){let Et=ao(ot.data);N.fetchers.set(j,Et)}Li(en),N.navigation.state==="loading"&&en>Te?(Ze(ee,"Expected pending action"),S&&S.abort(),pt(N.navigation.location,{matches:dn,loaderData:tn,errors:vr,fetchers:new Map(N.fetchers)})):(Ve({errors:vr,loaderData:vy(N.loaderData,tn,dn,vr),fetchers:new Map(N.fetchers)}),x=!1)}async function xn(j,q,Y,ne,he,ve,Ae,pe,we){let ce=N.fetchers.get(j);Zt(j,qa(we,ce?ce.data:void 0),{flushSync:Ae});let Le=new AbortController,$e=zs(t.history,Y,Le.signal);if(ve){let ot=await Tn(he,Y,$e.signal);if(ot.type==="aborted")return;if(ot.type==="error"){ut(j,q,ot.error,{flushSync:Ae});return}else if(ot.matches)he=ot.matches,ne=Xa(he,Y);else{ut(j,q,dr(404,{pathname:Y}),{flushSync:Ae});return}}je.set(j,Le);let ct=at,Xe=(await kn("loader",N,$e,[ne],he,j))[ne.route.id];if(je.get(j)===Le&&je.delete(j),!$e.signal.aborted){if(te.has(j)){Zt(j,ao(void 0));return}if(Go(Xe))if(Te>ct){Zt(j,ao(void 0));return}else{_e.add(j),await Ut($e,Xe,!1,{preventScrollReset:pe});return}if(Xn(Xe)){ut(j,q,Xe.error);return}Zt(j,ao(Xe.data))}}async function Ut(j,q,Y,{submission:ne,fetcherSubmission:he,preventScrollReset:ve,replace:Ae}={}){q.response.headers.has("X-Remix-Revalidate")&&(x=!0);let pe=q.response.headers.get("Location");Ze(pe,"Expected a Location header on the redirect Response"),pe=gy(pe,new URL(j.url),d);let we=al(N.location,pe,{_isRedirect:!0});if(n){let Xe=!1;if(q.response.headers.has("X-Remix-Reload-Document"))Xe=!0;else if(Yh.test(pe)){const ot=t.history.createURL(pe);Xe=ot.origin!==e.location.origin||Vr(ot.pathname,d)==null}if(Xe){Ae?e.location.replace(pe):e.location.assign(pe);return}}S=null;let ce=Ae===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:$e,formEncType:ct}=N.navigation;!ne&&!he&&Le&&$e&&ct&&(ne=Sy(N.navigation));let Dt=ne||he;if(aT.has(q.response.status)&&Dt&&Dr(Dt.formMethod))await Mt(ce,we,{submission:{...Dt,formAction:pe},preventScrollReset:ve||A,enableViewTransition:Y?P:void 0});else{let Xe=jd(we,ne);await Mt(ce,we,{overrideNavigation:Xe,fetcherSubmission:he,preventScrollReset:ve||A,enableViewTransition:Y?P:void 0})}}async function kn(j,q,Y,ne,he,ve){let Ae,pe={};try{Ae=await gT(p,j,q,Y,ne,he,ve,s,o)}catch(we){return ne.forEach(ce=>{pe[ce.route.id]={type:"error",error:we}}),pe}for(let[we,ce]of Object.entries(Ae))if(TT(ce)){let Le=ce.result;pe[we]={type:"redirect",response:vT(Le,Y,we,he,d)}}else pe[we]=await _T(ce);return pe}async function hr(j,q,Y,ne,he){let ve=kn("loader",j,he,Y,q,null),Ae=Promise.all(ne.map(async ce=>{if(ce.matches&&ce.match&&ce.controller){let $e=(await kn("loader",j,zs(t.history,ce.path,ce.controller.signal),[ce.match],ce.matches,ce.key))[ce.match.route.id];return{[ce.key]:$e}}else return Promise.resolve({[ce.key]:{type:"error",error:dr(404,{pathname:ce.path})}})})),pe=await ve,we=(await Ae).reduce((ce,Le)=>Object.assign(ce,Le),{});return{loaderResults:pe,fetcherResults:we}}function rr(){x=!0,de.forEach((j,q)=>{je.has(q)&&et.add(q),He(q)})}function Zt(j,q,Y={}){N.fetchers.set(j,q),Ve({fetchers:new Map(N.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function ut(j,q,Y,ne={}){let he=Qo(N.matches,q);Re(j),Ve({errors:{[he.route.id]:Y},fetchers:new Map(N.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function St(j){return H.set(j,(H.get(j)||0)+1),te.has(j)&&te.delete(j),N.fetchers.get(j)||lT}function Re(j){let q=N.fetchers.get(j);je.has(j)&&!(q&&q.state==="loading"&&le.has(j))&&He(j),de.delete(j),le.delete(j),_e.delete(j),te.delete(j),et.delete(j),N.fetchers.delete(j)}function Qe(j){let q=(H.get(j)||0)-1;q<=0?(H.delete(j),te.add(j)):H.set(j,q),Ve({fetchers:new Map(N.fetchers)})}function He(j){let q=je.get(j);q&&(q.abort(),je.delete(j))}function Ct(j){for(let q of j){let Y=St(q),ne=ao(Y.data);N.fetchers.set(q,ne)}}function Ur(){let j=[],q=!1;for(let Y of _e){let ne=N.fetchers.get(Y);Ze(ne,`Expected fetcher: ${Y}`),ne.state==="loading"&&(_e.delete(Y),j.push(Y),q=!0)}return Ct(j),q}function Li(j){let q=[];for(let[Y,ne]of le)if(ne<j){let he=N.fetchers.get(Y);Ze(he,`Expected fetcher: ${Y}`),he.state==="loading"&&(He(Y),le.delete(Y),q.push(Y))}return Ct(q),q.length>0}function Ro(j,q){let Y=N.blockers.get(j)||Ha;return ge.get(j)!==q&&ge.set(j,q),Y}function Vi(j){N.blockers.delete(j),ge.delete(j)}function zr(j,q){let Y=N.blockers.get(j)||Ha;Ze(Y.state==="unblocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="proceeding"||Y.state==="blocked"&&q.state==="unblocked"||Y.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${q.state}`);let ne=new Map(N.blockers);ne.set(j,q),Ve({blockers:ne})}function Mi({currentLocation:j,nextLocation:q,historyAction:Y}){if(ge.size===0)return;ge.size>1&&Jt(!1,"A router only supports one blocker at a time");let ne=Array.from(ge.entries()),[he,ve]=ne[ne.length-1],Ae=N.blockers.get(he);if(!(Ae&&Ae.state==="proceeding")&&ve({currentLocation:j,nextLocation:q,historyAction:Y}))return he}function pr(j){let q=dr(404,{pathname:j}),Y=c||l,{matches:ne,route:he}=wy(Y);return{notFoundMatches:ne,route:he,error:q}}function Oi(j,q,Y){if(I=j,M=q,R=Y||null,!k&&N.navigation===Fd){k=!0;let ne=$n(N.location,N.matches);ne!=null&&Ve({restoreScrollPosition:ne})}return()=>{I=null,M=null,R=null}}function si(j,q){return R&&R(j,q.map(ne=>jw(ne,N.loaderData)))||j.key}function bn(j,q){if(I&&M){let Y=si(j,q);I[Y]=M()}}function $n(j,q){if(I){let Y=si(j,q),ne=I[Y];if(typeof ne=="number")return ne}return null}function mr(j,q,Y){if(g)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Xu(q,Y,d,!0)}}else return{active:!0,matches:Xu(q,Y,d,!0)||[]};return{active:!1,matches:null}}async function Tn(j,q,Y){if(!g)return{type:"success",matches:j};let ne=j;for(;;){let he=c==null,ve=c||l,Ae=s;try{await g({path:q,matches:ne,patch:(ce,Le)=>{Y.aborted||my(ce,Le,ve,Ae,o)}})}catch(ce){return{type:"error",error:ce,partialMatches:ne}}finally{he&&!Y.aborted&&(l=[...l])}if(Y.aborted)return{type:"aborted"};let pe=lo(ve,q,d);if(pe)return{type:"success",matches:pe};let we=Xu(ve,q,d,!0);if(!we||ne.length===we.length&&ne.every((ce,Le)=>ce.route.id===we[Le].route.id))return{type:"success",matches:null};ne=we}}function Po(j){s={},c=sc(j,o,void 0,s)}function ai(j,q){let Y=c==null;my(j,q,c||l,s,o),Y&&(l=[...l],Ve({}))}return G={get basename(){return d},get future(){return _},get state(){return N},get routes(){return l},get window(){return e},initialize:Be,subscribe:qe,enableScrollRestoration:Oi,navigate:fn,fetch:Ni,revalidate:tr,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:St,deleteFetcher:Qe,dispose:Ke,getBlocker:Ro,deleteBlocker:Vi,patchRoutes:ai,_internalFetchControllers:je,_internalSetRoutes:Po},G}function fT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function lh(t,e,n,o,s,l){let c,d;if(s){c=[];for(let g of e)if(c.push(g),g.route.id===s){d=g;break}}else c=e,d=e[e.length-1];let p=Xh(o||".",Gh(c),Vr(t.pathname,n)||t.pathname,l==="path");if(o==null&&(p.search=t.search,p.hash=t.hash),(o==null||o===""||o===".")&&d){let g=Jh(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(I=>I).forEach(I=>_.append("index",I));let w=_.toString();p.search=w?`?${w}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Zr([n,p.pathname])),mo(p)}function fy(t,e,n){if(!n||!fT(n))return{path:e};if(n.formMethod&&!ST(n.formMethod))return{path:e,error:dr(405,{method:n.formMethod})};let o=()=>({path:e,error:dr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=rv(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Dr(l))return o();let T=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[I,R])=>`${w}${I}=${R}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:T}}}else if(n.formEncType==="application/json"){if(!Dr(l))return o();try{let T=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:T,text:void 0}}}catch{return o()}}}Ze(typeof FormData=="function","FormData is not available in this environment");let d,p;if(n.formData)d=ch(n.formData),p=n.formData;else if(n.body instanceof FormData)d=ch(n.body),p=n.body;else if(n.body instanceof URLSearchParams)d=n.body,p=yy(d);else if(n.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(n.body),p=yy(d)}catch{return o()}let g={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Dr(g.formMethod))return{path:e,submission:g};let _=Di(e);return t&&_.search&&Jh(_.search)&&d.append("index",""),_.search=`?${d}`,{path:mo(_),submission:g}}function dy(t,e,n=!1){let o=t.findIndex(s=>s.route.id===e);return o>=0?t.slice(0,n?o+1:o):t}function hy(t,e,n,o,s,l,c,d,p,g,_,T,w,I){let R=I?Xn(I[1])?I[1].error:I[1].data:void 0,M=t.createURL(e.location),k=t.createURL(s),L=n;l&&e.errors?L=dy(n,Object.keys(e.errors)[0],!0):I&&Xn(I[1])&&(L=dy(n,I[0]));let O=I?I[1].statusCode:void 0,z=O&&O>=400,G=L.filter((ee,A)=>{let{route:S}=ee;if(S.lazy)return!0;if(S.loader==null)return!1;if(l)return uh(S,e.loaderData,e.errors);if(dT(e.loaderData,e.matches[A],ee))return!0;let P=e.matches[A],D=ee;return py(ee,{currentUrl:M,currentParams:P.params,nextUrl:k,nextParams:D.params,...o,actionResult:R,actionStatus:O,defaultShouldRevalidate:z?!1:c||M.pathname+M.search===k.pathname+k.search||M.search!==k.search||hT(P,D)})}),N=[];return g.forEach((ee,A)=>{if(l||!n.some(U=>U.route.id===ee.routeId)||p.has(A))return;let S=lo(T,ee.path,w);if(!S){N.push({key:A,routeId:ee.routeId,path:ee.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(A),D=Xa(S,ee.path),V=!1;_.has(A)?V=!1:d.has(A)?(d.delete(A),V=!0):P&&P.state!=="idle"&&P.data===void 0?V=c:V=py(D,{currentUrl:M,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:n[n.length-1].params,...o,actionResult:R,actionStatus:O,defaultShouldRevalidate:z?!1:c}),V&&N.push({key:A,routeId:ee.routeId,path:ee.path,matches:S,match:D,controller:new AbortController})}),[G,N]}function uh(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let o=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!o&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!o&&!s}function dT(t,e,n){let o=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return o||s}function hT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function py(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function my(t,e,n,o,s){let l;if(t){let p=o[t];Ze(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),l=p.children}else l=n;let c=e.filter(p=>!l.some(g=>nv(p,g))),d=sc(c,s,[t||"_","patch",String((l==null?void 0:l.length)||"0")],o);l.push(...d)}function nv(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,o)=>{var s;return(s=e.children)==null?void 0:s.some(l=>nv(n,l))}):!1}async function pT(t,e,n){if(!t.lazy)return;let o=await t.lazy();if(!t.lazy)return;let s=n[t.id];Ze(s,"No route found in manifest");let l={};for(let c in o){let p=s[c]!==void 0&&c!=="hasErrorBoundary";Jt(!p,`Route "${s.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!Ow.has(c)&&(l[c]=o[c])}Object.assign(s,l),Object.assign(s,{...e(s),lazy:void 0})}async function mT({matches:t}){let e=t.filter(o=>o.shouldLoad);return(await Promise.all(e.map(o=>o.resolve()))).reduce((o,s,l)=>Object.assign(o,{[e[l].route.id]:s}),{})}async function gT(t,e,n,o,s,l,c,d,p,g){let _=l.map(I=>I.route.lazy?pT(I.route,p,d):void 0),T=l.map((I,R)=>{let M=_[R],k=s.some(O=>O.route.id===I.route.id);return{...I,shouldLoad:k,resolve:async O=>(O&&o.method==="GET"&&(I.route.lazy||I.route.loader)&&(k=!0),k?yT(e,o,I,M,O,g):Promise.resolve({type:"data",result:void 0}))}}),w=await t({matches:T,request:o,params:l[0].params,fetcherKey:c,context:g});try{await Promise.all(_)}catch{}return w}async function yT(t,e,n,o,s,l){let c,d,p=g=>{let _,T=new Promise((R,M)=>_=M);d=()=>_(),e.signal.addEventListener("abort",d);let w=R=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):g({request:e,params:n.params,context:l},...R!==void 0?[R]:[]),I=(async()=>{try{return{type:"data",result:await(s?s(M=>w(M)):w())}}catch(R){return{type:"error",result:R}}})();return Promise.race([I,T])};try{let g=n.route[t];if(o)if(g){let _,[T]=await Promise.all([p(g).catch(w=>{_=w}),o]);if(_!==void 0)throw _;c=T}else if(await o,g=n.route[t],g)c=await p(g);else if(t==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw dr(405,{method:e.method,pathname:T,routeId:n.route.id})}else return{type:"data",result:void 0};else if(g)c=await p(g);else{let _=new URL(e.url),T=_.pathname+_.search;throw dr(404,{pathname:T})}}catch(g){return{type:"error",result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function _T(t){var o,s,l,c;let{result:e,type:n}=t;if(iv(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new lc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(n==="error"){if(Ty(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(o=e.init)==null?void 0:o.status};e=new lc(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:bc(e)?e.status:void 0}}return Ty(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vT(t,e,n,o,s){let l=t.headers.get("Location");if(Ze(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Yh.test(l)){let c=o.slice(0,o.findIndex(d=>d.route.id===n)+1);l=lh(new URL(e.url),c,s,l),t.headers.set("Location",l)}return t}function gy(t,e,n){if(Yh.test(t)){let o=t,s=o.startsWith("//")?new URL(e.protocol+o):new URL(o),l=Vr(s.pathname,n)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return t}function zs(t,e,n,o){let s=t.createURL(rv(e)).toString(),l={signal:n};if(o&&Dr(o.formMethod)){let{formMethod:c,formEncType:d}=o;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(o.json)):d==="text/plain"?l.body=o.text:d==="application/x-www-form-urlencoded"&&o.formData?l.body=ch(o.formData):l.body=o.formData}return new Request(s,l)}function ch(t){let e=new URLSearchParams;for(let[n,o]of t.entries())e.append(n,typeof o=="string"?o:o.name);return e}function yy(t){let e=new FormData;for(let[n,o]of t.entries())e.append(n,o);return e}function ET(t,e,n,o=!1,s=!1){let l={},c=null,d,p=!1,g={},_=n&&Xn(n[1])?n[1].error:void 0;return t.forEach(T=>{if(!(T.route.id in e))return;let w=T.route.id,I=e[w];if(Ze(!Go(I),"Cannot handle redirect results in processLoaderData"),Xn(I)){let R=I.error;if(_!==void 0&&(R=_,_=void 0),c=c||{},s)c[w]=R;else{let M=Qo(t,w);c[M.route.id]==null&&(c[M.route.id]=R)}o||(l[w]=tv),p||(p=!0,d=bc(I.error)?I.error.status:500),I.headers&&(g[w]=I.headers)}else l[w]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(d=I.statusCode),I.headers&&(g[w]=I.headers)}),_!==void 0&&n&&(c={[n[0]]:_},l[n[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function _y(t,e,n,o,s,l){let{loaderData:c,errors:d}=ET(e,n,o);return s.forEach(p=>{let{key:g,match:_,controller:T}=p,w=l[g];if(Ze(w,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Xn(w)){let I=Qo(t.matches,_==null?void 0:_.route.id);d&&d[I.route.id]||(d={...d,[I.route.id]:w.error}),t.fetchers.delete(g)}else if(Go(w))Ze(!1,"Unhandled fetcher revalidation redirect");else{let I=ao(w.data);t.fetchers.set(g,I)}}),{loaderData:c,errors:d}}function vy(t,e,n,o){let s=Object.entries(e).filter(([,l])=>l!==tv).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(s[c]=t[c]),o&&o.hasOwnProperty(c))break}return s}function Ey(t){return t?Xn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Qo(t,e){return(e?t.slice(0,t.findIndex(o=>o.route.id===e)+1):[...t]).reverse().find(o=>o.route.hasErrorBoundary===!0)||t[0]}function wy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function dr(t,{pathname:e,routeId:n,method:o,type:s,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",o&&e&&n?d=`You made a ${o} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",o&&e&&n?d=`You made a ${o.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:o&&(d=`Invalid request method "${o.toUpperCase()}"`)),new lc(t||500,c,new Error(d),!0)}function Ou(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[o,s]=e[n];if(Go(s))return{key:o,result:s}}}function rv(t){let e=typeof t=="string"?Di(t):t;return mo({...e,hash:""})}function wT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function TT(t){return iv(t.result)&&sT.has(t.result.status)}function Xn(t){return t.type==="error"}function Go(t){return(t&&t.type)==="redirect"}function Ty(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function iv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ST(t){return oT.has(t.toUpperCase())}function Dr(t){return rT.has(t.toUpperCase())}function Jh(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xa(t,e){let n=typeof e=="string"?Di(e).search:e.search;if(t[t.length-1].route.index&&Jh(n||""))return t[t.length-1];let o=J_(t);return o[o.length-1]}function Sy(t){let{formMethod:e,formAction:n,formEncType:o,text:s,formData:l,json:c}=t;if(!(!e||!n||!o)){if(s!=null)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:n,formEncType:o,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:c,text:void 0}}}function jd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ao(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RT(t,e){try{let n=t.sessionStorage.getItem(ev);if(n){let o=JSON.parse(n);for(let[s,l]of Object.entries(o||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function PT(t,e){if(e.size>0){let n={};for(let[o,s]of e)n[o]=[...s];try{t.sessionStorage.setItem(ev,JSON.stringify(n))}catch(o){Jt(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function AT(){let t,e,n=new Promise((o,s)=>{t=async l=>{o(l);try{await n}catch{}},e=async l=>{s(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ns=$.createContext(null);ns.displayName="DataRouter";var _l=$.createContext(null);_l.displayName="DataRouterState";var Zh=$.createContext({isTransitioning:!1});Zh.displayName="ViewTransition";var ov=$.createContext(new Map);ov.displayName="Fetchers";var xT=$.createContext(null);xT.displayName="Await";var ii=$.createContext(null);ii.displayName="Navigation";var Dc=$.createContext(null);Dc.displayName="Location";var Mr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var ep=$.createContext(null);ep.displayName="RouteError";function kT(t,{relative:e}={}){Ze(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=$.useContext(ii),{hash:s,pathname:l,search:c}=El(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Zr([n,l])),o.createHref({pathname:d,search:c,hash:s})}function vl(){return $.useContext(Dc)!=null}function rs(){return Ze(vl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Dc).location}var sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function av(t){$.useContext(ii).static||$.useLayoutEffect(t)}function lv(){let{isDataRoute:t}=$.useContext(Mr);return t?WT():bT()}function bT(){Ze(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(ns),{basename:e,navigator:n}=$.useContext(ii),{matches:o}=$.useContext(Mr),{pathname:s}=rs(),l=JSON.stringify(Gh(o)),c=$.useRef(!1);return av(()=>{c.current=!0}),$.useCallback((p,g={})=>{if(Jt(c.current,sv),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=Xh(p,JSON.parse(l),s,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Zr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,s,t])}var DT=$.createContext(null);function NT(t){let e=$.useContext(Mr).outlet;return e&&$.createElement(DT.Provider,{value:t},e)}function LT(){let{matches:t}=$.useContext(Mr),e=t[t.length-1];return e?e.params:{}}function El(t,{relative:e}={}){let{matches:n}=$.useContext(Mr),{pathname:o}=rs(),s=JSON.stringify(Gh(n));return $.useMemo(()=>Xh(t,JSON.parse(s),o,e==="path"),[t,s,o,e])}function VT(t,e,n,o){Ze(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=$.useContext(ii),{matches:l}=$.useContext(Mr),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let L=_&&_.path||"";uv(p,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let T=rs(),w;w=T;let I=w.pathname||"/",R=I;if(g!=="/"){let L=g.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let M=lo(t,{pathname:R});return Jt(_||M!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Jt(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),UT(M&&M.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Zr([g,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Zr([g,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,o)}function MT(){let t=qT(),e=bc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:s},n):null,c)}var OT=$.createElement(MT,null),FT=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?$.createElement(Mr.Provider,{value:this.props.routeContext},$.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jT({routeContext:t,match:e,children:n}){let o=$.useContext(ns);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Mr.Provider,{value:t},n)}function UT(t,e=[],n=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:T}=n,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,g,_)=>{let T,w=!1,I=null,R=null;n&&(T=l&&g.route.id?l[g.route.id]:void 0,I=g.route.errorElement||OT,c&&(d<0&&_===0?(uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):d===_&&(w=!0,R=g.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,_+1)),k=()=>{let L;return T?L=I:w?L=R:g.route.Component?L=$.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,$.createElement(jT,{match:g,routeContext:{outlet:p,matches:M,isDataRoute:n!=null},children:L})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?$.createElement(FT,{location:n.location,revalidation:n.revalidation,component:I,error:T,children:k(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):k()},null)}function tp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zT(t){let e=$.useContext(ns);return Ze(e,tp(t)),e}function BT(t){let e=$.useContext(_l);return Ze(e,tp(t)),e}function $T(t){let e=$.useContext(Mr);return Ze(e,tp(t)),e}function np(t){let e=$T(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HT(){return np("useRouteId")}function qT(){var o;let t=$.useContext(ep),e=BT("useRouteError"),n=np("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[n]}function WT(){let{router:t}=zT("useNavigate"),e=np("useNavigate"),n=$.useRef(!1);return av(()=>{n.current=!0}),$.useCallback(async(s,l={})=>{Jt(n.current,sv),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...l}))},[t,e])}var Cy={};function uv(t,e,n){!e&&!Cy[t]&&(Cy[t]=!0,Jt(!1,n))}var Iy={};function Ry(t,e){!t&&!Iy[e]&&(Iy[e]=!0,console.warn(e))}function KT(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var QT=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",n(o))}})}};function GT({router:t,flushSync:e}){let[n,o]=$.useState(t.state),[s,l]=$.useState(),[c,d]=$.useState({isTransitioning:!1}),[p,g]=$.useState(),[_,T]=$.useState(),[w,I]=$.useState(),R=$.useRef(new Map),M=$.useCallback((z,{deletedFetchers:G,flushSync:N,viewTransitionOpts:ee})=>{z.fetchers.forEach((S,P)=>{S.data!==void 0&&R.current.set(P,S.data)}),G.forEach(S=>R.current.delete(S)),Ry(N===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Ry(ee==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ee||!A){e&&N?e(()=>o(z)):$.startTransition(()=>o(z));return}if(e&&N){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})});let S=t.window.document.startViewTransition(()=>{e(()=>o(z))});S.finished.finally(()=>{e(()=>{g(void 0),T(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>T(S));return}_?(p&&p.resolve(),_.skipTransition(),I({state:z,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})):(l(z),d({isTransitioning:!0,flushSync:!1,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation}))},[t.window,e,_,p]);$.useLayoutEffect(()=>t.subscribe(M),[t,M]),$.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new QT)},[c]),$.useEffect(()=>{if(p&&s&&t.window){let z=s,G=p.promise,N=t.window.document.startViewTransition(async()=>{$.startTransition(()=>o(z)),await G});N.finished.finally(()=>{g(void 0),T(void 0),l(void 0),d({isTransitioning:!1})}),T(N)}},[s,p,t.window]),$.useEffect(()=>{p&&s&&n.location.key===s.location.key&&p.resolve()},[p,_,n.location,s]),$.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),I(void 0))},[c.isTransitioning,w]);let k=$.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:z=>t.navigate(z),push:(z,G,N)=>t.navigate(z,{state:G,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(z,G,N)=>t.navigate(z,{replace:!0,state:G,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[t]),L=t.basename||"/",O=$.useMemo(()=>({router:t,navigator:k,static:!1,basename:L}),[t,k,L]);return $.createElement($.Fragment,null,$.createElement(ns.Provider,{value:O},$.createElement(_l.Provider,{value:n},$.createElement(ov.Provider,{value:R.current},$.createElement(Zh.Provider,{value:c},$.createElement(ZT,{basename:L,location:n.location,navigationType:n.historyAction,navigator:k},$.createElement(XT,{routes:t.routes,future:t.future,state:n})))))),null)}var XT=$.memo(YT);function YT({routes:t,future:e,state:n}){return VT(t,void 0,n,e)}function JT(t){return NT(t.context)}function ZT({basename:t="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:l=!1}){Ze(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=Di(n));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:w="default"}=n,I=$.useMemo(()=>{let R=Vr(p,c);return R==null?null:{location:{pathname:R,search:g,hash:_,state:T,key:w},navigationType:o}},[c,p,g,_,T,w,o]);return Jt(I!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:$.createElement(ii.Provider,{value:d},$.createElement(Dc.Provider,{children:e,value:I}))}var Yu="get",Ju="application/x-www-form-urlencoded";function Nc(t){return t!=null&&typeof t.tagName=="string"}function e1(t){return Nc(t)&&t.tagName.toLowerCase()==="button"}function t1(t){return Nc(t)&&t.tagName.toLowerCase()==="form"}function n1(t){return Nc(t)&&t.tagName.toLowerCase()==="input"}function r1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i1(t,e){return t.button===0&&(!e||e==="_self")&&!r1(t)}var Fu=null;function o1(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var s1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ud(t){return t!=null&&!s1.has(t)?(Jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):t}function a1(t,e){let n,o,s,l,c;if(t1(t)){let d=t.getAttribute("action");o=d?Vr(d,e):null,n=t.getAttribute("method")||Yu,s=Ud(t.getAttribute("enctype"))||Ju,l=new FormData(t)}else if(e1(t)||n1(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(o=p?Vr(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Yu,s=Ud(t.getAttribute("formenctype"))||Ud(d.getAttribute("enctype"))||Ju,l=new FormData(d,t),!o1()){let{name:g,type:_,value:T}=t;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(Nc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yu,o=null,s=Ju,c=t}return l&&s==="text/plain"&&(c=l,l=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:l,body:c}}function rp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function l1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function c1(t,e,n){let o=await Promise.all(t.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await l1(l,n);return c.links?c.links():[]}return[]}));return p1(o.flat(1).filter(u1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Py(t,e,n,o,s,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let _=o.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function f1(t,e){return d1(t.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function d1(t){return[...new Set(t)]}function h1(t){let e={},n=Object.keys(t).sort();for(let o of n)e[o]=t[o];return e}function p1(t,e){let n=new Set;return new Set(e),t.reduce((o,s)=>{let l=JSON.stringify(h1(s));return n.has(l)||(n.add(l),o.push({key:l,link:s})),o},[])}function m1(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function g1(){let t=$.useContext(ns);return rp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function y1(){let t=$.useContext(_l);return rp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ip=$.createContext(void 0);ip.displayName="FrameworkContext";function cv(){let t=$.useContext(ip);return rp(t,"You must render this element inside a <HydratedRouter> element"),t}function _1(t,e){let n=$.useContext(ip),[o,s]=$.useState(!1),[l,c]=$.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=$.useRef(null);$.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=L=>{L.forEach(O=>{c(O.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),$.useEffect(()=>{if(o){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[o]);let I=()=>{s(!0)},R=()=>{s(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Wa(d,I),onBlur:Wa(p,R),onMouseEnter:Wa(g,I),onMouseLeave:Wa(_,R),onTouchStart:Wa(T,I)}]:[!1,w,{}]}function Wa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function v1({page:t,...e}){let{router:n}=g1(),o=$.useMemo(()=>lo(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?$.createElement(w1,{page:t,matches:o,...e}):null}function E1(t){let{manifest:e,routeModules:n}=cv(),[o,s]=$.useState([]);return $.useEffect(()=>{let l=!1;return c1(t,e,n).then(c=>{l||s(c)}),()=>{l=!0}},[t,e,n]),o}function w1({page:t,matches:e,...n}){let o=rs(),{manifest:s,routeModules:l}=cv(),{loaderData:c,matches:d}=y1(),p=$.useMemo(()=>Py(t,e,d,s,o,"data"),[t,e,d,s,o]),g=$.useMemo(()=>Py(t,e,d,s,o,"assets"),[t,e,d,s,o]),_=$.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let I=new Set,R=!1;if(e.forEach(k=>{var O;let L=s.routes[k.route.id];!L||!L.hasLoader||(!p.some(z=>z.route.id===k.route.id)&&k.route.id in c&&((O=l[k.route.id])!=null&&O.shouldRevalidate)||L.hasClientLoader?R=!0:I.add(k.route.id))}),I.size===0)return[];let M=m1(t);return R&&I.size>0&&M.searchParams.set("_routes",e.filter(k=>I.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[c,o,s,p,e,t,l]),T=$.useMemo(()=>f1(g,s),[g,s]),w=E1(g);return $.createElement($.Fragment,null,_.map(I=>$.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),T.map(I=>$.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),w.map(({key:I,link:R})=>$.createElement("link",{key:I,...R})))}function T1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fv&&(window.__reactRouterVersion="7.1.3")}catch{}function S1(t,e){return cT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Lw({window:e==null?void 0:e.window}),hydrationData:C1(),routes:t,mapRouteProperties:KT,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function C1(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:I1(t.errors)}),t}function I1(t){if(!t)return null;let e=Object.entries(t),n={};for(let[o,s]of e)if(s&&s.__type==="RouteErrorResponse")n[o]=new lc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",n[o]=c}catch{}}if(n[o]==null){let l=new Error(s.message);l.stack="",n[o]=l}}else n[o]=s;return n}var dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,op=$.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,...w},I){let{basename:R}=$.useContext(ii),M=typeof g=="string"&&dv.test(g),k,L=!1;if(typeof g=="string"&&M&&(k=g,fv))try{let P=new URL(window.location.href),D=g.startsWith("//")?new URL(P.protocol+g):new URL(g),V=Vr(D.pathname,R);D.origin===P.origin&&V!=null?g=V+D.search+D.hash:L=!0}catch{Jt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=kT(g,{relative:s}),[z,G,N]=_1(o,w),ee=A1(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:s,viewTransition:T});function A(P){e&&e(P),P.defaultPrevented||ee(P)}let S=$.createElement("a",{...w,...N,href:k||O,onClick:L||l?e:A,ref:T1(I,G),target:p,"data-discover":!M&&n==="render"?"true":void 0});return z&&!M?$.createElement($.Fragment,null,S,$.createElement(v1,{page:O})):S});op.displayName="Link";var Zu=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let T=El(c,{relative:g.relative}),w=rs(),I=$.useContext(_l),{navigator:R,basename:M}=$.useContext(ii),k=I!=null&&N1(T)&&d===!0,L=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,O=w.pathname,z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(O=O.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&M&&(z=Vr(z,M)||z);const G=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let N=O===L||!s&&O.startsWith(L)&&O.charAt(G)==="/",ee=z!=null&&(z===L||!s&&z.startsWith(L)&&z.charAt(L.length)==="/"),A={isActive:N,isPending:ee,isTransitioning:k},S=N?e:void 0,P;typeof o=="function"?P=o(A):P=[o,N?"active":null,ee?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(A):l;return $.createElement(op,{...g,"aria-current":S,className:P,ref:_,style:D,to:c,viewTransition:d},typeof p=="function"?p(A):p)});Zu.displayName="NavLink";var R1=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:l,method:c=Yu,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...w},I)=>{let R=b1(),M=D1(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&dv.test(d),O=z=>{if(p&&p(z),z.defaultPrevented)return;z.preventDefault();let G=z.nativeEvent.submitter,N=(G==null?void 0:G.getAttribute("formmethod"))||c;R(G||z.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:s,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return $.createElement("form",{ref:I,method:k,action:M,onSubmit:o?p:O,...w,"data-discover":!L&&t==="render"?"true":void 0})});R1.displayName="Form";function P1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hv(t){let e=$.useContext(ns);return Ze(e,P1(t)),e}function A1(t,{target:e,replace:n,state:o,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=lv(),p=rs(),g=El(t,{relative:l});return $.useCallback(_=>{if(i1(_,e)){_.preventDefault();let T=n!==void 0?n:mo(p)===mo(g);d(t,{replace:T,state:o,preventScrollReset:s,relative:l,viewTransition:c})}},[p,d,g,n,o,e,t,s,l,c])}var x1=0,k1=()=>`__${String(++x1)}__`;function b1(){let{router:t}=hv("useSubmit"),{basename:e}=$.useContext(ii),n=HT();return $.useCallback(async(o,s={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=a1(o,e);if(s.navigate===!1){let _=s.fetcherKey||k1();await t.fetch(_,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function D1(t,{relative:e}={}){let{basename:n}=$.useContext(ii),o=$.useContext(Mr);Ze(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...El(t||".",{relative:e})},c=rs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!t||t===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Zr([n,l.pathname])),mo(l)}function N1(t,e={}){let n=$.useContext(Zh);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=hv("useViewTransitionState"),s=El(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Vr(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=Vr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return ac(s.pathname,c)!=null||ac(s.pathname,l)!=null}new TextEncoder;var L1=G_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V1(t){return $.createElement(GT,{flushSync:L1.flushSync,...t})}const M1="_sortButton_1ms59_3",O1="_loaderContainer_1ms59_45",F1="_close_1ms59_59",ju={sortButton:M1,loaderContainer:O1,close:F1};var j1={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function pv(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var o=(t.match(/[^0-9]*$/)||"").toString();return j1[o]?{value:e,unit:o}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Uu(t){var e=pv(t);return"".concat(e.value).concat(e.unit)}var Ay=function(t,e,n){var o="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return o;var s=document.createElement("style");document.head.appendChild(s);var l=s.sheet,c=`
    @keyframes `.concat(o,` {
      `).concat(e,`
    }
  `);return l&&l.insertRule(c,0),o},uc;(function(t){t.maroon="#800000",t.red="#FF0000",t.orange="#FFA500",t.yellow="#FFFF00",t.olive="#808000",t.green="#008000",t.purple="#800080",t.fuchsia="#FF00FF",t.lime="#00FF00",t.teal="#008080",t.aqua="#00FFFF",t.blue="#0000FF",t.navy="#000080",t.black="#000000",t.gray="#808080",t.silver="#C0C0C0",t.white="#FFFFFF"})(uc||(uc={}));var U1=function(t,e){if(t.includes("/"))return t.replace("rgb(","rgba(");var n=t.substring(t.startsWith("rgba(")?5:4,t.length-1).trim(),o=n.split(",");return o.length===4?t.replace("rgb(","rgba("):o.length===3?"rgba(".concat(n,", ").concat(e,")"):"rgba(".concat(n," / ").concat(e,")")},z1=function(t,e){if(t.startsWith("rgb"))return U1(t,e);if(Object.keys(uc).includes(t)&&(t=uc[t]),t[0]==="#"&&(t=t.slice(1)),t.length===3){var n="";t.split("").forEach(function(s){n+=s,n+=s}),t=n}var o=(t.match(/.{2}/g)||[]).map(function(s){return parseInt(s,16)}).join(", ");return"rgba(".concat(o,", ").concat(e,")")},cc=function(){return cc=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},cc.apply(this,arguments)},B1=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(n[o[s]]=t[o[s]]);return n};function mv(t){var e=t.loading,n=e===void 0?!0:e,o=t.color,s=o===void 0?"#000000":o,l=t.speedMultiplier,c=l===void 0?1:l,d=t.cssOverride,p=d===void 0?{}:d,g=t.size,_=g===void 0?50:g,T=B1(t,["loading","color","speedMultiplier","cssOverride","size"]),w=pv(_),I=w.value,R=w.unit,M=cc({display:"inherit",position:"relative",width:Uu(_),height:Uu(_),transform:"rotate(165deg)"},p),k=I/5,L=(I-k)/2,O=L-k,z=z1(s,.75),G=Ay("HashLoader","0% {width: ".concat(k,"px; box-shadow: ").concat(L,"px ").concat(-O,"px ").concat(z,", ").concat(-L,"px ").concat(O,"px ").concat(z,`}
    35% {width: `).concat(Uu(_),"; box-shadow: 0 ").concat(-O,"px ").concat(z,", 0 ").concat(O,"px ").concat(z,`}
    70% {width: `).concat(k,"px; box-shadow: ").concat(-L,"px ").concat(-O,"px ").concat(z,", ").concat(L,"px ").concat(O,"px ").concat(z,`}
    100% {box-shadow: `).concat(L,"px ").concat(-O,"px ").concat(z,", ").concat(-L,"px ").concat(O,"px ").concat(z,"}"),"before"),N=Ay("HashLoader","0% {height: ".concat(k,"px; box-shadow: ").concat(O,"px ").concat(L,"px ").concat(s,", ").concat(-O,"px ").concat(-L,"px ").concat(s,`}
    35% {height: `).concat(Uu(_),"; box-shadow: ").concat(O,"px 0 ").concat(s,", ").concat(-O,"px 0 ").concat(s,`}
    70% {height: `).concat(k,"px; box-shadow: ").concat(O,"px ").concat(-L,"px ").concat(s,", ").concat(-O,"px ").concat(L,"px ").concat(s,`}
    100% {box-shadow: `).concat(O,"px ").concat(L,"px ").concat(s,", ").concat(-O,"px ").concat(-L,"px ").concat(s,"}"),"after"),ee=function(A){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(I/5).concat(R),height:"".concat(I/5).concat(R),borderRadius:"".concat(I/10).concat(R),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(A===1?G:N," ").concat(2/c,"s infinite")}};return n?$.createElement("span",cc({style:M},T),$.createElement("span",{style:ee(1)}),$.createElement("span",{style:ee(2)})):null}var zd={exports:{}},Bd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function $1(){if(xy)return Bd;xy=1;var t=So();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,o=t.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Bd.useSyncExternalStoreWithSelector=function(p,g,_,T,w){var I=s(null);if(I.current===null){var R={hasValue:!1,value:null};I.current=R}else R=I.current;I=c(function(){function k(N){if(!L){if(L=!0,O=N,N=T(N),w!==void 0&&R.hasValue){var ee=R.value;if(w(ee,N))return z=ee}return z=N}if(ee=z,n(O,N))return ee;var A=T(N);return w!==void 0&&w(ee,A)?(O=N,ee):(O=N,z=A)}var L=!1,O,z,G=_===void 0?null:_;return[function(){return k(g())},G===null?void 0:function(){return k(G())}]},[g,_,T,w]);var M=o(p,I[0],I[1]);return l(function(){R.hasValue=!0,R.value=M},[M]),d(M),M},Bd}var ky;function H1(){return ky||(ky=1,zd.exports=$1()),zd.exports}var q1=H1();function W1(t){t()}function K1(){let t=null,e=null;return{clear(){t=null,e=null},notify(){W1(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let o=t;for(;o;)n.push(o),o=o.next;return n},subscribe(n){let o=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var by={notify(){},get:()=>[]};function Q1(t,e){let n,o=by,s=0,l=!1;function c(M){_();const k=o.subscribe(M);let L=!1;return()=>{L||(L=!0,k(),T())}}function d(){o.notify()}function p(){R.onStateChange&&R.onStateChange()}function g(){return l}function _(){s++,n||(n=t.subscribe(p),o=K1())}function T(){s--,n&&s===0&&(n(),n=void 0,o.clear(),o=by)}function w(){l||(l=!0,_())}function I(){l&&(l=!1,T())}const R={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:w,tryUnsubscribe:I,getListeners:()=>o};return R}var G1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X1=G1(),Y1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",J1=Y1(),Z1=()=>X1||J1?$.useLayoutEffect:$.useEffect,eS=Z1(),$d=Symbol.for("react-redux-context"),Hd=typeof globalThis<"u"?globalThis:{};function tS(){if(!$.createContext)return{};const t=Hd[$d]??(Hd[$d]=new Map);let e=t.get($.createContext);return e||(e=$.createContext(null),t.set($.createContext,e)),e}var go=tS();function nS(t){const{children:e,context:n,serverState:o,store:s}=t,l=$.useMemo(()=>{const p=Q1(s);return{store:s,subscription:p,getServerState:o?()=>o:void 0}},[s,o]),c=$.useMemo(()=>s.getState(),[s]);eS(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==s.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=n||go;return $.createElement(d.Provider,{value:l},e)}var rS=nS;function sp(t=go){return function(){return $.useContext(t)}}var gv=sp();function yv(t=go){const e=t===go?gv:sp(t),n=()=>{const{store:o}=e();return o};return Object.assign(n,{withTypes:()=>n}),n}var iS=yv();function oS(t=go){const e=t===go?iS:yv(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var is=oS(),sS=(t,e)=>t===e;function aS(t=go){const e=t===go?gv:sp(t),n=(o,s={})=>{const{equalityFn:l=sS}=typeof s=="function"?{equalityFn:s}:s,c=e(),{store:d,subscription:p,getServerState:g}=c;$.useRef(!0);const _=$.useCallback({[o.name](w){return o(w)}}[o.name],[o]),T=q1.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,_,l);return $.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var ia=aS();function an(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lS=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dy=lS,qd=()=>Math.random().toString(36).substring(7).split("").join("."),uS={INIT:`@@redux/INIT${qd()}`,REPLACE:`@@redux/REPLACE${qd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qd()}`},fc=uS;function ap(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _v(t,e,n){if(typeof t!="function")throw new Error(an(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(an(1));return n(_v)(t,e)}let o=t,s=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((k,L)=>{c.set(L,k)}))}function _(){if(p)throw new Error(an(3));return s}function T(k){if(typeof k!="function")throw new Error(an(4));if(p)throw new Error(an(5));let L=!0;g();const O=d++;return c.set(O,k),function(){if(L){if(p)throw new Error(an(6));L=!1,g(),c.delete(O),l=null}}}function w(k){if(!ap(k))throw new Error(an(7));if(typeof k.type>"u")throw new Error(an(8));if(typeof k.type!="string")throw new Error(an(17));if(p)throw new Error(an(9));try{p=!0,s=o(s,k)}finally{p=!1}return(l=c).forEach(O=>{O()}),k}function I(k){if(typeof k!="function")throw new Error(an(10));o=k,w({type:fc.REPLACE})}function R(){const k=T;return{subscribe(L){if(typeof L!="object"||L===null)throw new Error(an(11));function O(){const G=L;G.next&&G.next(_())}return O(),{unsubscribe:k(O)}},[Dy](){return this}}}return w({type:fc.INIT}),{dispatch:w,subscribe:T,getState:_,replaceReducer:I,[Dy]:R}}function cS(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fc.INIT})>"u")throw new Error(an(12));if(typeof n(void 0,{type:fc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function fS(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const o=Object.keys(n);let s;try{cS(n)}catch(l){s=l}return function(c={},d){if(s)throw s;let p=!1;const g={};for(let _=0;_<o.length;_++){const T=o[_],w=n[T],I=c[T],R=w(I,d);if(typeof R>"u")throw d&&d.type,new Error(an(14));g[T]=R,p=p||R!==I}return p=p||o.length!==Object.keys(c).length,p?g:c}}function dc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...o)=>e(n(...o)))}function dS(...t){return e=>(n,o)=>{const s=e(n,o);let l=()=>{throw new Error(an(15))};const c={getState:s.getState,dispatch:(p,...g)=>l(p,...g)},d=t.map(p=>p(c));return l=dc(...d)(s.dispatch),{...s,dispatch:l}}}function hS(t){return ap(t)&&"type"in t&&typeof t.type=="string"}var vv=Symbol.for("immer-nothing"),Ny=Symbol.for("immer-draftable"),Zn=Symbol.for("immer-state");function Nr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gs=Object.getPrototypeOf;function Jo(t){return!!t&&!!t[Zn]}function Ri(t){var e;return t?Ev(t)||Array.isArray(t)||!!t[Ny]||!!((e=t.constructor)!=null&&e[Ny])||Vc(t)||Mc(t):!1}var pS=Object.prototype.constructor.toString();function Ev(t){if(!t||typeof t!="object")return!1;const e=Gs(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===pS}function hc(t,e){Lc(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,o)=>e(o,n,t))}function Lc(t){const e=t[Zn];return e?e.type_:Array.isArray(t)?1:Vc(t)?2:Mc(t)?3:0}function fh(t,e){return Lc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function wv(t,e,n){const o=Lc(t);o===2?t.set(e,n):o===3?t.add(n):t[e]=n}function mS(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Vc(t){return t instanceof Map}function Mc(t){return t instanceof Set}function Wo(t){return t.copy_||t.base_}function dh(t,e){if(Vc(t))return new Map(t);if(Mc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Ev(t);if(e===!0||e==="class_only"&&!n){const o=Object.getOwnPropertyDescriptors(t);delete o[Zn];let s=Reflect.ownKeys(o);for(let l=0;l<s.length;l++){const c=s[l],d=o[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(o[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Gs(t),o)}else{const o=Gs(t);if(o!==null&&n)return{...t};const s=Object.create(o);return Object.assign(s,t)}}function lp(t,e=!1){return Oc(t)||Jo(t)||!Ri(t)||(Lc(t)>1&&(t.set=t.add=t.clear=t.delete=gS),Object.freeze(t),e&&Object.entries(t).forEach(([n,o])=>lp(o,!0))),t}function gS(){Nr(2)}function Oc(t){return Object.isFrozen(t)}var yS={};function Zo(t){const e=yS[t];return e||Nr(0,t),e}var ll;function Tv(){return ll}function _S(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ly(t,e){e&&(Zo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hh(t){ph(t),t.drafts_.forEach(vS),t.drafts_=null}function ph(t){t===ll&&(ll=t.parent_)}function Vy(t){return ll=_S(ll,t)}function vS(t){const e=t[Zn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function My(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Zn].modified_&&(hh(e),Nr(4)),Ri(t)&&(t=pc(e,t),e.parent_||mc(e,t)),e.patches_&&Zo("Patches").generateReplacementPatches_(n[Zn].base_,t,e.patches_,e.inversePatches_)):t=pc(e,n,[]),hh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==vv?t:void 0}function pc(t,e,n){if(Oc(e))return e;const o=e[Zn];if(!o)return hc(e,(s,l)=>Oy(t,o,e,s,l,n)),e;if(o.scope_!==t)return e;if(!o.modified_)return mc(t,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const s=o.copy_;let l=s,c=!1;o.type_===3&&(l=new Set(s),s.clear(),c=!0),hc(l,(d,p)=>Oy(t,o,s,d,p,n,c)),mc(t,s,!1),n&&t.patches_&&Zo("Patches").generatePatches_(o,n,t.patches_,t.inversePatches_)}return o.copy_}function Oy(t,e,n,o,s,l,c){if(Jo(s)){const d=l&&e&&e.type_!==3&&!fh(e.assigned_,o)?l.concat(o):void 0,p=pc(t,s,d);if(wv(n,o,p),Jo(p))t.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Ri(s)&&!Oc(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;pc(t,s),(!e||!e.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,o)&&mc(t,s)}}function mc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lp(e,n)}function ES(t,e){const n=Array.isArray(t),o={type_:n?1:0,scope_:e?e.scope_:Tv(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=o,l=up;n&&(s=[o],l=ul);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return o.draft_=d,o.revoke_=c,d}var up={get(t,e){if(e===Zn)return t;const n=Wo(t);if(!fh(n,e))return wS(t,n,e);const o=n[e];return t.finalized_||!Ri(o)?o:o===Wd(t.base_,e)?(Kd(t),t.copy_[e]=gh(o,t)):o},has(t,e){return e in Wo(t)},ownKeys(t){return Reflect.ownKeys(Wo(t))},set(t,e,n){const o=Sv(Wo(t),e);if(o!=null&&o.set)return o.set.call(t.draft_,n),!0;if(!t.modified_){const s=Wd(Wo(t),e),l=s==null?void 0:s[Zn];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(mS(n,s)&&(n!==void 0||fh(t.base_,e)))return!0;Kd(t),mh(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Wd(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Kd(t),mh(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Wo(t),o=Reflect.getOwnPropertyDescriptor(n,e);return o&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:o.enumerable,value:n[e]}},defineProperty(){Nr(11)},getPrototypeOf(t){return Gs(t.base_)},setPrototypeOf(){Nr(12)}},ul={};hc(up,(t,e)=>{ul[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ul.deleteProperty=function(t,e){return ul.set.call(this,t,e,void 0)};ul.set=function(t,e,n){return up.set.call(this,t[0],e,n,t[0])};function Wd(t,e){const n=t[Zn];return(n?Wo(n):t)[e]}function wS(t,e,n){var s;const o=Sv(e,n);return o?"value"in o?o.value:(s=o.get)==null?void 0:s.call(t.draft_):void 0}function Sv(t,e){if(!(e in t))return;let n=Gs(t);for(;n;){const o=Object.getOwnPropertyDescriptor(n,e);if(o)return o;n=Gs(n)}}function mh(t){t.modified_||(t.modified_=!0,t.parent_&&mh(t.parent_))}function Kd(t){t.copy_||(t.copy_=dh(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var TS=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,o)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(p=l,...g){return c.produce(p,_=>n.call(this,_,...g))}}typeof n!="function"&&Nr(6),o!==void 0&&typeof o!="function"&&Nr(7);let s;if(Ri(e)){const l=Vy(this),c=gh(e,void 0);let d=!0;try{s=n(c),d=!1}finally{d?hh(l):ph(l)}return Ly(l,o),My(s,l)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===vv&&(s=void 0),this.autoFreeze_&&lp(s,!0),o){const l=[],c=[];Zo("Patches").generateReplacementPatches_(e,s,l,c),o(l,c)}return s}else Nr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let o,s;return[this.produce(e,n,(c,d)=>{o=c,s=d}),o,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ri(t)||Nr(8),Jo(t)&&(t=SS(t));const e=Vy(this),n=gh(t,void 0);return n[Zn].isManual_=!0,ph(e),n}finishDraft(t,e){const n=t&&t[Zn];(!n||!n.isManual_)&&Nr(9);const{scope_:o}=n;return Ly(o,e),My(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const o=Zo("Patches").applyPatches_;return Jo(t)?o(t,e):this.produce(t,s=>o(s,e))}};function gh(t,e){const n=Vc(t)?Zo("MapSet").proxyMap_(t,e):Mc(t)?Zo("MapSet").proxySet_(t,e):ES(t,e);return(e?e.scope_:Tv()).drafts_.push(n),n}function SS(t){return Jo(t)||Nr(10,t),Cv(t)}function Cv(t){if(!Ri(t)||Oc(t))return t;const e=t[Zn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dh(t,e.scope_.immer_.useStrictShallowCopy_)}else n=dh(t,!0);return hc(n,(o,s)=>{wv(n,o,Cv(s))}),e&&(e.finalized_=!1),n}var er=new TS,Iv=er.produce;er.produceWithPatches.bind(er);er.setAutoFreeze.bind(er);er.setUseStrictShallowCopy.bind(er);er.applyPatches.bind(er);er.createDraft.bind(er);er.finishDraft.bind(er);function Rv(t){return({dispatch:n,getState:o})=>s=>l=>typeof l=="function"?l(n,o,t):s(l)}var CS=Rv(),IS=Rv,RS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dc:dc.apply(null,arguments)},PS=t=>t&&typeof t.match=="function";function nl(t,e){function n(...o){if(e){let s=e(...o);if(!s)throw new Error(Ci(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:o[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=o=>hS(o)&&o.type===t,n}var Pv=class Ya extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ya.prototype)}static get[Symbol.species](){return Ya}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ya(...e[0].concat(this)):new Ya(...e.concat(this))}};function Fy(t){return Ri(t)?Iv(t,()=>{}):t}function jy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function AS(t){return typeof t=="boolean"}var xS=()=>function(e){const{thunk:n=!0,immutableCheck:o=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let c=new Pv;return n&&(AS(n)?c.push(CS):c.push(IS(n.extraArgument))),c},kS="RTK_autoBatch",Uy=t=>e=>{setTimeout(e,t)},bS=(t={type:"raf"})=>e=>(...n)=>{const o=e(...n);let s=!0,l=!1,c=!1;const d=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Uy(10):t.type==="callback"?t.queueNotification:Uy(t.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},o,{subscribe(_){const T=()=>s&&_(),w=o.subscribe(T);return d.add(_),()=>{w(),d.delete(_)}},dispatch(_){var T;try{return s=!((T=_==null?void 0:_.meta)!=null&&T[kS]),l=!s,l&&(c||(c=!0,p(g))),o.dispatch(_)}finally{s=!0}}})},DS=t=>function(n){const{autoBatch:o=!0}=n??{};let s=new Pv(t);return o&&s.push(bS(typeof o=="object"?o:void 0)),s};function NS(t){const e=xS(),{reducer:n=void 0,middleware:o,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=t;let d;if(typeof n=="function")d=n;else if(ap(n))d=fS(n);else throw new Error(Ci(1));let p;typeof o=="function"?p=o(e):p=e();let g=dc;s&&(g=RS({trace:!1,...typeof s=="object"&&s}));const _=dS(...p),T=DS(_);let w=typeof c=="function"?c(T):T();const I=g(...w);return _v(d,l,I)}function Av(t){const e={},n=[];let o;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Ci(28));if(d in e)throw new Error(Ci(29));return e[d]=c,s},addMatcher(l,c){return n.push({matcher:l,reducer:c}),s},addDefaultCase(l){return o=l,s}};return t(s),[e,n,o]}function LS(t){return typeof t=="function"}function VS(t,e){let[n,o,s]=Av(e),l;if(LS(t))l=()=>Fy(t());else{const d=Fy(t);l=()=>d}function c(d=l(),p){let g=[n[p.type],...o.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[s]),g.reduce((_,T)=>{if(T)if(Jo(_)){const I=T(_,p);return I===void 0?_:I}else{if(Ri(_))return Iv(_,w=>T(w,p));{const w=T(_,p);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},d)}return c.getInitialState=l,c}var MS=(t,e)=>PS(t)?t.match(e):t(e);function OS(...t){return e=>t.some(n=>MS(n,e))}var FS="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jS=(t=21)=>{let e="",n=t;for(;n--;)e+=FS[Math.random()*64|0];return e},US=["name","message","stack","code"],Qd=class{constructor(t,e){bd(this,"_type");this.payload=t,this.meta=e}},zy=class{constructor(t,e){bd(this,"_type");this.payload=t,this.meta=e}},zS=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of US)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},oi=(()=>{function t(e,n,o){const s=nl(e+"/fulfilled",(p,g,_,T)=>({payload:p,meta:{...T||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),l=nl(e+"/pending",(p,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:p,requestStatus:"pending"}})),c=nl(e+"/rejected",(p,g,_,T,w)=>({payload:T,error:(o&&o.serializeError||zS)(p||"Rejected"),meta:{...w||{},arg:_,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function d(p){return(g,_,T)=>{const w=o!=null&&o.idGenerator?o.idGenerator(p):jS(),I=new AbortController;let R,M;function k(O){M=O,I.abort()}const L=async function(){var G,N;let O;try{let ee=(G=o==null?void 0:o.condition)==null?void 0:G.call(o,p,{getState:_,extra:T});if($S(ee)&&(ee=await ee),ee===!1||I.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((S,P)=>{R=()=>{P({name:"AbortError",message:M||"Aborted"})},I.signal.addEventListener("abort",R)});g(l(w,p,(N=o==null?void 0:o.getPendingMeta)==null?void 0:N.call(o,{requestId:w,arg:p},{getState:_,extra:T}))),O=await Promise.race([A,Promise.resolve(n(p,{dispatch:g,getState:_,extra:T,requestId:w,signal:I.signal,abort:k,rejectWithValue:(S,P)=>new Qd(S,P),fulfillWithValue:(S,P)=>new zy(S,P)})).then(S=>{if(S instanceof Qd)throw S;return S instanceof zy?s(S.payload,w,p,S.meta):s(S,w,p)})])}catch(ee){O=ee instanceof Qd?c(null,w,p,ee.payload,ee.meta):c(ee,w,p)}finally{R&&I.signal.removeEventListener("abort",R)}return o&&!o.dispatchConditionRejection&&c.match(O)&&O.meta.condition||g(O),O}();return Object.assign(L,{abort:k,requestId:w,arg:p,unwrap(){return L.then(BS)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:s,settled:OS(c,s),typePrefix:e})}return t.withTypes=()=>t,t})();function BS(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function $S(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var HS=Symbol.for("rtk-slice-createasyncthunk");function qS(t,e){return`${t}/${e}`}function WS({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[HS];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Ci(11));const d=(typeof s.reducers=="function"?s.reducers(QS()):s.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(z,G){const N=typeof z=="string"?z:z.type;if(!N)throw new Error(Ci(12));if(N in g.sliceCaseReducersByType)throw new Error(Ci(13));return g.sliceCaseReducersByType[N]=G,_},addMatcher(z,G){return g.sliceMatchers.push({matcher:z,reducer:G}),_},exposeAction(z,G){return g.actionCreators[z]=G,_},exposeCaseReducer(z,G){return g.sliceCaseReducersByName[z]=G,_}};p.forEach(z=>{const G=d[z],N={reducerName:z,type:qS(l,z),createNotation:typeof s.reducers=="function"};XS(G)?JS(N,G,_,e):GS(N,G,_)});function T(){const[z={},G=[],N=void 0]=typeof s.extraReducers=="function"?Av(s.extraReducers):[s.extraReducers],ee={...z,...g.sliceCaseReducersByType};return VS(s.initialState,A=>{for(let S in ee)A.addCase(S,ee[S]);for(let S of g.sliceMatchers)A.addMatcher(S.matcher,S.reducer);for(let S of G)A.addMatcher(S.matcher,S.reducer);N&&A.addDefaultCase(N)})}const w=z=>z,I=new Map;let R;function M(z,G){return R||(R=T()),R(z,G)}function k(){return R||(R=T()),R.getInitialState()}function L(z,G=!1){function N(A){let S=A[z];return typeof S>"u"&&G&&(S=k()),S}function ee(A=w){const S=jy(I,G,()=>new WeakMap);return jy(S,A,()=>{const P={};for(const[D,V]of Object.entries(s.selectors??{}))P[D]=KS(V,A,k,G);return P})}return{reducerPath:z,getSelectors:ee,get selectors(){return ee(N)},selectSlice:N}}const O={name:l,reducer:M,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:k,...L(c),injectInto(z,{reducerPath:G,...N}={}){const ee=G??c;return z.inject({reducerPath:ee,reducer:M},N),{...O,...L(ee,!0)}}};return O}}function KS(t,e,n,o){function s(l,...c){let d=e(l);return typeof d>"u"&&o&&(d=n()),t(d,...c)}return s.unwrapped=t,s}var xv=WS();function QS(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function GS({type:t,reducerName:e,createNotation:n},o,s){let l,c;if("reducer"in o){if(n&&!YS(o))throw new Error(Ci(17));l=o.reducer,c=o.prepare}else l=o;s.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?nl(t,c):nl(t))}function XS(t){return t._reducerDefinitionType==="asyncThunk"}function YS(t){return t._reducerDefinitionType==="reducerWithPrepare"}function JS({type:t,reducerName:e},n,o,s){if(!s)throw new Error(Ci(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:p,settled:g,options:_}=n,T=s(t,l,_);o.exposeAction(e,T),c&&o.addCase(T.fulfilled,c),d&&o.addCase(T.pending,d),p&&o.addCase(T.rejected,p),g&&o.addMatcher(T.settled,g),o.exposeCaseReducer(e,{fulfilled:c||zu,pending:d||zu,rejected:p||zu,settled:g||zu})}function zu(){}function Ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}function kv(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=kv(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Yo(){for(var t,e,n=0,o="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=kv(t))&&(o&&(o+=" "),o+=e);return o}function ZS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}ZS(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wl=t=>typeof t=="number"&&!isNaN(t),es=t=>typeof t=="string",Pi=t=>typeof t=="function",eC=t=>es(t)||wl(t),yh=t=>es(t)||Pi(t)?t:null,tC=(t,e)=>t===!1||wl(t)&&t>0?t:e,_h=t=>$.isValidElement(t)||es(t)||Pi(t)||wl(t);function nC(t,e,n=300){let{scrollHeight:o,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function rC({enter:t,exit:e,appendPosition:n=!1,collapse:o=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:g,isIn:_,playToast:T}){let w=n?`${t}--${c}`:t,I=n?`${e}--${c}`:e,R=$.useRef(0);return $.useLayoutEffect(()=>{let M=g.current,k=w.split(" "),L=O=>{O.target===g.current&&(T(),M.removeEventListener("animationend",L),M.removeEventListener("animationcancel",L),R.current===0&&O.type!=="animationcancel"&&M.classList.remove(...k))};M.classList.add(...k),M.addEventListener("animationend",L),M.addEventListener("animationcancel",L)},[]),$.useEffect(()=>{let M=g.current,k=()=>{M.removeEventListener("animationend",k),o?nC(M,p,s):p()};_||(d?k():(R.current=1,M.className+=` ${I}`,M.addEventListener("animationend",k)))},[_]),_t.createElement(_t.Fragment,null,l)}}function By(t,e){return{content:bv(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function bv(t,e,n=!1){return $.isValidElement(t)&&!es(t.type)?$.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Pi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function iC({closeToast:t,theme:e,ariaLabel:n="close"}){return _t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:o=>{o.stopPropagation(),t(!0)},"aria-label":n},_t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function oC({delay:t,isRunning:e,closeToast:n,type:o="default",hide:s,className:l,controlledProgress:c,progress:d,rtl:p,isIn:g,theme:_}){let T=s||c&&d===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${d})`);let I=Yo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":p}),R=Pi(l)?l({rtl:p,type:o,defaultClassName:I}):Yo(I,l),M={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&n()}};return _t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},_t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${o}`}),_t.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:R,style:w,...M}))}var sC=1,Dv=()=>`${sC++}`;function aC(t,e,n){let o=1,s=0,l=[],c=[],d=e,p=new Map,g=new Set,_=O=>(g.add(O),()=>g.delete(O)),T=()=>{c=Array.from(p.values()),g.forEach(O=>O())},w=({containerId:O,toastId:z,updateId:G})=>{let N=O?O!==t:t!==1,ee=p.has(z)&&G==null;return N||ee},I=(O,z)=>{p.forEach(G=>{var N;(z==null||z===G.props.toastId)&&((N=G.toggle)==null||N.call(G,O))})},R=O=>{var z,G;(G=(z=O.props)==null?void 0:z.onClose)==null||G.call(z,O.removalReason),O.isActive=!1},M=O=>{if(O==null)p.forEach(R);else{let z=p.get(O);z&&R(z)}T()},k=()=>{s-=l.length,l=[]},L=O=>{var z,G;let{toastId:N,updateId:ee}=O.props,A=ee==null;O.staleId&&p.delete(O.staleId),O.isActive=!0,p.set(N,O),T(),n(By(O,A?"added":"updated")),A&&((G=(z=O.props).onOpen)==null||G.call(z))};return{id:t,props:d,observe:_,toggle:I,removeToast:M,toasts:p,clearQueue:k,buildToast:(O,z)=>{if(w(z))return;let{toastId:G,updateId:N,data:ee,staleId:A,delay:S}=z,P=N==null;P&&s++;let D={...d,style:d.toastStyle,key:o++,...Object.fromEntries(Object.entries(z).filter(([U,x])=>x!=null)),toastId:G,updateId:N,data:ee,isIn:!1,className:yh(z.className||d.toastClassName),progressClassName:yh(z.progressClassName||d.progressClassName),autoClose:z.isLoading?!1:tC(z.autoClose,d.autoClose),closeToast(U){p.get(G).removalReason=U,M(G)},deleteToast(){let U=p.get(G);if(U!=null){if(n(By(U,"removed")),p.delete(G),s--,s<0&&(s=0),l.length>0){L(l.shift());return}T()}}};D.closeButton=d.closeButton,z.closeButton===!1||_h(z.closeButton)?D.closeButton=z.closeButton:z.closeButton===!0&&(D.closeButton=_h(d.closeButton)?d.closeButton:!0);let V={content:O,props:D,staleId:A};d.limit&&d.limit>0&&s>d.limit&&P?l.push(V):wl(S)?setTimeout(()=>{L(V)},S):L(V)},setProps(O){d=O},setToggle:(O,z)=>{let G=p.get(O);G&&(G.toggle=z)},isToastActive:O=>{var z;return(z=p.get(O))==null?void 0:z.isActive},getSnapshot:()=>c}}var An=new Map,cl=[],vh=new Set,lC=t=>vh.forEach(e=>e(t)),Nv=()=>An.size>0;function uC(){cl.forEach(t=>Vv(t.content,t.options)),cl=[]}var cC=(t,{containerId:e})=>{var n;return(n=An.get(e||1))==null?void 0:n.toasts.get(t)};function Lv(t,e){var n;if(e)return!!((n=An.get(e))!=null&&n.isToastActive(t));let o=!1;return An.forEach(s=>{s.isToastActive(t)&&(o=!0)}),o}function fC(t){if(!Nv()){cl=cl.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||eC(t))An.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=An.get(t.containerId);e?e.removeToast(t.id):An.forEach(n=>{n.removeToast(t.id)})}}var dC=(t={})=>{An.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Vv(t,e){_h(t)&&(Nv()||cl.push({content:t,options:e}),An.forEach(n=>{n.buildToast(t,e)}))}function hC(t){var e;(e=An.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Mv(t,e){An.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function pC(t){let e=t.containerId||1;return{subscribe(n){let o=aC(e,t,lC);An.set(e,o);let s=o.observe(n);return uC(),()=>{s(),An.delete(e)}},setProps(n){var o;(o=An.get(e))==null||o.setProps(n)},getSnapshot(){var n;return(n=An.get(e))==null?void 0:n.getSnapshot()}}}function mC(t){return vh.add(t),()=>{vh.delete(t)}}function gC(t){return t&&(es(t.toastId)||wl(t.toastId))?t.toastId:Dv()}function Tl(t,e){return Vv(t,e),e.toastId}function Fc(t,e){return{...e,type:e&&e.type||t,toastId:gC(e)}}function jc(t){return(e,n)=>Tl(e,Fc(t,n))}function Ue(t,e){return Tl(t,Fc("default",e))}Ue.loading=(t,e)=>Tl(t,Fc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function yC(t,{pending:e,error:n,success:o},s){let l;e&&(l=es(e)?Ue.loading(e,s):Ue.loading(e.render,{...s,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,T)=>{if(_==null){Ue.dismiss(l);return}let w={type:g,...c,...s,data:T},I=es(_)?{render:_}:_;return l?Ue.update(l,{...w,...I}):Ue(I.render,{...w,...I}),T},p=Pi(t)?t():t;return p.then(g=>d("success",o,g)).catch(g=>d("error",n,g)),p}Ue.promise=yC;Ue.success=jc("success");Ue.info=jc("info");Ue.error=jc("error");Ue.warning=jc("warning");Ue.warn=Ue.warning;Ue.dark=(t,e)=>Tl(t,Fc("default",{theme:"dark",...e}));function _C(t){fC(t)}Ue.dismiss=_C;Ue.clearWaitingQueue=dC;Ue.isActive=Lv;Ue.update=(t,e={})=>{let n=cC(t,e);if(n){let{props:o,content:s}=n,l={delay:100,...o,...e,toastId:e.toastId||t,updateId:Dv()};l.toastId!==t&&(l.staleId=t);let c=l.render||s;delete l.render,Tl(c,l)}};Ue.done=t=>{Ue.update(t,{progress:1})};Ue.onChange=mC;Ue.play=t=>Mv(!0,t);Ue.pause=t=>Mv(!1,t);function vC(t){var e;let{subscribe:n,getSnapshot:o,setProps:s}=$.useRef(pC(t)).current;s(t);let l=(e=$.useSyncExternalStore(n,o,o))==null?void 0:e.slice();function c(d){if(!l)return[];let p=new Map;return t.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:_}=g.props;p.has(_)||p.set(_,[]),p.get(_).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:Lv,count:l==null?void 0:l.length}}function EC(t){let[e,n]=$.useState(!1),[o,s]=$.useState(!1),l=$.useRef(null),c=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:_,closeOnClick:T}=t;hC({id:t.toastId,containerId:t.containerId,fn:n}),$.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{I()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||L(),window.addEventListener("focus",k),window.addEventListener("blur",L)}function I(){window.removeEventListener("focus",k),window.removeEventListener("blur",L)}function R(A){if(t.draggable===!0||t.draggable===A.pointerType){O();let S=l.current;c.canCloseOnClick=!0,c.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(c.start=A.clientX,c.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(c.start=A.clientY,c.removalDistance=S.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function M(A){let{top:S,bottom:P,left:D,right:V}=l.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=D&&A.clientX<=V&&A.clientY>=S&&A.clientY<=P?L():k()}function k(){n(!0)}function L(){n(!1)}function O(){c.didMove=!1,document.addEventListener("pointermove",G),document.addEventListener("pointerup",N)}function z(){document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",N)}function G(A){let S=l.current;if(c.canDrag&&S){c.didMove=!0,e&&L(),t.draggableDirection==="x"?c.delta=A.clientX-c.start:c.delta=A.clientY-c.start,c.start!==A.clientX&&(c.canCloseOnClick=!1);let P=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;S.style.transform=`translate3d(${P},0)`,S.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function N(){z();let A=l.current;if(c.canDrag&&c.didMove&&A){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let ee={onPointerDown:R,onPointerUp:M};return d&&p&&(ee.onMouseEnter=L,t.stacked||(ee.onMouseLeave=k)),T&&(ee.onClick=A=>{_&&_(A),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:L,isRunning:e,preventExitTransition:o,toastRef:l,eventHandlers:ee}}var wC=typeof window<"u"?$.useLayoutEffect:$.useEffect,Uc=({theme:t,type:e,isLoading:n,...o})=>_t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...o});function TC(t){return _t.createElement(Uc,{...t},_t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function SC(t){return _t.createElement(Uc,{...t},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function CC(t){return _t.createElement(Uc,{...t},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function IC(t){return _t.createElement(Uc,{...t},_t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function RC(){return _t.createElement("div",{className:"Toastify__spinner"})}var Eh={info:SC,warning:TC,success:CC,error:IC,spinner:RC},PC=t=>t in Eh;function AC({theme:t,type:e,isLoading:n,icon:o}){let s=null,l={theme:t,type:e};return o===!1||(Pi(o)?s=o({...l,isLoading:n}):$.isValidElement(o)?s=$.cloneElement(o,l):n?s=Eh.spinner():PC(e)&&(s=Eh[e](l))),s}var xC=t=>{let{isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:s,playToast:l}=EC(t),{closeButton:c,children:d,autoClose:p,onClick:g,type:_,hideProgressBar:T,closeToast:w,transition:I,position:R,className:M,style:k,progressClassName:L,updateId:O,role:z,progress:G,rtl:N,toastId:ee,deleteToast:A,isIn:S,isLoading:P,closeOnClick:D,theme:V,ariaLabel:U}=t,x=Yo("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":D}),et=Pi(M)?M({rtl:N,position:R,type:_,defaultClassName:x}):Yo(x,M),je=AC(t),at=!!G||!p,Te={closeToast:w,type:_,theme:V},le=null;return c===!1||(Pi(c)?le=c(Te):$.isValidElement(c)?le=$.cloneElement(c,Te):le=iC(Te)),_t.createElement(I,{isIn:S,done:A,position:R,preventExitTransition:n,nodeRef:o,playToast:l},_t.createElement("div",{id:ee,tabIndex:0,onClick:g,"data-in":S,className:et,...s,style:k,ref:o,...S&&{role:z,"aria-label":U}},je!=null&&_t.createElement("div",{className:Yo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},je),bv(d,t,!e),le,!t.customProgressBar&&_t.createElement(oC,{...O&&!at?{key:`p-${O}`}:{},rtl:N,theme:V,delay:p,isRunning:e,isIn:S,closeToast:w,hide:T,type:_,className:L,controlledProgress:at,progress:G||0})))},kC=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),bC=rC(kC("bounce",!0)),DC={position:"top-right",transition:bC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function NC(t){let e={...DC,...t},n=t.stacked,[o,s]=$.useState(!0),l=$.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=vC(e),{className:g,style:_,rtl:T,containerId:w,hotKeys:I}=e;function R(k){let L=Yo("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":T});return Pi(g)?g({position:k,rtl:T,defaultClassName:L}):Yo(L,yh(g))}function M(){n&&(s(!0),Ue.play())}return wC(()=>{var k;if(n){let L=l.current.querySelectorAll('[data-in="true"]'),O=12,z=(k=e.position)==null?void 0:k.includes("top"),G=0,N=0;Array.from(L).reverse().forEach((ee,A)=>{let S=ee;S.classList.add("Toastify__toast--stacked"),A>0&&(S.dataset.collapsed=`${o}`),S.dataset.pos||(S.dataset.pos=z?"top":"bot");let P=G*(o?.2:1)+(o?0:O*A);S.style.setProperty("--y",`${z?P:P*-1}px`),S.style.setProperty("--g",`${O}`),S.style.setProperty("--s",`${1-(o?N:0)}`),G+=S.offsetHeight,N+=.025})}},[o,p,n]),$.useEffect(()=>{function k(L){var O;let z=l.current;I(L)&&((O=z.querySelector('[tabIndex="0"]'))==null||O.focus(),s(!1),Ue.pause()),L.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(s(!0),Ue.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[I]),_t.createElement("section",{ref:l,className:"Toastify",id:w,onMouseEnter:()=>{n&&(s(!1),Ue.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,L)=>{let O=L.length?{..._}:{..._,pointerEvents:"none"};return _t.createElement("div",{tabIndex:-1,className:R(k),"data-stacked":n,style:O,key:`c-${k}`},L.map(({content:z,props:G})=>_t.createElement(xC,{...G,stacked:n,collapseAll:M,isIn:d(G.toastId,G.containerId),key:`t-${G.key}`},z)))}))}const wh=oi("products/fetch",async()=>{try{return(await(await fetch("https://dummyjson.com/products")).json()).products}catch(t){return Promise.reject(t)}}),Th=oi("products/singleProduct",async t=>{try{return{product:await(await fetch(`https://dummyjson.com/products/${t}`)).json(),id:t}}catch(e){return Promise.reject(e)}}),Sh=oi("products/add",async({product:t})=>{try{const e=await fetch("https://dummyjson.com/products/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.title,description:t.description,price:t.price,rating:t.rating,thumbnail:t.thumbnail,category:t.category,brand:t.brand})});let n;if(e.ok)n=await e.json();else throw new Error("Failed To Add Product!");return n}catch(e){return Promise.reject(e)}}),Ch=oi("products/delete",async(t,e)=>{try{const n=await fetch(`https://dummyjson.com/products/${t}`,{method:"DELETE"});let o;const l=e.getState().productReducer.products;return n.ok&&(o=l.filter(c=>c.id!==t)),o}catch(n){return Promise.reject(n)}}),Ih=oi("products/update",async({id:t,updatedProduct:e})=>{try{const n=await fetch(`https://dummyjson.com/products/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,description:e.description,price:e.price,rating:e.rating})});if(!n.ok)throw new Error("Failed To Update Product!");return await n.json()}catch(n){return Promise.reject(n)}}),LC={products:[],sortedProducts:[],productsLoading:!0,sortPrice:!1,formVisible:!1,update:!1,productToUpdate:{},selectedProduct:{},productLoading:!0},Ov=xv({name:"Products",initialState:LC,reducers:{sortProducts:(t,e)=>{t.sortPrice=!t.sortPrice},formToggle:(t,e)=>{t.formVisible=!t.formVisible,t.update&&(t.update=!1)},formClose:(t,e)=>{t.formVisible=!1,t.update&&(t.update=!1)},setUpdate:(t,e)=>{t.formVisible=!t.formVisible,t.update=!0,t.productToUpdate=e.payload}},extraReducers:t=>{t.addCase(wh.fulfilled,(e,n)=>{e.products=n.payload,e.productsLoading=!1;const o=[...e.products].sort((s,l)=>parseFloat(s.price)-parseFloat(l.price));e.sortedProducts=o}),t.addCase(wh.rejected,(e,n)=>{Ue.error("Something Went Wrong!"),console.log(n.error.message)}),t.addCase(Th.fulfilled,(e,n)=>{if(e.selectedProduct=n.payload.product,!n.payload){const o=n.payload.id;e.selectedProduct=e.products.find(s=>s.id.toString()===o.toString())}e.productLoading=!1}),t.addCase(Th.rejected,(e,n)=>{console.log(n.error.message)}),t.addCase(Sh.fulfilled,(e,n)=>{e.products=[n.payload,...e.products],Ue.success("Product Added Successfully!");const o=[...e.products].sort((s,l)=>parseFloat(s.price)-parseFloat(l.price));e.sortedProducts=o,e.formVisible=!1}),t.addCase(Sh.rejected,(e,n)=>{Ue.error("Failed To Add Product!"),console.log(n.error.message||n.payload)}),t.addCase(Ch.fulfilled,(e,n)=>{e.products=n.payload,Ue.success("Product Removed Successfully!");const o=[...e.products].sort((s,l)=>parseFloat(s.price)-parseFloat(l.price));e.sortedProducts=o}),t.addCase(Ch.rejected,(e,n)=>{Ue.error("Error While Removing The Product!"),console.log(n.error.message)}),t.addCase(Ih.fulfilled,(e,n)=>{e.products=e.products.map(s=>s.id===e.productToUpdate.id?n.payload:s),e.formVisible=!1,Ue.success("Product Updated Successfully!");const o=[...e.products].sort((s,l)=>parseFloat(s.price)-parseFloat(l.price));e.sortedProducts=o}),t.addCase(Ih.rejected,(e,n)=>{e.formVisible=!1,Ue.error("Failed To Update Product!"),console.log(n.error.message||n.payload)})}}),VC=Ov.reducer,{sortProducts:MC,formToggle:Fv,setUpdate:OC,formClose:s2,fetchProductById:a2}=Ov.actions,zc=t=>t.productReducer,FC="_productsListContainer_17o4w_3",$y={productsListContainer:FC},jC="_productContainer_harng_3",UC="_thumbnail_harng_47",zC="_heading_harng_61",BC="_description_harng_69",$C="_price_harng_93",HC="_addToCartBtn_harng_101",qC="_icon_harng_137",WC="_iconContainer_harng_147",KC="_link_harng_175",QC="_moreInfoBtn_harng_183",br={productContainer:jC,thumbnail:UC,heading:zC,description:BC,price:$C,addToCartBtn:HC,icon:qC,iconContainer:WC,link:KC,moreInfoBtn:QC};var Bu={},Gd={exports:{}},Xd,Hy;function GC(){if(Hy)return Xd;Hy=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xd=t,Xd}var Yd,qy;function XC(){if(qy)return Yd;qy=1;var t=GC();function e(){}function n(){}return n.resetWarningCache=e,Yd=function(){function o(c,d,p,g,_,T){if(T!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}o.isRequired=o;function s(){return o}var l={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Yd}var Wy;function YC(){return Wy||(Wy=1,Gd.exports=XC()()),Gd.exports}var $u={},Ky;function JC(){if(Ky)return $u;Ky=1,Object.defineProperty($u,"__esModule",{value:!0});var t=function(){function o(s,l){var c=[],d=!0,p=!1,g=void 0;try{for(var _=s[Symbol.iterator](),T;!(d=(T=_.next()).done)&&(c.push(T.value),!(l&&c.length===l));d=!0);}catch(w){p=!0,g=w}finally{try{!d&&_.return&&_.return()}finally{if(p)throw g}}return c}return function(s,l){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return o(s,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$u.default=n;var e=So();function n(o){var s=(0,e.useState)(o.count),l=t(s,2),c=l[0],d=l[1],p=(0,e.useState)(o.size),g=t(p,2),_=g[0],T=g[1],w=(0,e.useState)(o.char),I=t(w,2),R=I[0],M=I[1],k=(0,e.useState)(o.color),L=t(k,2),O=L[0],z=L[1],G=(0,e.useState)(o.activeColor),N=t(G,2),ee=N[0],A=N[1],S=(0,e.useState)(o.isHalf),P=t(S,2),D=P[0],V=P[1],U=(0,e.useState)(o.edit),x=t(U,2),et=x[0],je=x[1],at=(0,e.useState)(o.emptyIcon),Te=t(at,2),le=Te[0],_e=Te[1],de=(0,e.useState)(o.halfIcon),H=t(de,2),te=H[0],ge=H[1],Ne=(0,e.useState)(o.filledIcon),De=t(Ne,2),Be=De[0],Ke=De[1],qe=(0,e.useState)(o.a11y),Ve=t(qe,2),pt=Ve[0],fn=Ve[1],tr={count:c,size:_,char:R,color:O,activeColor:ee,isHalf:D,edit:et,emptyIcon:le,halfIcon:te,filledIcon:Be,a11y:pt};function Mt(At){d(At.count),T(At.size),M(At.char),z(At.color),A(At.activeColor),V(At.isHalf),je(At.edit),_e(At.emptyIcon),ge(At.halfIcon),Ke(At.filledIcon),fn(At.a11y)}return[tr,Mt]}return $u}var Hu={},Qy;function ZC(){if(Qy)return Hu;Qy=1,Object.defineProperty(Hu,"__esModule",{value:!0});var t=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(c[g]=p[g])}return c};Hu.default=l;var e=So(),n=o(e);function o(c){return c&&c.__esModule?c:{default:c}}var s={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"};function l(c){var d=c.index,p=c.active,g=c.config,_=c.onMouseOver,T=c.onMouseLeave,w=c.onClick,I=c.halfStarHidden,R=c.halfStarAt,M=c.isUsingIcons,k=c.uniqueness,L=g.color,O=g.activeColor,z=g.size,G=g.char,N=g.isHalf,ee=g.edit,A=g.halfIcon,S=g.emptyIcon,P=g.filledIcon,D="",V=!1;N&&!I&&R===d&&(M?D="react-stars-half":D="react-stars-"+k,V=!0);var U=t({},s,{color:p?O:L,cursor:ee?"pointer":"default",fontSize:z+"px"});function x(){return M?p?P:!p&&V?A:S:G}return n.default.createElement("span",{className:D,style:U,key:d,"data-index":d,"data-forhalf":P?d:G,onMouseOver:_,onMouseMove:_,onMouseLeave:T,onClick:w},x())}return Hu}var Gy;function eI(){if(Gy)return Bu;Gy=1,Object.defineProperty(Bu,"__esModule",{value:!0});var t=function(){function R(M,k){var L=[],O=!0,z=!1,G=void 0;try{for(var N=M[Symbol.iterator](),ee;!(O=(ee=N.next()).done)&&(L.push(ee.value),!(k&&L.length===k));O=!0);}catch(A){z=!0,G=A}finally{try{!O&&N.return&&N.return()}finally{if(z)throw G}}return L}return function(M,k){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=So(),n=g(e),o=YC(),s=g(o),l=JC(),c=g(l),d=ZC(),p=g(d);function g(R){return R&&R.__esModule?R:{default:R}}var _={overflow:"hidden",position:"relative"};function T(R,M){return`
    .react-stars-`+M+`:before {
      position: absolute;
      overflow: hidden;
      display: block;
      z-index: 1;
      top: 0; left: 0;
      width: 50%;
      content: attr(data-forhalf);
      color: `+R+`;
  }`}function w(R){return`
          span.react-stars-half > * {
          color: `+R+`;
      }`}function I(R){var M=(0,e.useState)(""),k=t(M,2),L=k[0],O=k[1],z=(0,e.useState)(0),G=t(z,2),N=G[0],ee=G[1],A=(0,e.useState)([]),S=t(A,2),P=S[0],D=S[1],V=(0,e.useState)(!1),U=t(V,2),x=U[0],et=U[1],je=(0,c.default)(R),at=t(je,2),Te=at[0],le=at[1],_e=(0,e.useState)(0),de=t(_e,2),H=de[0],te=de[1],ge=(0,e.useState)(!1),Ne=t(ge,2),De=Ne[0],Be=Ne[1],Ke=(0,e.useState)(""),qe=t(Ke,2),Ve=qe[0],pt=qe[1];function fn(Re){return!Re.isHalf&&Re.emptyIcon&&Re.filledIcon||Re.isHalf&&Re.emptyIcon&&Re.halfIcon&&Re.filledIcon}function tr(){O((Math.random()+"").replace(".",""))}(0,e.useEffect)(function(){At(),Mt(R.value,R.count),D(nr(R.value)),le(R),tr(),et(fn(R)),te(Math.floor(R.value)),Be(R.isHalf&&R.value%1<.5)},[]);function Mt(Re,Qe){Re<0||Re>Qe?ee(0):ee(Re)}function At(){var Re="react-stars";pt(R.classNames+(" "+Re))}function Or(Re){return Re%1===0}function Fr(){return Te.isHalf?Math.floor(N):Math.round(N)}function nr(Re){typeof Re>"u"&&(Re=Fr());for(var Qe=[],He=0;He<Te.count;He++)Qe.push({active:He<=Re-1});return Qe}function Ni(Re){if(Te.edit){var Qe=Number(Re.currentTarget.getAttribute("data-index"));if(Te.isHalf){var He=xn(Re);Be(He),He&&(Qe+=1),te(Qe)}else Qe+=1;jr(Qe)}}function jr(Re){var Qe=P.filter(function(He){return He.active});Re!==Qe.length&&D(nr(Re))}function xn(Re){var Qe=Re.target,He=Qe.getBoundingClientRect(),Ct=Re.clientX-He.left;return Ct=Math.round(Math.abs(Ct)),Ct>He.width/2}function Ut(){Te.edit&&(kn(N),D(nr()))}function kn(Re){Te.isHalf&&(Be(Or(Re)),te(Math.floor(Re)))}function hr(Re){if(Te.edit){var Qe=Number(Re.currentTarget.getAttribute("data-index")),He=void 0;if(Te.isHalf){var Ct=xn(Re);Be(Ct),Ct&&(Qe+=1),He=Ct?Qe:Qe+.5,te(Qe)}else He=Qe=Qe+1;Zt(He)}}function rr(){return n.default.createElement("style",{dangerouslySetInnerHTML:{__html:x?w(Te.activeColor):T(Te.activeColor,L)}})}function Zt(Re){Re!==N&&(D(nr(Re)),ee(Re),R.onChange(Re))}function ut(Re){if(!(!Te.a11y&&!Te.edit)){var Qe=Re.key,He=N,Ct=Number(Qe);Ct?Number.isInteger(Ct)&&Ct>0&&Ct<=Te.count&&(He=Ct):(Qe==="ArrowUp"||Qe==="ArrowRight")&&He<Te.count?(Re.preventDefault(),He+=Te.isHalf?.5:1):(Qe==="ArrowDown"||Qe==="ArrowLeft")&&He>.5&&(Re.preventDefault(),He-=Te.isHalf?.5:1),kn(He),Zt(He)}}function St(){return P.map(function(Re,Qe){return n.default.createElement(p.default,{key:Qe,index:Qe,active:Re.active,config:Te,onMouseOver:Ni,onMouseLeave:Ut,onClick:hr,halfStarHidden:De,halfStarAt:H,isUsingIcons:x,uniqueness:L})})}return n.default.createElement("div",{className:"react-stars-wrapper-"+L,style:{display:"flex"}},n.default.createElement("div",{tabIndex:Te.a11y&&Te.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:ut,className:Ve,style:_},Te.isHalf&&rr(),St(),n.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},N)))}return I.propTypes={classNames:s.default.string,edit:s.default.bool,half:s.default.bool,value:s.default.number,count:s.default.number,char:s.default.string,size:s.default.number,color:s.default.string,activeColor:s.default.string,emptyIcon:s.default.element,halfIcon:s.default.element,filledIcon:s.default.element,a11y:s.default.bool},I.defaultProps={edit:!0,half:!1,value:0,count:5,char:"",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},Bu.default=I,Bu}var tI=eI();const cp=kc(tI);var Xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++o)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nI=function(t){const e=[];let n=0,o=0;for(;n<t.length;){const s=t[n++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],c=t[n++],d=t[n++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[o++]=String.fromCharCode(55296+(p>>10)),e[o++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<t.length;s+=3){const l=t[s],c=s+1<t.length,d=c?t[s+1]:0,p=s+2<t.length,g=p?t[s+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,I=g&63;p||(I=64,c||(w=64)),o.push(n[_],n[T],n[w],n[I])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const g=s<t.length?n[t.charAt(s)]:64;++s;const T=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||d==null||g==null||T==null)throw new rI;const w=l<<2|d>>4;if(o.push(w),g!==64){const I=d<<4&240|g>>2;if(o.push(I),T!==64){const R=g<<6&192|T;o.push(R)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iI=function(t){const e=jv(t);return Uv.encodeByteArray(e,!0)},gc=function(t){return iI(t).replace(/\./g,"")},oI=function(t){try{return Uv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=()=>sI().__FIREBASE_DEFAULTS__,lI=()=>{if(typeof process>"u"||typeof Xy>"u")return;const t=Xy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oI(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return aI()||lI()||uI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cI=t=>{var e,n;return(n=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fI=t=>{const e=cI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},zv=()=>{var t;return(t=fp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mI(){var t;const e=(t=fp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gI(){return!mI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((t,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(o),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="FirebaseError";class oa extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=vI,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bv.prototype.create)}}class Bv{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?EI(l,o):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new oa(s,d,o)}}function EI(t,e){return t.replace(wI,(n,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const wI=/\{\$([^}]+)}/g;function Rh(t,e){if(t===e)return!0;const n=Object.keys(t),o=Object.keys(e);for(const s of n){if(!o.includes(s))return!1;const l=t[s],c=e[s];if(Yy(l)&&Yy(c)){if(!Rh(l,c))return!1}else if(l!==c)return!1}for(const s of o)if(!n.includes(s))return!1;return!0}function Yy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){return t&&t._delegate?t._delegate:t}class fl{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new dI;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CI(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);o===d&&c.resolve(s)}return s}onInit(e,n){var o;const s=this.normalizeInstanceIdentifier(n),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const s of o)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:SI(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SI(t){return t===Ko?void 0:t}function CI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const RI={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},PI=it.INFO,AI={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},xI=(t,e,...n)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),s=AI[e];if(s)console[s](`[${o}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $v{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=xI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const kI=(t,e)=>e.some(n=>t instanceof n);let Jy,Zy;function bI(){return Jy||(Jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DI(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,Ph=new WeakMap,qv=new WeakMap,Jd=new WeakMap,dp=new WeakMap;function NI(t){const e=new Promise((n,o)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(co(t.result)),s()},c=()=>{o(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Hv.set(n,t)}).catch(()=>{}),dp.set(e,t),e}function LI(t){if(Ph.has(t))return;const e=new Promise((n,o)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{o(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Ph.set(t,e)}let Ah={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ph.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VI(t){Ah=t(Ah)}function MI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=t.call(Zd(this),e,...n);return qv.set(o,e.sort?e.sort():[e]),co(o)}:DI().includes(t)?function(...e){return t.apply(Zd(this),e),co(Hv.get(this))}:function(...e){return co(t.apply(Zd(this),e))}}function OI(t){return typeof t=="function"?MI(t):(t instanceof IDBTransaction&&LI(t),kI(t,bI())?new Proxy(t,Ah):t)}function co(t){if(t instanceof IDBRequest)return NI(t);if(Jd.has(t))return Jd.get(t);const e=OI(t);return e!==t&&(Jd.set(t,e),dp.set(e,t)),e}const Zd=t=>dp.get(t);function FI(t,e,{blocked:n,upgrade:o,blocking:s,terminated:l}={}){const c=indexedDB.open(t,e),d=co(c);return o&&c.addEventListener("upgradeneeded",p=>{o(co(c.result),p.oldVersion,p.newVersion,co(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jI=["get","getKey","getAll","getAllKeys","count"],UI=["put","add","delete","clear"],eh=new Map;function e_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eh.get(e))return eh.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,s=UI.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(s||jI.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let g=p.store;return o&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),s&&p.done]))[0]};return eh.set(e,l),l}VI(t=>({...t,get:(e,n,o)=>e_(e,n)||t.get(e,n,o),has:(e,n)=>!!e_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BI(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function BI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xh="@firebase/app",t_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new $v("@firebase/app"),$I="@firebase/app-compat",HI="@firebase/analytics-compat",qI="@firebase/analytics",WI="@firebase/app-check-compat",KI="@firebase/app-check",QI="@firebase/auth",GI="@firebase/auth-compat",XI="@firebase/database",YI="@firebase/data-connect",JI="@firebase/database-compat",ZI="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",iR="@firebase/messaging-compat",oR="@firebase/performance",sR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",fR="@firebase/firestore",dR="@firebase/vertexai",hR="@firebase/firestore-compat",pR="firebase",mR="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",gR={[xh]:"fire-core",[$I]:"fire-core-compat",[qI]:"fire-analytics",[HI]:"fire-analytics-compat",[KI]:"fire-app-check",[WI]:"fire-app-check-compat",[QI]:"fire-auth",[GI]:"fire-auth-compat",[XI]:"fire-rtdb",[YI]:"fire-data-connect",[JI]:"fire-rtdb-compat",[ZI]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[iR]:"fire-fcm-compat",[oR]:"fire-perf",[sR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[fR]:"fire-fst",[hR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,yR=new Map,bh=new Map;function n_(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _c(t){const e=t.name;if(bh.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;bh.set(e,t);for(const n of yc.values())n_(n,t);for(const n of yR.values())n_(n,t);return!0}function _R(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new Bv("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=mR;function Wv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const o=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw fo.create("bad-app-name",{appName:String(s)});if(n||(n=zv()),!n)throw fo.create("no-options");const l=yc.get(s);if(l){if(Rh(n,l.options)&&Rh(o,l.config))return l;throw fo.create("duplicate-app",{appName:s})}const c=new II(s);for(const p of bh.values())c.addComponent(p);const d=new ER(n,o,c);return yc.set(s,d),d}function TR(t=kh){const e=yc.get(t);if(!e&&t===kh&&zv())return Wv();if(!e)throw fo.create("no-app",{appName:t});return e}function Ks(t,e,n){var o;let s=(o=gR[t])!==null&&o!==void 0?o:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(d.join(" "));return}_c(new fl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebase-heartbeat-database",CR=1,dl="firebase-heartbeat-store";let th=null;function Kv(){return th||(th=FI(SR,CR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),th}async function IR(t){try{const n=(await Kv()).transaction(dl),o=await n.objectStore(dl).get(Qv(t));return await n.done,o}catch(e){if(e instanceof oa)Ai.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function r_(t,e){try{const o=(await Kv()).transaction(dl,"readwrite");await o.objectStore(dl).put(e,Qv(t)),await o.done}catch(n){if(n instanceof oa)Ai.warn(n.message);else{const o=fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(o.message)}}}function Qv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1024,PR=30*24*60*60*1e3;class AR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=i_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=PR}),this._storage.overwrite(this._heartbeatsCache))}catch(o){Ai.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:o,unsentEntries:s}=xR(this._heartbeatsCache.heartbeats),l=gc(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ai.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function xR(t,e=RR){const n=[];let o=t.slice();for(const s of t){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),o_(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o_(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o_(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){_c(new fl("platform-logger",e=>new zI(e),"PRIVATE")),_c(new fl("heartbeat",e=>new AR(e),"PRIVATE")),Ks(xh,t_,t),Ks(xh,t_,"esm2017"),Ks("fire-js","")}bR("");var s_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,Gv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function P(){}P.prototype=S.prototype,A.D=S.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(D,V,U){for(var x=Array(arguments.length-2),et=2;et<arguments.length;et++)x[et-2]=arguments[et];return S.prototype[V].apply(D,x)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,P){P||(P=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(V=0;16>V;++V)D[V]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=A.g[0],P=A.g[1],V=A.g[2];var U=A.g[3],x=S+(U^P&(V^U))+D[0]+3614090360&4294967295;S=P+(x<<7&4294967295|x>>>25),x=U+(V^S&(P^V))+D[1]+3905402710&4294967295,U=S+(x<<12&4294967295|x>>>20),x=V+(P^U&(S^P))+D[2]+606105819&4294967295,V=U+(x<<17&4294967295|x>>>15),x=P+(S^V&(U^S))+D[3]+3250441966&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(U^P&(V^U))+D[4]+4118548399&4294967295,S=P+(x<<7&4294967295|x>>>25),x=U+(V^S&(P^V))+D[5]+1200080426&4294967295,U=S+(x<<12&4294967295|x>>>20),x=V+(P^U&(S^P))+D[6]+2821735955&4294967295,V=U+(x<<17&4294967295|x>>>15),x=P+(S^V&(U^S))+D[7]+4249261313&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(U^P&(V^U))+D[8]+1770035416&4294967295,S=P+(x<<7&4294967295|x>>>25),x=U+(V^S&(P^V))+D[9]+2336552879&4294967295,U=S+(x<<12&4294967295|x>>>20),x=V+(P^U&(S^P))+D[10]+4294925233&4294967295,V=U+(x<<17&4294967295|x>>>15),x=P+(S^V&(U^S))+D[11]+2304563134&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(U^P&(V^U))+D[12]+1804603682&4294967295,S=P+(x<<7&4294967295|x>>>25),x=U+(V^S&(P^V))+D[13]+4254626195&4294967295,U=S+(x<<12&4294967295|x>>>20),x=V+(P^U&(S^P))+D[14]+2792965006&4294967295,V=U+(x<<17&4294967295|x>>>15),x=P+(S^V&(U^S))+D[15]+1236535329&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(V^U&(P^V))+D[1]+4129170786&4294967295,S=P+(x<<5&4294967295|x>>>27),x=U+(P^V&(S^P))+D[6]+3225465664&4294967295,U=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(U^S))+D[11]+643717713&4294967295,V=U+(x<<14&4294967295|x>>>18),x=P+(U^S&(V^U))+D[0]+3921069994&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(V^U&(P^V))+D[5]+3593408605&4294967295,S=P+(x<<5&4294967295|x>>>27),x=U+(P^V&(S^P))+D[10]+38016083&4294967295,U=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(U^S))+D[15]+3634488961&4294967295,V=U+(x<<14&4294967295|x>>>18),x=P+(U^S&(V^U))+D[4]+3889429448&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(V^U&(P^V))+D[9]+568446438&4294967295,S=P+(x<<5&4294967295|x>>>27),x=U+(P^V&(S^P))+D[14]+3275163606&4294967295,U=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(U^S))+D[3]+4107603335&4294967295,V=U+(x<<14&4294967295|x>>>18),x=P+(U^S&(V^U))+D[8]+1163531501&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(V^U&(P^V))+D[13]+2850285829&4294967295,S=P+(x<<5&4294967295|x>>>27),x=U+(P^V&(S^P))+D[2]+4243563512&4294967295,U=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(U^S))+D[7]+1735328473&4294967295,V=U+(x<<14&4294967295|x>>>18),x=P+(U^S&(V^U))+D[12]+2368359562&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(P^V^U)+D[5]+4294588738&4294967295,S=P+(x<<4&4294967295|x>>>28),x=U+(S^P^V)+D[8]+2272392833&4294967295,U=S+(x<<11&4294967295|x>>>21),x=V+(U^S^P)+D[11]+1839030562&4294967295,V=U+(x<<16&4294967295|x>>>16),x=P+(V^U^S)+D[14]+4259657740&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(P^V^U)+D[1]+2763975236&4294967295,S=P+(x<<4&4294967295|x>>>28),x=U+(S^P^V)+D[4]+1272893353&4294967295,U=S+(x<<11&4294967295|x>>>21),x=V+(U^S^P)+D[7]+4139469664&4294967295,V=U+(x<<16&4294967295|x>>>16),x=P+(V^U^S)+D[10]+3200236656&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(P^V^U)+D[13]+681279174&4294967295,S=P+(x<<4&4294967295|x>>>28),x=U+(S^P^V)+D[0]+3936430074&4294967295,U=S+(x<<11&4294967295|x>>>21),x=V+(U^S^P)+D[3]+3572445317&4294967295,V=U+(x<<16&4294967295|x>>>16),x=P+(V^U^S)+D[6]+76029189&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(P^V^U)+D[9]+3654602809&4294967295,S=P+(x<<4&4294967295|x>>>28),x=U+(S^P^V)+D[12]+3873151461&4294967295,U=S+(x<<11&4294967295|x>>>21),x=V+(U^S^P)+D[15]+530742520&4294967295,V=U+(x<<16&4294967295|x>>>16),x=P+(V^U^S)+D[2]+3299628645&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(V^(P|~U))+D[0]+4096336452&4294967295,S=P+(x<<6&4294967295|x>>>26),x=U+(P^(S|~V))+D[7]+1126891415&4294967295,U=S+(x<<10&4294967295|x>>>22),x=V+(S^(U|~P))+D[14]+2878612391&4294967295,V=U+(x<<15&4294967295|x>>>17),x=P+(U^(V|~S))+D[5]+4237533241&4294967295,P=V+(x<<21&4294967295|x>>>11),x=S+(V^(P|~U))+D[12]+1700485571&4294967295,S=P+(x<<6&4294967295|x>>>26),x=U+(P^(S|~V))+D[3]+2399980690&4294967295,U=S+(x<<10&4294967295|x>>>22),x=V+(S^(U|~P))+D[10]+4293915773&4294967295,V=U+(x<<15&4294967295|x>>>17),x=P+(U^(V|~S))+D[1]+2240044497&4294967295,P=V+(x<<21&4294967295|x>>>11),x=S+(V^(P|~U))+D[8]+1873313359&4294967295,S=P+(x<<6&4294967295|x>>>26),x=U+(P^(S|~V))+D[15]+4264355552&4294967295,U=S+(x<<10&4294967295|x>>>22),x=V+(S^(U|~P))+D[6]+2734768916&4294967295,V=U+(x<<15&4294967295|x>>>17),x=P+(U^(V|~S))+D[13]+1309151649&4294967295,P=V+(x<<21&4294967295|x>>>11),x=S+(V^(P|~U))+D[4]+4149444226&4294967295,S=P+(x<<6&4294967295|x>>>26),x=U+(P^(S|~V))+D[11]+3174756917&4294967295,U=S+(x<<10&4294967295|x>>>22),x=V+(S^(U|~P))+D[2]+718787259&4294967295,V=U+(x<<15&4294967295|x>>>17),x=P+(U^(V|~S))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+U&4294967295}o.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var P=S-this.blockSize,D=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=P;)s(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<S;)if(D[V++]=A.charCodeAt(U++),V==this.blockSize){s(this,D),V=0;break}}else for(;U<S;)if(D[V++]=A[U++],V==this.blockSize){s(this,D),V=0;break}}this.h=V,this.o+=S},o.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var P=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=P&255,P/=256;for(this.u(A),A=Array(16),S=P=0;4>S;++S)for(var D=0;32>D;D+=8)A[P++]=this.g[S]>>>D&255;return A};function l(A,S){var P=d;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=S(A)}function c(A,S){this.h=S;for(var P=[],D=!0,V=A.length-1;0<=V;V--){var U=A[V]|0;D&&U==S||(P[V]=U,D=!1)}this.g=P}var d={};function p(A){return-128<=A&&128>A?l(A,function(S){return new c([S|0],0>S?-1:0)}):new c([A|0],0>A?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return k(g(-A));for(var S=[],P=1,D=0;A>=P;D++)S[D]=A/P|0,P*=4294967296;return new c(S,0)}function _(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return k(_(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(S,8)),D=T,V=0;V<A.length;V+=8){var U=Math.min(8,A.length-V),x=parseInt(A.substring(V,V+U),S);8>U?(U=g(Math.pow(S,U)),D=D.j(U).add(g(x))):(D=D.j(P),D=D.add(g(x)))}return D}var T=p(0),w=p(1),I=p(16777216);t=c.prototype,t.m=function(){if(M(this))return-k(this).m();for(var A=0,S=1,P=0;P<this.g.length;P++){var D=this.i(P);A+=(0<=D?D:4294967296+D)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R(this))return"0";if(M(this))return"-"+k(this).toString(A);for(var S=g(Math.pow(A,6)),P=this,D="";;){var V=G(P,S).g;P=L(P,V.j(S));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=V,R(P))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function R(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function M(A){return A.h==-1}t.l=function(A){return A=L(this,A),M(A)?-1:R(A)?0:1};function k(A){for(var S=A.g.length,P=[],D=0;D<S;D++)P[D]=~A.g[D];return new c(P,~A.h).add(w)}t.abs=function(){return M(this)?k(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],D=0,V=0;V<=S;V++){var U=D+(this.i(V)&65535)+(A.i(V)&65535),x=(U>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);D=x>>>16,U&=65535,x&=65535,P[V]=x<<16|U}return new c(P,P[P.length-1]&-2147483648?-1:0)};function L(A,S){return A.add(k(S))}t.j=function(A){if(R(this)||R(A))return T;if(M(this))return M(A)?k(this).j(k(A)):k(k(this).j(A));if(M(A))return k(this.j(k(A)));if(0>this.l(I)&&0>A.l(I))return g(this.m()*A.m());for(var S=this.g.length+A.g.length,P=[],D=0;D<2*S;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<A.g.length;V++){var U=this.i(D)>>>16,x=this.i(D)&65535,et=A.i(V)>>>16,je=A.i(V)&65535;P[2*D+2*V]+=x*je,O(P,2*D+2*V),P[2*D+2*V+1]+=U*je,O(P,2*D+2*V+1),P[2*D+2*V+1]+=x*et,O(P,2*D+2*V+1),P[2*D+2*V+2]+=U*et,O(P,2*D+2*V+2)}for(D=0;D<S;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=S;D<2*S;D++)P[D]=0;return new c(P,0)};function O(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function z(A,S){this.g=A,this.h=S}function G(A,S){if(R(S))throw Error("division by zero");if(R(A))return new z(T,T);if(M(A))return S=G(k(A),S),new z(k(S.g),k(S.h));if(M(S))return S=G(A,k(S)),new z(k(S.g),S.h);if(30<A.g.length){if(M(A)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var P=w,D=S;0>=D.l(A);)P=N(P),D=N(D);var V=ee(P,1),U=ee(D,1);for(D=ee(D,2),P=ee(P,2);!R(D);){var x=U.add(D);0>=x.l(A)&&(V=V.add(P),U=x),D=ee(D,1),P=ee(P,1)}return S=L(A,V.j(S)),new z(V,S)}for(V=T;0<=A.l(S);){for(P=Math.max(1,Math.floor(A.m()/S.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(P),x=U.j(S);M(x)||0<x.l(A);)P-=D,U=g(P),x=U.j(S);R(U)&&(U=w),V=V.add(U),A=L(A,x)}return new z(V,A)}t.A=function(A){return G(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)&A.i(D);return new c(P,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)|A.i(D);return new c(P,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)^A.i(D);return new c(P,this.h^A.h)};function N(A){for(var S=A.g.length+1,P=[],D=0;D<S;D++)P[D]=A.i(D)<<1|A.i(D-1)>>>31;return new c(P,A.h)}function ee(A,S){var P=S>>5;S%=32;for(var D=A.g.length-P,V=[],U=0;U<D;U++)V[U]=0<S?A.i(U+P)>>>S|A.i(U+P+1)<<32-S:A.i(U+P);return new c(V,A.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Gv=o,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ho=c}).apply(typeof s_<"u"?s_:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xv,Ja,Yv,ec,Dh,Jv,Zv,e0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var o=n(this);function s(u,m){if(m)e:{var v=o;u=u.split(".");for(var C=0;C<u.length-1;C++){var W=u[C];if(!(W in v))break e;v=v[W]}u=u[u.length-1],C=v[u],m=m(C),m!=C&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,C=!1,W={next:function(){if(!C&&v<u.length){var J=v++;return{value:m(J,u[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function w(u,m,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function I(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function R(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(C,W,J){for(var fe=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)fe[mt-2]=arguments[mt];return m.prototype[W].apply(C,fe)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=u[C];return v}return[]}function k(u,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(p(C)){const W=u.length||0,J=C.length||0;u.length=W+J;for(let fe=0;fe<J;fe++)u[W+fe]=C[fe]}else u.push(C)}}class L{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function O(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function G(u){return G[" "](u),u}G[" "]=function(){};var N=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ee(u,m,v){for(const C in u)m.call(v,u[C],C,u)}function A(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let v,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(v in C)u[v]=C[v];for(let J=0;J<P.length;J++)v=P[J],Object.prototype.hasOwnProperty.call(C,v)&&(u[v]=C[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function U(u){d.setTimeout(()=>{throw u},0)}function x(){var u=_e;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,v){const C=je.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var je=new L(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,le=!1,_e=new et,de=()=>{const u=d.Promise.resolve(void 0);Te=()=>{u.then(H)}};var H=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(v){U(v)}var m=je;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function De(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(N){e:{try{G(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}R(De,ge);var Be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ve(u,m,v,C,W){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=W,this.key=++qe,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fn(u){this.src=u,this.g={},this.h=0}fn.prototype.add=function(u,m,v,C,W){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var fe=Mt(u,m,C,W);return-1<fe?(m=u[fe],v||(m.fa=!1)):(m=new Ve(m,this.src,J,!!C,W),m.fa=v,u.push(m)),m};function tr(u,m){var v=m.type;if(v in u.g){var C=u.g[v],W=Array.prototype.indexOf.call(C,m,void 0),J;(J=0<=W)&&Array.prototype.splice.call(C,W,1),J&&(pt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Mt(u,m,v,C){for(var W=0;W<u.length;++W){var J=u[W];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==C)return W}return-1}var At="closure_lm_"+(1e6*Math.random()|0),Or={};function Fr(u,m,v,C,W){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Fr(u,m[J],v,C,W);return null}return v=Zt(v),u&&u[Ke]?u.K(m,v,g(C)?!!C.capture:!1,W):nr(u,m,v,!1,C,W)}function nr(u,m,v,C,W,J){if(!m)throw Error("Invalid event type");var fe=g(W)?!!W.capture:!!W,mt=hr(u);if(mt||(u[At]=mt=new fn(u)),v=mt.add(m,v,C,fe,J),v.proxy)return v;if(C=Ni(),v.proxy=C,C.src=u,C.listener=v,u.addEventListener)Ne||(W=fe),W===void 0&&(W=!1),u.addEventListener(m.toString(),C,W);else if(u.attachEvent)u.attachEvent(Ut(m.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ni(){function u(v){return m.call(u.src,u.listener,v)}const m=kn;return u}function jr(u,m,v,C,W){if(Array.isArray(m))for(var J=0;J<m.length;J++)jr(u,m[J],v,C,W);else C=g(C)?!!C.capture:!!C,v=Zt(v),u&&u[Ke]?(u=u.i,m=String(m).toString(),m in u.g&&(J=u.g[m],v=Mt(J,v,C,W),-1<v&&(pt(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete u.g[m],u.h--)))):u&&(u=hr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Mt(m,v,C,W)),(v=-1<u?m[u]:null)&&xn(v))}function xn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ke])tr(m.i,u);else{var v=u.type,C=u.proxy;m.removeEventListener?m.removeEventListener(v,C,u.capture):m.detachEvent?m.detachEvent(Ut(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=hr(m))?(tr(v,u),v.h==0&&(v.src=null,m[At]=null)):pt(u)}}}function Ut(u){return u in Or?Or[u]:Or[u]="on"+u}function kn(u,m){if(u.da)u=!0;else{m=new De(m,this);var v=u.listener,C=u.ha||u.src;u.fa&&xn(u),u=v.call(C,m)}return u}function hr(u){return u=u[At],u instanceof fn?u:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zt(u){return typeof u=="function"?u:(u[rr]||(u[rr]=function(m){return u.handleEvent(m)}),u[rr])}function ut(){te.call(this),this.i=new fn(this),this.M=this,this.F=null}R(ut,te),ut.prototype[Ke]=!0,ut.prototype.removeEventListener=function(u,m,v,C){jr(this,u,m,v,C)};function St(u,m){var v,C=u.F;if(C)for(v=[];C;C=C.F)v.push(C);if(u=u.M,C=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var W=m;m=new ge(C,u),D(m,W)}if(W=!0,v)for(var J=v.length-1;0<=J;J--){var fe=m.g=v[J];W=Re(fe,C,!0,m)&&W}if(fe=m.g=u,W=Re(fe,C,!0,m)&&W,W=Re(fe,C,!1,m)&&W,v)for(J=0;J<v.length;J++)fe=m.g=v[J],W=Re(fe,C,!1,m)&&W}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],C=0;C<v.length;C++)pt(v[C]);delete u.g[m],u.h--}}this.F=null},ut.prototype.K=function(u,m,v,C){return this.i.add(String(u),m,!1,v,C)},ut.prototype.L=function(u,m,v,C){return this.i.add(String(u),m,!0,v,C)};function Re(u,m,v,C){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,J=0;J<m.length;++J){var fe=m[J];if(fe&&!fe.da&&fe.capture==v){var mt=fe.listener,zt=fe.ha||fe.src;fe.fa&&tr(u.i,fe),W=mt.call(zt,C)!==!1&&W}}return W&&!C.defaultPrevented}function Qe(u,m,v){if(typeof u=="function")v&&(u=w(u,v));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function He(u){u.g=Qe(()=>{u.g=null,u.i&&(u.i=!1,He(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ct extends te{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(u){te.call(this),this.h=u,this.g={}}R(Ur,te);var Li=[];function Ro(u){ee(u.g,function(m,v){this.g.hasOwnProperty(v)&&xn(m)},u),u.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Ro(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vi=d.JSON.stringify,zr=d.JSON.parse,Mi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function pr(){}pr.prototype.h=null;function Oi(u){return u.h||(u.h=u.i())}function si(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){ge.call(this,"d")}R($n,ge);function mr(){ge.call(this,"c")}R(mr,ge);var Tn={},Po=null;function ai(){return Po=Po||new ut}Tn.La="serverreachability";function j(u){ge.call(this,Tn.La,u)}R(j,ge);function q(u){const m=ai();St(m,new j(m))}Tn.STAT_EVENT="statevent";function Y(u,m){ge.call(this,Tn.STAT_EVENT,u),this.stat=m}R(Y,ge);function ne(u){const m=ai();St(m,new Y(m,u))}Tn.Ma="timingevent";function he(u,m){ge.call(this,Tn.Ma,u),this.size=m}R(he,ge);function ve(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function pe(u,m,v,C,W,J){u.info(function(){if(u.g)if(J)for(var fe="",mt=J.split("&"),zt=0;zt<mt.length;zt++){var nt=mt[zt].split("=");if(1<nt.length){var Kt=nt[0];nt=nt[1];var Ot=Kt.split("_");fe=2<=Ot.length&&Ot[1]=="type"?fe+(Kt+"="+nt+"&"):fe+(Kt+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+m+`
`+v+`
`+fe})}function we(u,m,v,C,W,J,fe){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+m+`
`+v+`
`+J+" "+fe})}function ce(u,m,v,C){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$e(u,v)+(C?" "+C:"")})}function Le(u,m){u.info(function(){return"TIMEOUT: "+m})}Ae.prototype.info=function(){};function $e(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var C=v[u];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<W.length;fe++)W[fe]=""}}}}return Vi(v)}catch{return m}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xe;function ot(){}R(ot,pr),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},Xe=new ot;function ft(u,m,v,C){this.j=u,this.i=m,this.l=v,this.R=C||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gr}function gr(){this.i=null,this.g="",this.h=!1}var yr={},dn={};function en(u,m,v){u.L=1,u.v=zi(Hn(m)),u.m=v,u.P=!0,li(u,null)}function li(u,m){u.F=Date.now(),dt(u),u.A=Hn(u.v);var v=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),$i(v.i,"t",C),u.C=0,v=u.j.J,u.h=new gr,u.g=zl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ct(w(u.Y,u,u.g),u.O)),m=u.U,v=u.g,C=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(Li[0]=W.toString()),W=Li);for(var J=0;J<W.length;J++){var fe=Fr(v,W[J],C||m.handleEvent,!1,m.h||m);if(!fe)break;m.g[fe.key]=fe}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),q(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}ft.prototype.ca=function(u){u=u.target;const m=this.M;m&&Ln(u)==3?m.j():this.Y(u)},ft.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=Ln(this.g);var m=this.g.Ba();const or=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||Ot!=4||m==7||(m==8||0>=or?q(3):q(2)),tt(this);var v=this.g.Z();this.X=v;t:if(Br(this)){var C=ma(this.g);u="";var W=C.length,J=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),vt(this);var fe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(C[m],{stream:!(J&&m==W-1)});C.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=v==200,we(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,zt=this.g;if((mt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(mt)){var nt=mt;break t}}nt=null}if(v=nt)ce(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vr(this,v);else{this.o=!1,this.s=3,ne(12),tn(this),vt(this);break e}}if(this.P){v=!0;let Wn;for(;!this.J&&this.C<fe.length;)if(Wn=_r(this,fe),Wn==dn){Ot==4&&(this.s=4,ne(14),v=!1),ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==yr){this.s=4,ne(15),ce(this.i,this.l,fe,"[Invalid Chunk]"),v=!1;break}else ce(this.i,this.l,Wn,null),vr(this,Wn);if(Br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||fe.length!=0||this.h.h||(this.s=1,ne(16),v=!1),this.o=this.o&&v,!v)ce(this.i,this.l,fe,"[Invalid Chunked Response]"),tn(this),vt(this);else if(0<fe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ya(Kt),Kt.M=!0,ne(11))}}else ce(this.i,this.l,fe,null),vr(this,fe);Ot==4&&tn(this),this.o&&!this.J&&(Ot==4?_s(this.j,this):(this.o=!1,dt(this)))}else hs(this.g),v==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),tn(this),vt(this)}}}catch{}finally{}};function Br(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _r(u,m){var v=u.C,C=m.indexOf(`
`,v);return C==-1?dn:(v=Number(m.substring(v,C)),isNaN(v)?yr:(C+=1,C+v>m.length?dn:(m=m.slice(C,C+v),u.C=C+v,m)))}ft.prototype.cancel=function(){this.J=!0,tn(this)};function dt(u){u.S=Date.now()+u.I,ui(u,u.I)}function ui(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ve(w(u.ba,u),m)}function tt(u){u.B&&(d.clearTimeout(u.B),u.B=null)}ft.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Le(this.i,this.A),this.L!=2&&(q(),ne(17)),tn(this),this.s=2,vt(this)):ui(this,this.S-u)};function vt(u){u.j.G==0||u.J||_s(u.j,u)}function tn(u){tt(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ro(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function vr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Sn(v.h,u))){if(!u.K&&Sn(v.h,u)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ys(v),Cr(v);else break e;gs(v),ne(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=ve(w(v.Za,v),6e3));if(1>=as(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else pi(v,11)}else if((u.K||v.g==u)&&ys(v),!O(m))for(W=v.Da.g.parse(m),m=0;m<W.length;m++){let nt=W[m];if(v.T=nt[0],nt=nt[1],v.G==2)if(nt[0]=="c"){v.K=nt[1],v.ia=nt[2];const Kt=nt[3];Kt!=null&&(v.la=Kt,v.j.info("VER="+v.la));const Ot=nt[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const or=nt[5];or!=null&&typeof or=="number"&&0<or&&(C=1.5*or,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Wn=u.g;if(Wn){const No=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var J=C.h;J.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(fa(J,J.h),J.h=null))}if(C.D){const Es=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Es&&(C.ya=Es,gt(C.I,C.D,Es))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var fe=u;if(C.qa=Ul(C,C.J?C.ia:null,C.W),fe.K){Al(C.h,fe);var mt=fe,zt=C.L;zt&&(mt.I=zt),mt.B&&(tt(mt),dt(mt)),C.g=fe}else Do(C);0<v.i.length&&Wr(v)}else nt[0]!="stop"&&nt[0]!="close"||pi(v,7);else v.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?pi(v,7):rn(v):nt[0]!="noop"&&v.l&&v.l.ta(nt),v.v=0)}}q(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function Dn(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function as(u){return u.h?1:u.g?u.g.size:0}function Sn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fa(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dn.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function ls(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,C=0;C<v;C++)m.push(u[C]);return m}m=[],v=0;for(C in u)m[v++]=u[C];return m}function us(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const C in u)m[v++]=C;return m}}}function Fi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=us(u),C=ls(u),W=C.length,J=0;J<W;J++)m.call(void 0,C[J],v&&v[J],u)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var C=u[v].indexOf("="),W=null;if(0<=C){var J=u[v].substring(0,C);W=u[v].substring(C+1)}else J=u[v];m(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,xo(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var m=u.i,v=new $r;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ui(this,v),this.m=u.m}else u&&(m=String(u).match(Ao))?(this.h=!1,xo(this,m[1]||"",!0),this.o=Ye(m[2]||""),this.g=Ye(m[3]||"",!0),ji(this,m[4]),this.l=Ye(m[5]||"",!0),Ui(this,m[6]||"",!0),this.m=Ye(m[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}ci.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Bi(m,cs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Bi(m,cs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Bi(v,v.charAt(0)=="/"?Dl:bl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Bi(v,da)),u.join("")};function Hn(u){return new ci(u)}function xo(u,m,v){u.j=v?Ye(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ui(u,m,v){m instanceof $r?(u.i=m,Hr(u.i,u.h)):(v||(m=Bi(m,Nl)),u.i=new $r(m,u.h))}function gt(u,m,v){u.i.set(m,v)}function zi(u){return gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ye(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,kl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cs=/[#\/\?@]/g,bl=/[#\?:]/g,Dl=/[#\?]/g,Nl=/[#\?@]/g,da=/#/g;function $r(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&af(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=$r.prototype,t.add=function(u,m){nn(this),this.i=null,u=ir(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Er(u,m){nn(u),m=ir(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wr(u,m){return nn(u),m=ir(u,m),u.g.has(m)}t.forEach=function(u,m){nn(this),this.g.forEach(function(v,C){v.forEach(function(W){u.call(m,W,C,this)},this)},this)},t.na=function(){nn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const W=u[C];for(let J=0;J<W.length;J++)v.push(m[C])}return v},t.V=function(u){nn(this);let m=[];if(typeof u=="string")wr(this,u)&&(m=m.concat(this.g.get(ir(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return nn(this),this.i=null,u=ir(this,u),wr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $i(u,m,v){Er(u,m),0<v.length&&(u.i=null,u.g.set(ir(u,m),M(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const J=encodeURIComponent(String(C)),fe=this.V(C);for(C=0;C<fe.length;C++){var W=J;fe[C]!==""&&(W+="="+encodeURIComponent(String(fe[C]))),u.push(W)}}return this.i=u.join("&")};function ir(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,C){var W=C.toLowerCase();C!=W&&(Er(this,C),$i(this,W,v))},u)),u.j=m}function lf(u,m){const v=new Ae;if(d.Image){const C=new Image;C.onload=I(Nn,v,"TestLoadImage: loaded",!0,m,C),C.onerror=I(Nn,v,"TestLoadImage: error",!1,m,C),C.onabort=I(Nn,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=I(Nn,v,"TestLoadImage: timeout",!1,m,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else m(!1)}function Ll(u,m){const v=new Ae,C=new AbortController,W=setTimeout(()=>{C.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:C.signal}).then(J=>{clearTimeout(W),J.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(v)}catch{}}function uf(){this.g=new Mi}function Vl(u,m,v){const C=v||"";try{Fi(u,function(W,J){let fe=W;g(W)&&(fe=Vi(W)),m.push(C+J+"="+encodeURIComponent(fe))})}catch(W){throw m.push(C+"type="+encodeURIComponent("_badmap")),W}}function fi(u){this.l=u.Ub||null,this.j=u.eb||!1}R(fi,pr),fi.prototype.g=function(){return new ko(this.l,this.j)},fi.prototype.i=function(u){return function(){return u}}({});function ko(u,m){ut.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ko,ut),t=ko.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Sr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Tr(this):Sr(this),this.readyState==3&&Ml(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Tr(this))},t.Qa=function(u){this.g&&(this.response=u,Tr(this))},t.ga=function(){this.g&&Tr(this)};function Tr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Sr(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Sr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function di(u){let m="";return ee(u,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function Hi(u,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=di(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):gt(u,m,v))}function It(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(It,ut);var cf=/^https?$/i,ha=["POST","PUT"];t=It.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xe.g(),this.v=this.o?Oi(this.o):Oi(Xe),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(J){bo(this,J);return}if(u=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)v.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())v.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),W=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ha,m,void 0))||C||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of v)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ds(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){bo(this,J)}};function bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,fs(u),qn(u)}function fs(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),qn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},t.bb=function(){pa(this)};function pa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)Qe(u.Ea,0,u);else if(St(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=fe===0){var W=String(u.D).match(Ao)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),C=!cf.test(W?W.toLowerCase():"")}v=C}if(v)St(u,"complete"),St(u,"success");else{u.m=6;try{var J=2<Ln(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",fs(u)}}finally{qn(u)}}}}function qn(u,m){if(u.g){ds(u);const v=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||St(u,"ready");try{v.onreadystatechange=C}catch{}}}function ds(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zr(m)}};function ma(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(u){const m={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(O(u[C]))continue;var v=V(u[C]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[W]||[];m[W]=J,J.push(v)}A(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ga(u){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,u),this.cb=qr("retryDelaySeedMs",1e4,u),this.Wa=qr("forwardChannelMaxRetries",2,u),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Dn(u&&u.concurrentRequestLimit),this.Da=new uf,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ga.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,C){ne(0),this.W=u,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=Ul(this,null,this.W),Wr(this)};function rn(u){if(ps(u),u.G==3){var m=u.U++,v=Hn(u.I);if(gt(v,"SID",u.K),gt(v,"RID",m),gt(v,"TYPE","terminate"),hi(u,v),m=new ft(u,u.j,m),m.L=2,m.v=zi(Hn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=zl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),dt(m)}jl(u)}function Cr(u){u.g&&(ya(u),u.g.cancel(),u.g=null)}function ps(u){Cr(u),u.u&&(d.clearTimeout(u.u),u.u=null),ys(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Wr(u){if(!hn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Te||de(),le||(Te(),le=!0),_e.add(m,u),u.B=0}}function ff(u,m){return as(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ve(w(u.Ga,u,m),Fl(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new ft(this,this.j,u);let J=this.o;if(this.S&&(J?(J=S(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=qi(this,W,m),v=Hn(this.I),gt(v,"RID",u),gt(v,"CVER",22),this.D&&gt(v,"X-HTTP-Session-Id",this.D),hi(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(di(J)))+"&"+m:this.m&&Hi(v,this.m,J)),fa(this.h,W),this.Ua&&gt(v,"TYPE","init"),this.P?(gt(v,"$req",m),gt(v,"SID","null"),W.T=!0,en(W,v,null)):en(W,v,m),this.G=2}}else this.G==3&&(u?ms(this,u):this.i.length==0||hn(this.h)||ms(this))};function ms(u,m){var v;m?v=m.l:v=u.U++;const C=Hn(u.I);gt(C,"SID",u.K),gt(C,"RID",v),gt(C,"AID",u.T),hi(u,C),u.m&&u.o&&Hi(C,u.m,u.o),v=new ft(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=qi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fa(u.h,v),en(v,C,m)}function hi(u,m){u.H&&ee(u.H,function(v,C){gt(m,C,v)}),u.l&&Fi({},function(v,C){gt(m,C,v)})}function qi(u,m,v){v=Math.min(u.i.length,v);var C=u.l?w(u.l.Na,u.l,u):null;e:{var W=u.i;let J=-1;for(;;){const fe=["count="+v];J==-1?0<v?(J=W[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let mt=!0;for(let zt=0;zt<v;zt++){let nt=W[zt].g;const Kt=W[zt].map;if(nt-=J,0>nt)J=Math.max(0,W[zt].g-100),mt=!1;else try{Vl(Kt,fe,"req"+nt+"_")}catch{C&&C(Kt)}}if(mt){C=fe.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,C}function Do(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Te||de(),le||(Te(),le=!0),_e.add(m,u),u.v=0}}function gs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ve(w(u.Fa,u),Fl(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ve(w(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Cr(this),Ol(this))};function ya(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Ol(u){u.g=new ft(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Hn(u.qa);gt(m,"RID","rpc"),gt(m,"SID",u.K),gt(m,"AID",u.T),gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&gt(m,"TO",u.ja),gt(m,"TYPE","xmlhttp"),hi(u,m),u.m&&u.o&&Hi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=zi(Hn(m)),v.m=null,v.P=!0,li(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Cr(this),gs(this),ne(19))};function ys(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _s(u,m){var v=null;if(u.g==m){ys(u),ya(u),u.g=null;var C=2}else if(Sn(u.h,m))v=m.D,Al(u.h,m),C=1;else return;if(u.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;C=ai(),St(C,new he(C,v)),Wr(u)}else Do(u);else if(W=m.s,W==3||W==0&&0<m.X||!(C==1&&ff(u,m)||C==2&&gs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),W){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Fl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=w(u.fb,u),C=u.Xa;const W=!C;C=new ci(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xo(C,"https"),zi(C),W?lf(C.toString(),v):Ll(C.toString(),v)}else ne(2);u.G=0,u.l&&u.l.sa(m),jl(u),ps(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function jl(u){if(u.G=0,u.ka=[],u.l){const m=xl(u.h);(m.length!=0||u.i.length!=0)&&(k(u.ka,m),k(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Ul(u,m,v){var C=v instanceof ci?Hn(v):new ci(v);if(C.g!="")m&&(C.g=m+"."+C.g),ji(C,C.s);else{var W=d.location;C=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var J=new ci(null);C&&xo(J,C),m&&(J.g=m),W&&ji(J,W),v&&(J.l=v),C=J}return v=u.D,m=u.ya,v&&m&&gt(C,v,m),gt(C,"VER",u.la),hi(u,C),C}function zl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new It(new fi({eb:v})):new It(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _a(){}t=_a.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vs(){}vs.prototype.g=function(u,m){return new Cn(u,m)};function Cn(u,m){ut.call(this),this.g=new ga(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!O(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!O(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kr(this)}R(Cn,ut),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){rn(this.g)},Cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Vi(u),u=v);m.i.push(new Et(m.Ya++,u)),m.G==3&&Wr(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Cn.aa.N.call(this)};function Bl(u){$n.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(Bl,$n);function $l(){mr.call(this),this.status=1}R($l,mr);function Kr(u){this.g=u}R(Kr,_a),Kr.prototype.ua=function(){St(this.g,"a")},Kr.prototype.ta=function(u){St(this.g,new Bl(u))},Kr.prototype.sa=function(u){St(this.g,new $l)},Kr.prototype.ra=function(){St(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,e0=function(){return new vs},Zv=function(){return ai()},Jv=Tn,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,ec=ct,Dt.COMPLETE="complete",Yv=Dt,si.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ja=si,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,Xv=It}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const a_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new $v("@firebase/firestore");function $s(){return ts.logLevel}function ye(t,...e){if(ts.logLevel<=it.DEBUG){const n=e.map(hp);ts.debug(`Firestore (${sa}): ${t}`,...n)}}function xi(t,...e){if(ts.logLevel<=it.ERROR){const n=e.map(hp);ts.error(`Firestore (${sa}): ${t}`,...n)}}function Xs(t,...e){if(ts.logLevel<=it.WARN){const n=e.map(hp);ts.warn(`Firestore (${sa}): ${t}`,...n)}}function hp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function ht(t,e){t||Oe()}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends oa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LR{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0);let o=this.i;const s=p=>this.i!==o?(o=this.i,n(p)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ht(typeof o.accessToken=="string"),new t0(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new En(e)}}class VR{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MR{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new VR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ht(this.o===void 0);const o=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string"),this.R=n.token,new OR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<t;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=jR(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<n&&(o+=e.charAt(s[l]%e.length))}return o}}function Je(t,e){return t<e?-1:t>e?1:0}function Ys(t,e,n){return t.length===e.length&&t.every((o,s)=>n(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new qt(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new qt(0,0))}static max(){return new Fe(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,o){n===void 0?n=0:n>e.length&&Oe(),o===void 0?o=e.length-n:o>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let s=0;s<o;s++){const l=Jr.compareSegments(e.get(s),n.get(s));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const o=Jr.isNumericId(e),s=Jr.isNumericId(n);return o&&!s?-1:!o&&s?1:o&&s?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class Pt extends Jr{construct(e,n,o){return new Pt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Pe(se.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(s=>s.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Jr{construct(e,n,o){return new un(e,n,o)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new un(["__name__"])}static fromServerFormat(e){const n=[];let o="",s=0;const l=()=>{if(o.length===0)throw new Pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(o+=d,s++):(l(),s++)}if(l(),c)throw new Pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Pt.fromString(e))}static fromName(e){return new be(Pt.fromString(e).popFirst(5))}static empty(){return new be(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Pt(e.slice()))}}function zR(t,e){const n=t.toTimestamp().seconds,o=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(o===1e9?new qt(n+1,0):new qt(n,o));return new _o(s,be.empty(),e)}function BR(t){return new _o(t.readTime,t.key,-1)}class _o{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new _o(Fe.min(),be.empty(),-1)}static max(){return new _o(Fe.max(),be.empty(),-1)}}function $R(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==HR)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,o)=>{n(e)})}static reject(e){return new re((n,o)=>{o(e)})}static waitFor(e){return new re((n,o)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&n()},p=>o(p))}),c=!0,l===s&&n()})}static or(e){let n=re.resolve(!1);for(const o of e)n=n.next(s=>s?re.resolve(s):o());return n}static forEach(e,n){const o=[];return e.forEach((s,l)=>{o.push(n.call(this,s,l))}),this.waitFor(o)}static mapArray(e,n){return new re((o,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next(_=>{c[g]=_,++d,d===l&&o(c)},_=>s(_))}})}static doWhile(e,n){return new re((o,s)=>{const l=()=>{e()===!0?n().next(()=>{l()},s):o()};l()})}}function WR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function la(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ie(o),this.se=o=>n.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bc.oe=-1;function $c(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function KR(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=l_(e)),e=GR(t.get(n),e);return l_(e)}function GR(t,e){let n=e;const o=t.length;for(let s=0;s<o;s++){const l=t.charAt(s);switch(l){case"\0":n+="";break;case"":n+="";break;default:n+=l}}return n}function l_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return n+o.left.size;s<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,o,s,l){this.key=e,this.value=n,this.color=o??ln.RED,this.left=s??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,s,l){return new ln(e??this.key,n??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,o),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ln.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,o,s,l){return this}insert(e,n,o){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Wt(un.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(n,o)=>n.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new i0("Invalid base64 string: "+l):l}}(e);return new cn(n)}static fromUint8Array(e){const n=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(ht(!!t),typeof t=="string"){let e=0;const n=XR.exec(t);if(ht(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hc(t){const e=t.mapValue.fields.__previous_value__;return pp(e)?Hc(e):e}function hl(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,o,s,l,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}class pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pp(t)?4:ZR(t)?9007199254740991:JR(t)?10:11:Oe()}function ni(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=vo(s.timestampValue),d=vo(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,l){return Eo(s.bytesValue).isEqual(Eo(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,l){return Vt(s.geoPointValue.latitude)===Vt(l.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(l.geoPointValue.longitude)}(t,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Vt(s.integerValue)===Vt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Vt(s.doubleValue),d=Vt(l.doubleValue);return c===d?vc(c)===vc(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(u_(c)!==u_(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ni(c[p],d[p])))return!1;return!0}(t,e);default:return Oe()}}function ml(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Js(t,e){if(t===e)return 0;const n=wo(t),o=wo(e);if(n!==o)return Je(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Vt(l.integerValue||l.doubleValue),p=Vt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return f_(t.timestampValue,e.timestampValue);case 4:return f_(hl(t),hl(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Eo(l),p=Eo(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Je(d[g],p[g]);if(_!==0)return _}return Je(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Je(Vt(l.latitude),Vt(c.latitude));return d!==0?d:Je(Vt(l.longitude),Vt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return d_(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,_;const T=l.fields||{},w=c.fields||{},I=(d=T.value)===null||d===void 0?void 0:d.arrayValue,R=(p=w.value)===null||p===void 0?void 0:p.arrayValue,M=Je(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return M!==0?M:d_(I,R)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ku.mapValue&&c===Ku.mapValue)return 0;if(l===Ku.mapValue)return 1;if(c===Ku.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=Je(p[T],_[T]);if(w!==0)return w;const I=Js(d[p[T]],g[_[T]]);if(I!==0)return I}return Je(p.length,_.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function f_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=vo(t),o=vo(e),s=Je(n.seconds,o.seconds);return s!==0?s:Je(n.nanos,o.nanos)}function d_(t,e){const n=t.values||[],o=e.values||[];for(let s=0;s<n.length&&s<o.length;++s){const l=Js(n[s],o[s]);if(l)return l}return Je(n.length,o.length)}function Zs(t){return Nh(t)}function Nh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const o=vo(n);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let o="[",s=!0;for(const l of n.values||[])s?s=!1:o+=",",o+=Nh(l);return o+"]"}(t.arrayValue):"mapValue"in t?function(n){const o=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of o)l?l=!1:s+=",",s+=`${c}:${Nh(n.fields[c])}`;return s+"}"}(t.mapValue):Oe()}function tc(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hc(t);return e?16+tc(e):16;case 5:return 2*t.stringValue.length;case 6:return Eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+tc(l),0)}(t.arrayValue);case 10:case 11:return function(o){let s=0;return Co(o.fields,(l,c)=>{s+=l.length+tc(c)}),s}(t.mapValue);default:throw Oe()}}function Lh(t){return!!t&&"integerValue"in t}function mp(t){return!!t&&"arrayValue"in t}function h_(t){return!!t&&"nullValue"in t}function p_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nc(t){return!!t&&"mapValue"in t}function JR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,o)=>e.mapValue.fields[n]=rl(o)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=un.emptyPath(),o={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,o,s),o={},s=[],n=d.popLast()}c?o[d.lastSegment()]=rl(c):s.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,s)}delete(e){const n=this.field(e.popLast());nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=n.mapValue.fields[e.get(o)];nc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,o){Co(n,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new Bn(rl(this.value))}}function o0(t){const e=[];return Co(t.fields,(n,o)=>{const s=new un([n]);if(nc(o)){const l=o0(o.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,o,s,l,c,d){this.key=e,this.documentType=n,this.version=o,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new wn(e,0,Fe.min(),Fe.min(),Fe.min(),Bn.empty(),0)}static newFoundDocument(e,n,o,s){return new wn(e,1,n,Fe.min(),o,s,0)}static newNoDocument(e,n){return new wn(e,2,n,Fe.min(),Fe.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Fe.min(),Fe.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.position=e,this.inclusive=n}}function m_(t,e,n){let o=0;for(let s=0;s<t.position.length;s++){const l=e[s],c=t.position[s];if(l.field.isKeyField()?o=be.comparator(be.fromName(c.referenceValue),n.key):o=Js(c,n.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function g_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function eP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{}class Ht extends s0{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,o):new nP(e,n,o):n==="array-contains"?new oP(e,o):n==="in"?new sP(e,o):n==="not-in"?new aP(e,o):n==="array-contains-any"?new lP(e,o):new Ht(e,n,o)}static createKeyFieldInFilter(e,n,o){return n==="in"?new rP(e,o):new iP(e,o)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Js(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends s0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ri(e,n)}matches(e){return a0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a0(t){return t.op==="and"}function l0(t){return tP(t)&&a0(t)}function tP(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function Vh(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(l0(t))return t.filters.map(e=>Vh(e)).join(",");{const e=t.filters.map(n=>Vh(n)).join(",");return`${t.op}(${e})`}}function u0(t,e){return t instanceof Ht?function(o,s){return s instanceof Ht&&o.op===s.op&&o.field.isEqual(s.field)&&ni(o.value,s.value)}(t,e):t instanceof ri?function(o,s){return s instanceof ri&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,c,d)=>l&&u0(c,s.filters[d]),!0):!1}(t,e):void Oe()}function c0(t){return t instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(c0).join(" ,")+"}"}(t):"Filter"}class nP extends Ht{constructor(e,n,o){super(e,n,o),this.key=be.fromName(o.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class rP extends Ht{constructor(e,n){super(e,"in",n),this.keys=f0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iP extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=f0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(o=>be.fromName(o.referenceValue))}class oP extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mp(n)&&ml(n.arrayValue,this.value)}}class sP extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class aP extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ml(this.value.arrayValue,n)}}class lP extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>ml(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n=null,o=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function y_(t,e=null,n=[],o=[],s=null,l=null,c=null){return new uP(t,e,n,o,s,l,c)}function gp(t){const e=ze(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Vh(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Zs(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Zs(o)).join(",")),e.ue=n}return e.ue}function yp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g_(t.startAt,e.startAt)&&g_(t.endAt,e.endAt)}function Mh(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n=null,o=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cP(t,e,n,o,s,l,c,d){return new qc(t,e,n,o,s,l,c,d)}function _p(t){return new qc(t)}function __(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fP(t){return t.collectionGroup!==null}function il(t){const e=ze(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Wt(un.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new wc(l,o))}),n.has(un.keyField().canonicalString())||e.ce.push(new wc(un.keyField(),o))}return e.ce}function ei(t){const e=ze(t);return e.le||(e.le=dP(e,il(t))),e.le}function dP(t,e){if(t.limitType==="F")return y_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new wc(s.field,l)});const n=t.endAt?new Ec(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new Ec(t.startAt.position,t.startAt.inclusive):null;return y_(t.path,t.collectionGroup,e,t.filters,t.limit,n,o)}}function Oh(t,e,n){return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wc(t,e){return yp(ei(t),ei(e))&&t.limitType===e.limitType}function d0(t){return`${gp(ei(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(s=>c0(s)).join(", ")}]`),$c(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(s=>Zs(s)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(s=>Zs(s)).join(",")),`Target(${o})`}(ei(t))}; limitType=${t.limitType})`}function Kc(t,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):be.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(t,e)&&function(o,s){for(const l of il(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(t,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(t,e)&&function(o,s){return!(o.startAt&&!function(c,d,p){const g=m_(c,d,p);return c.inclusive?g<=0:g<0}(o.startAt,il(o),s)||o.endAt&&!function(c,d,p){const g=m_(c,d,p);return c.inclusive?g>=0:g>0}(o.endAt,il(o),s))}(t,e)}function hP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h0(t){return(e,n)=>{let o=!1;for(const s of il(t)){const l=pP(s,e,n);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function pP(t,e,n){const o=t.field.isKeyField()?be.comparator(e.key,n.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Js(p,g):Oe()}(t.field,e,n);switch(t.dir){case"asc":return o;case"desc":return-1*o;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[n]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return r0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new bt(be.comparator);function ki(){return mP}const p0=new bt(be.comparator);function Za(...t){let e=p0;for(const n of t)e=e.insert(n.key,n);return e}function m0(t){let e=p0;return t.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Xo(){return ol()}function g0(){return ol()}function ol(){return new os(t=>t.toString(),(t,e)=>t.isEqual(e))}const gP=new bt(be.comparator),yP=new Wt(be.comparator);function Ge(...t){let e=yP;for(const n of t)e=e.add(n);return e}const _P=new Wt(Je);function vP(){return _P}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function y0(t){return{integerValue:""+t}}function EP(t,e){return KR(e)?y0(e):vp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function wP(t,e,n){return t instanceof Tc?function(s,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&pp(l)&&(l=Hc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,e):t instanceof gl?v0(t,e):t instanceof yl?E0(t,e):function(s,l){const c=_0(s,l),d=v_(c)+v_(s.Pe);return Lh(c)&&Lh(s.Pe)?y0(d):vp(s.serializer,d)}(t,e)}function TP(t,e,n){return t instanceof gl?v0(t,e):t instanceof yl?E0(t,e):n}function _0(t,e){return t instanceof Sc?function(o){return Lh(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class Tc extends Qc{}class gl extends Qc{constructor(e){super(),this.elements=e}}function v0(t,e){const n=w0(e);for(const o of t.elements)n.some(s=>ni(s,o))||n.push(o);return{arrayValue:{values:n}}}class yl extends Qc{constructor(e){super(),this.elements=e}}function E0(t,e){let n=w0(e);for(const o of t.elements)n=n.filter(s=>!ni(s,o));return{arrayValue:{values:n}}}class Sc extends Qc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function v_(t){return Vt(t.integerValue||t.doubleValue)}function w0(t){return mp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SP(t,e){return t.field.isEqual(e.field)&&function(o,s){return o instanceof gl&&s instanceof gl||o instanceof yl&&s instanceof yl?Ys(o.elements,s.elements,ni):o instanceof Sc&&s instanceof Sc?ni(o.Pe,s.Pe):o instanceof Tc&&s instanceof Tc}(t.transform,e.transform)}class CP{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gc{}function T0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ep(t.key,Lr.none()):new Sl(t.key,t.data,Lr.none());{const n=t.data,o=Bn.empty();let s=new Wt(un.comparator);for(let l of e.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?o.delete(l):o.set(l,c),s=s.add(l)}return new Io(t.key,o,new Yn(s.toArray()),Lr.none())}}function IP(t,e,n){t instanceof Sl?function(s,l,c){const d=s.value.clone(),p=w_(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Io?function(s,l,c){if(!rc(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=w_(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(S0(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function sl(t,e,n,o){return t instanceof Sl?function(l,c,d,p){if(!rc(l.precondition,c))return d;const g=l.value.clone(),_=T_(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,o):t instanceof Io?function(l,c,d,p){if(!rc(l.precondition,c))return d;const g=T_(l.fieldTransforms,p,c),_=c.data;return _.setAll(S0(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(t,e,n,o):function(l,c,d){return rc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function RP(t,e){let n=null;for(const o of t.fieldTransforms){const s=e.data.field(o.field),l=_0(o.transform,s||null);l!=null&&(n===null&&(n=Bn.empty()),n.set(o.field,l))}return n||null}function E_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&Ys(o,s,(l,c)=>SP(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sl extends Gc{constructor(e,n,o,s=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Io extends Gc{constructor(e,n,o,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function S0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=t.data.field(n);e.set(n,o)}}),e}function w_(t,e,n){const o=new Map;ht(t.length===n.length);for(let s=0;s<n.length;s++){const l=t[s],c=l.transform,d=e.data.field(l.field);o.set(l.field,TP(c,d,n[s]))}return o}function T_(t,e,n){const o=new Map;for(const s of t){const l=s.transform,c=n.data.field(s.field);o.set(s.field,wP(l,c,e))}return o}class Ep extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PP extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,o,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&IP(l,e,o[s])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=sl(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=sl(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=g0();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const p=T0(c,d);p!==null&&o.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Fe.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(n,o)=>E_(n,o))&&Ys(this.baseMutations,e.baseMutations,(n,o)=>E_(n,o))}}class wp{constructor(e,n,o,s){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=s}static from(e,n,o){ht(e.mutations.length===o.length);let s=function(){return gP}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,o[c].version);return new wp(e,n,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,rt;function bP(t){switch(t){default:return Oe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function C0(t){if(t===void 0)return xi("GRPC error has no .code"),se.UNKNOWN;switch(t){case jt.OK:return se.OK;case jt.CANCELLED:return se.CANCELLED;case jt.UNKNOWN:return se.UNKNOWN;case jt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case jt.INTERNAL:return se.INTERNAL;case jt.UNAVAILABLE:return se.UNAVAILABLE;case jt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case jt.NOT_FOUND:return se.NOT_FOUND;case jt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case jt.ABORTED:return se.ABORTED;case jt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case jt.DATA_LOSS:return se.DATA_LOSS;default:return Oe()}}(rt=jt||(jt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new ho([4294967295,4294967295],0);function S_(t){const e=DP().encode(t),n=new Gv;return n.update(e),new Uint8Array(n.digest())}function C_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ho([n,o],0),new ho([s,l],0)]}class Tp{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(o<0)throw new el(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${o}`);if(e.length===0&&n!==0)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ho.fromNumber(this.Te)}de(e,n,o){let s=e.add(n.multiply(ho.fromNumber(o)));return s.compare(NP)===1&&(s=new ho([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=S_(e),[o,s]=C_(n);for(let l=0;l<this.hashCount;l++){const c=this.de(o,s,l);if(!this.Ee(c))return!1}return!0}static create(e,n,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Tp(l,s,n);return o.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const n=S_(e),[o,s]=C_(n);for(let l=0;l<this.hashCount;l++){const c=this.de(o,s,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),o=e%8;this.bitmap[n]|=1<<o}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,o,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const s=new Map;return s.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Xc(Fe.min(),s,new bt(Je),ki(),Ge())}}class Cl{constructor(e,n,o,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Cl(o,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,o,s){this.Re=e,this.removedTargetIds=n,this.key=o,this.Ve=s}}class I0{constructor(e,n){this.targetId=e,this.me=n}}class R0{constructor(e,n,o=cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=s}}class I_{constructor(){this.fe=0,this.ge=R_(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),n=Ge(),o=Ge();return this.ge.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:o=o.add(s);break;default:Oe()}}),new Cl(this.pe,this.ye,e,n,o)}Ce(){this.we=!1,this.ge=R_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class LP{constructor(e){this.Be=e,this.Le=new Map,this.ke=ki(),this.qe=Qu(),this.Qe=Qu(),this.Ke=new bt(Je)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(n);break;case 3:this.je(n)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((o,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,o=e.me.count,s=this.Ye(n);if(s){const l=s.target;if(Mh(l))if(o===0){const c=new be(l.path);this.We(n,c,wn.newNoDocument(c,Fe.min()))}else ht(o===1);else{const c=this.Ze(n);if(c!==o){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=Eo(o).toUint8Array()}catch(p){if(p instanceof i0)return Xs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Tp(c,s,l)}catch(p){return Xs(p instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,n,o){return n.me.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Be.getRemoteKeysForTarget(n);let s=0;return o.forEach(l=>{const c=this.Be.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(n,l,null),s++)}),s}it(e){const n=new Map;this.Le.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&Mh(d.target)){const p=new be(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,wn.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}});let o=Ge();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Ye(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(o=o.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const s=new Xc(e,n,this.Ke,this.ke,o);return this.ke=ki(),this.qe=Qu(),this.Qe=Qu(),this.Ke=new bt(Je),s}Ue(e,n){if(!this.je(e))return;const o=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,o),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),o&&(this.ke=this.ke.insert(n,o))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new I_,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Wt(Je),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Wt(Je),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new I_),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new bt(be.comparator)}function R_(){return new bt(be.comparator)}const VP={asc:"ASCENDING",desc:"DESCENDING"},MP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OP={and:"AND",or:"OR"};class FP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fh(t,e){return t.useProto3Json||$c(e)?e:{value:e}}function Cc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jP(t,e){return Cc(t,e.toTimestamp())}function ti(t){return ht(!!t),Fe.fromTimestamp(function(n){const o=vo(n);return new qt(o.seconds,o.nanos)}(t))}function Sp(t,e){return jh(t,e).canonicalString()}function jh(t,e){const n=function(s){return new Pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function A0(t){const e=Pt.fromString(t);return ht(N0(e)),e}function Uh(t,e){return Sp(t.databaseId,e.path)}function nh(t,e){const n=A0(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(k0(n))}function x0(t,e){return Sp(t.databaseId,e)}function UP(t){const e=A0(t);return e.length===4?Pt.emptyPath():k0(e)}function zh(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k0(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P_(t,e,n){return{name:Uh(t,e),fields:n.value.mapValue.fields}}function zP(t,e){let n;if("targetChange"in e){e.targetChange;const o=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(ht(_===void 0||typeof _=="string"),cn.fromBase64String(_||"")):(ht(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),cn.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?se.UNKNOWN:C0(g.code);return new Pe(_,g.message||"")}(c);n=new R0(o,s,l,d||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=nh(t,o.document.name),l=ti(o.document.updateTime),c=o.document.createTime?ti(o.document.createTime):Fe.min(),d=new Bn({mapValue:{fields:o.document.fields}}),p=wn.newFoundDocument(s,l,c,d),g=o.targetIds||[],_=o.removedTargetIds||[];n=new ic(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=nh(t,o.document),l=o.readTime?ti(o.readTime):Fe.min(),c=wn.newNoDocument(s,l),d=o.removedTargetIds||[];n=new ic([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=nh(t,o.document),l=o.removedTargetIds||[];n=new ic([],l,s,null)}else{if(!("filter"in e))return Oe();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,c=new kP(s,l),d=o.targetId;n=new I0(d,c)}}return n}function BP(t,e){let n;if(e instanceof Sl)n={update:P_(t,e.key,e.value)};else if(e instanceof Ep)n={delete:Uh(t,e.key)};else if(e instanceof Io)n={update:P_(t,e.key,e.data),updateMask:YP(e.fieldMask)};else{if(!(e instanceof PP))return Oe();n={verify:Uh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,c){const d=c.transform;if(d instanceof Tc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Oe()}(0,o))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:jP(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe()}(t,e.precondition)),n}function $P(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(n=>function(s,l){let c=s.updateTime?ti(s.updateTime):ti(l);return c.isEqual(Fe.min())&&(c=ti(l)),new CP(c,s.transformResults||[])}(n,e))):[]}function HP(t,e){return{documents:[x0(t,e.path)]}}function qP(t,e){const n={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=x0(t,s);const l=function(g){if(g.length!==0)return D0(ri.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:qs(w.field),direction:QP(w.dir)}}(_))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Fh(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:n,parent:s}}function WP(t){let e=UP(t.parent);const n=t.structuredQuery,o=n.from?n.from.length:0;let s=null;if(o>0){ht(o===1);const _=n.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=function(T){const w=b0(T);return w instanceof ri&&l0(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(w=>function(R){return new wc(Ws(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,$c(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(T){const w=!!T.before,I=T.values||[];return new Ec(I,w)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const w=!T.before,I=T.values||[];return new Ec(I,w)}(n.endAt)),cP(e,s,c,l,d,"F",p,g)}function KP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Ws(n.unaryFilter.field);return Ht.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Ws(n.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ws(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ws(n.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(n){return Ht.create(Ws(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(o=>b0(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(t):Oe()}function QP(t){return VP[t]}function GP(t){return MP[t]}function XP(t){return OP[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return un.fromServerFormat(t.fieldPath)}function D0(t){return t instanceof Ht?function(n){if(n.op==="=="){if(p_(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(h_(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p_(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(h_(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:GP(n.op),value:n.value}}}(t):t instanceof ri?function(n){const o=n.getFilters().map(s=>D0(s));return o.length===1?o[0]:{compositeFilter:{op:XP(n.op),filters:o}}}(t):Oe()}function YP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,o,s,l=Fe.min(),c=Fe.min(),d=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.ht=e}}function ZP(t){const e=WP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.ln=new tA}addToCollectionParentIndex(e,n){return this.ln.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(_o.min())}updateCollectionGroup(e,n,o){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class tA{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n]||new Wt(Pt.comparator),l=!s.has(o);return this.index[n]=s.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n];return s&&s.has(o)}getEntries(e){return(this.index[e]||new Wt(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ea(0)}static Qn(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_([t,e],[n,o]){const s=Je(t,n);return s===0?Je(e,o):s}class nA{constructor(e){this.Gn=e,this.buffer=new Wt(x_),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();x_(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rA{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){la(n)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await aa(n)}await this.Yn(3e5)})}}class iA{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Bc.oe);const o=new nA(n);return this.Zn.forEachTarget(e,s=>o.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>o.Hn(s))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Zn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(A_)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let o,s,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(o=T,d=Date.now(),this.removeTargets(e,o,n))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,o))).next(T=>(g=Date.now(),$s()<=it.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T})))}}function oA(t,e){return new iA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?re.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,o,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(o!==null&&sl(o.mutation,s,Yn.empty(),qt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Ge()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Ge()){const s=Xo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,o).next(l=>{let c=Za();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const o=Xo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Ge()))}populateOverlays(e,n,o){const s=[];return o.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,o,s){let l=ki();const c=ol(),d=function(){return ol()}();return n.forEach((p,g)=>{const _=o.get(g.key);s.has(g.key)&&(_===void 0||_.mutation instanceof Io)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),sl(_.mutation,g,_.mutation.getFieldMask(),qt.now())):c.set(g.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),n.forEach((g,_)=>{var T;return d.set(g,new aA(_,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,n){const o=ol();let s=new bt((c,d)=>c-d),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let _=o.get(p)||Yn.empty();_=d.applyToLocalView(g,_),o.set(p,_);const T=(s.get(d.batchId)||Ge()).add(p);s=s.insert(d.batchId,T)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=g0();_.forEach(w=>{if(!l.has(w)){const I=T0(n.get(w),o.get(w));I!==null&&T.set(w,I),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(c)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,s){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,s):this.getDocumentsMatchingCollectionQuery(e,n,o,s)}getNextDocuments(e,n,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,s-l.size):re.resolve(Xo());let d=-1,p=l;return c.next(g=>re.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ge())).next(_=>({batchId:d,changes:m0(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(o=>{let s=Za();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,o,s){const l=n.collectionGroup;let c=Za();return this.indexManager.getCollectionParents(e,l).next(d=>re.forEach(d,p=>{const g=function(T,w){return new qc(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,o,s).next(_=>{_.forEach((T,w)=>{c=c.insert(T,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,s))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,wn.newInvalidDocument(_)))});let d=Za();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&sl(_.mutation,g,Yn.empty(),qt.now()),Kc(n,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return re.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ti(s.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:ZP(s.bundledQuery),readTime:ti(s.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.overlays=new bt(be.comparator),this.dr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Xo();return re.forEach(n,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((s,l)=>{this.Tt(e,n,l)}),re.resolve()}removeOverlaysForBatchId(e,n,o){const s=this.dr.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(o)),re.resolve()}getOverlaysForCollection(e,n,o){const s=Xo(),l=n.length+1,c=new be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>o&&s.set(p.getKey(),p)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,o,s){let l=new bt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>o){let _=l.get(g.largestBatchId);_===null&&(_=Xo(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Xo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=s)););return re.resolve(d)}Tt(e,n,o){const s=this.overlays.get(o.key);if(s!==null){const c=this.dr.get(s.largestBatchId).delete(o.key);this.dr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(o.key,new xP(n,o));let l=this.dr.get(n);l===void 0&&(l=Ge(),this.dr.set(n,l)),this.dr.set(n,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Er=new Wt(Yt.Ar),this.Rr=new Wt(Yt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const o=new Yt(e,n);this.Er=this.Er.add(o),this.Rr=this.Rr.add(o)}mr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.gr(new Yt(e,n))}pr(e,n){e.forEach(o=>this.removeReference(o,n))}yr(e){const n=new be(new Pt([])),o=new Yt(n,e),s=new Yt(n,e+1),l=[];return this.Rr.forEachInRange([o,s],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new be(new Pt([])),o=new Yt(n,e),s=new Yt(n,e+1);let l=Ge();return this.Rr.forEachInRange([o,s],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Yt(e,0),o=this.Er.firstAfterOrEqual(n);return o!==null&&e.isEqual(o.key)}}class Yt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return be.comparator(e.key,n.key)||Je(e.br,n.br)}static Vr(e,n){return Je(e.br,n.br)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Wt(Yt.Ar)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,o,s){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AP(l,n,o,s);this.mutationQueue.push(c);for(const d of s)this.vr=this.vr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const o=n+1,s=this.Fr(o),l=s<0?0:s;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Yt(n,0),s=new Yt(n,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([o,s],c=>{const d=this.Cr(c.br);l.push(d)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Wt(Je);return n.forEach(s=>{const l=new Yt(s,0),c=new Yt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{o=o.add(d.br)})}),re.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,s=o.length+1;let l=o;be.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new be(l),0);let d=new Wt(Je);return this.vr.forEachWhile(p=>{const g=p.key.path;return!!o.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.br)),!0)},c),re.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(o=>{const s=this.Cr(o);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ht(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return re.forEach(n.mutations,s=>{const l=new Yt(s.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=o})}Bn(e){}containsKey(e,n){const o=new Yt(n,0),s=this.vr.firstAfterOrEqual(o);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.Nr=e,this.docs=function(){return new bt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,s=this.docs.get(o),l=s?s.size:0,c=this.Nr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return re.resolve(o?o.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let o=ki();return n.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():wn.newInvalidDocument(s))}),re.resolve(o)}getDocumentsMatchingQuery(e,n,o,s){let l=ki();const c=n.path,d=new be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||$R(BR(_),o)<=0||(s.has(_.key)||Kc(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,o,s){Oe()}Br(e,n){return re.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new pA(this)}getSize(e){return re.resolve(this.size)}}class pA extends sA{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(o)}),re.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.persistence=e,this.Lr=new os(n=>gp(n),yp),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Cp,this.targetCount=0,this.Qr=ea.qn()}forEachTarget(e,n){return this.Lr.forEach((o,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.kr&&(this.kr=n),re.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Un(n),re.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,o){let s=0;const l=[];return this.Lr.forEach((c,d)=>{d.sequenceNumber<=n&&o.get(d.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),re.waitFor(l).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const o=this.Lr.get(n)||null;return re.resolve(o)}addMatchingKeys(e,n,o){return this.qr.mr(n,o),re.resolve()}removeMatchingKeys(e,n,o){this.qr.pr(n,o);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const o=this.qr.Sr(n);return re.resolve(o)}containsKey(e,n){return re.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Bc(0),this.Ur=!1,this.Ur=!0,this.Wr=new fA,this.referenceDelegate=e(this),this.Gr=new mA(this),this.indexManager=new eA,this.remoteDocumentCache=function(s){return new hA(s)}(o=>this.referenceDelegate.zr(o)),this.serializer=new JP(n),this.jr=new uA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Kr[e.toKey()];return o||(o=new dA(n,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,o){ye("MemoryPersistence","Starting transaction:",e);const s=new gA(this.$r.next());return this.referenceDelegate.Hr(),o(s).next(l=>this.referenceDelegate.Jr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Yr(e,n){return re.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,n)))}}class gA extends qR{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Zr=new Cp,this.Xr=null}static ei(e){return new Ip(e)}get ti(){if(this.Xr)return this.Xr;throw Oe()}addReference(e,n,o){return this.Zr.addReference(o,n),this.ti.delete(o.toString()),re.resolve()}removeReference(e,n,o){return this.Zr.removeReference(o,n),this.ti.add(o.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),re.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.ti.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ti,o=>{const s=be.fromPath(o);return this.ni(e,s).next(l=>{l||n.removeEntry(s,Fe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(o=>{o?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return re.or([()=>re.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Ic{constructor(e,n){this.persistence=e,this.ri=new os(o=>QR(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=oA(this,n)}static ei(e,n){return new Ic(e,n)}Hr(){}Jr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(s=>o+s))}nr(e){let n=0;return this.er(e,o=>{n++}).next(()=>n)}er(e,n){return re.forEach(this.ri,(o,s)=>this.ir(e,o,s).next(l=>l?re.resolve():n(s)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Br(e,c=>this.ir(e,c,n).next(d=>{d||(o++,l.removeEntry(c,Fe.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),re.resolve()}removeReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tc(e.data.value)),n}ir(e,n,o){return re.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return re.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,o,s){this.targetId=e,this.fromCache=n,this.Wi=o,this.Gi=s}static zi(e,n){let o=Ge(),s=Ge();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Rp(e,n.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return gI()?8:WR(pI())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,o,s){const l={result:null};return this.Xi(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,n,s,o).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new yA;return this.ts(e,n,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,n,c,d.size)})}).next(()=>l.result)}ns(e,n,o,s){return o.documentReadCount<this.Ji?($s()<=it.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),re.resolve()):($s()<=it.DEBUG&&ye("QueryEngine","Query:",Hs(n),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.Yi*s?($s()<=it.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):re.resolve())}Xi(e,n){if(__(n))return re.resolve(null);let o=ei(n);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Oh(n,null,"F"),o=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const c=Ge(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,o).next(p=>{const g=this.rs(n,d);return this.ss(n,g,c,p.readTime)?this.Xi(e,Oh(n,null,"F")):this.os(e,g,n,p)}))})))}es(e,n,o,s){return __(n)||s.isEqual(Fe.min())?re.resolve(null):this.Zi.getDocuments(e,o).next(l=>{const c=this.rs(n,l);return this.ss(n,c,o,s)?re.resolve(null):($s()<=it.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hs(n)),this.os(e,c,n,zR(s,-1)).next(d=>d))})}rs(e,n){let o=new Wt(h0(e));return n.forEach((s,l)=>{Kc(e,l)&&(o=o.add(l))}),o}ss(e,n,o,s){if(e.limit===null)return!1;if(o.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ts(e,n,o){return $s()<=it.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.Zi.getDocumentsMatchingQuery(e,n,_o.min(),o)}os(e,n,o,s){return this.Zi.getDocumentsMatchingQuery(e,o,s).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,o,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new bt(Je),this.cs=new os(l=>gp(l),yp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function EA(t,e,n,o){return new vA(t,e,n,o)}async function V0(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",o=>{let s;return n.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,n.Ps(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const c=[],d=[];let p=Ge();for(const g of s){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(o,p).next(g=>({Ts:g,removedBatchIds:c,addedBatchIds:d}))})})}function wA(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const T=g.batch,w=T.keys();let I=re.resolve();return w.forEach(R=>{I=I.next(()=>_.getEntry(p,R)).next(M=>{const k=g.docVersions.get(R);ht(k!==null),M.version.compareTo(k)<0&&(T.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),_.addEntry(M)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(d){let p=Ge();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(o,s))})}function M0(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function TA(t,e){const n=ze(t),o=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const d=[];e.targetChanges.forEach((_,T)=>{const w=s.get(T);if(!w)return;d.push(n.Gr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>n.Gr.addMatchingKeys(l,_.addedDocuments,T)));let I=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(cn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,o)),s=s.insert(T,I),function(M,k,L){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(w,I,_)&&d.push(n.Gr.updateTargetData(l,I))});let p=ki(),g=Ge();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(SA(l,c,e.documentUpdates).next(_=>{p=_.Is,g=_.ds})),!o.isEqual(Fe.min())){const _=n.Gr.getLastRemoteSnapshotVersion(l).next(T=>n.Gr.setTargetsMetadata(l,l.currentSequenceNumber,o));d.push(_)}return re.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(n.us=s,l))}function SA(t,e,n){let o=Ge(),s=Ge();return n.forEach(l=>o=o.add(l)),e.getEntries(t,o).next(l=>{let c=ki();return n.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ye("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Is:c,ds:s}})}function CA(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function IA(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return n.Gr.getTargetData(o,e).next(l=>l?(s=l,re.resolve(s)):n.Gr.allocateTargetId(o).next(c=>(s=new uo(e,c,"TargetPurposeListen",o.currentSequenceNumber),n.Gr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=n.us.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(o.targetId,o),n.cs.set(e,o.targetId)),o})}async function Bh(t,e,n){const o=ze(t),s=o.us.get(e),l=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",l,c=>o.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!la(c))throw c;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}o.us=o.us.remove(e),o.cs.delete(s.target)}function k_(t,e,n){const o=ze(t);let s=Fe.min(),l=Ge();return o.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const T=ze(p),w=T.cs.get(_);return w!==void 0?re.resolve(T.us.get(w)):T.Gr.getTargetData(g,_)}(o,c,ei(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>o._s.getDocumentsMatchingQuery(c,e,n?s:Fe.min(),n?l:Ge())).next(d=>(RA(o,hP(e),d),{documents:d,Es:l})))}function RA(t,e,n){let o=t.ls.get(e)||Fe.min();n.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),t.ls.set(e,o)}class b_{constructor(){this.activeTargetIds=vP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PA{constructor(){this._o=new b_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,o){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new b_,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function rh(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class bA extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+n.host,this.Mo=`projects/${s}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Oo(n,o,s,l,c){const d=rh(),p=this.No(n,o.toUriEncodedString());ye("RestConnection",`Sending RPC '${n}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(g,l,c),this.Lo(n,p,g,s).then(_=>(ye("RestConnection",`Received RPC '${n}' ${d}: `,_),_),_=>{throw Xs("RestConnection",`RPC '${n}' ${d} failed with error: `,_,"url: ",p,"request:",s),_})}ko(n,o,s,l,c,d){return this.Oo(n,o,s,l,c)}Bo(n,o,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,c)=>n[c]=l),s&&s.headers.forEach((l,c)=>n[c]=l)}No(n,o){const s=xA[n];return`${this.Fo}/v1/${o}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,o,s){const l=rh();return new Promise((c,d)=>{const p=new Xv;p.setWithCredentials(!0),p.listenOnce(Yv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ec.NO_ERROR:const _=p.getResponseJson();ye(_n,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case ec.TIMEOUT:ye(_n,`RPC '${e}' ${l} timed out`),d(new Pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const T=p.getStatus();if(ye(_n,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const R=function(k){const L=k.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(L)>=0?L:se.UNKNOWN}(I.status);d(new Pe(R,I.message))}else d(new Pe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Pe(se.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{ye(_n,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);ye(_n,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,o,15)})}qo(e,n,o){const s=rh(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=e0(),d=Zv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,n,o),p.encodeInitMessageHeaders=!0;const _=l.join("");ye(_n,`Creating RPC '${e}' stream ${s}: ${_}`,p);const T=c.createWebChannel(_,p);let w=!1,I=!1;const R=new kA({Eo:k=>{I?ye(_n,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(w||(ye(_n,`Opening RPC '${e}' stream ${s} transport.`),T.open(),w=!0),ye(_n,`RPC '${e}' stream ${s} sending:`,k),T.send(k))},Ao:()=>T.close()}),M=(k,L,O)=>{k.listen(L,z=>{try{O(z)}catch(G){setTimeout(()=>{throw G},0)}})};return M(T,Ja.EventType.OPEN,()=>{I||(ye(_n,`RPC '${e}' stream ${s} transport opened.`),R.So())}),M(T,Ja.EventType.CLOSE,()=>{I||(I=!0,ye(_n,`RPC '${e}' stream ${s} transport closed`),R.Do())}),M(T,Ja.EventType.ERROR,k=>{I||(I=!0,Xs(_n,`RPC '${e}' stream ${s} transport errored:`,k),R.Do(new Pe(se.UNAVAILABLE,"The operation could not be completed")))}),M(T,Ja.EventType.MESSAGE,k=>{var L;if(!I){const O=k.data[0];ht(!!O);const z=O,G=(z==null?void 0:z.error)||((L=z[0])===null||L===void 0?void 0:L.error);if(G){ye(_n,`RPC '${e}' stream ${s} received error:`,G);const N=G.status;let ee=function(P){const D=jt[P];if(D!==void 0)return C0(D)}(N),A=G.message;ee===void 0&&(ee=se.INTERNAL,A="Unknown error status: "+N+" with message "+G.message),I=!0,R.Do(new Pe(ee,A)),T.close()}else ye(_n,`RPC '${e}' stream ${s} received:`,O),R.vo(O)}}),M(d,Jv.STAT_EVENT,k=>{k.stat===Dh.PROXY?ye(_n,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Dh.NOPROXY&&ye(_n,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){return new FP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,o=1e3,s=1.5,l=6e4){this.li=e,this.timerId=n,this.Qo=o,this.Ko=s,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-o);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,o,s,l,c,d,p){this.li=e,this.Yo=o,this.Zo=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new O0(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Xo===n&&this.I_(o,s)},o=>{e(()=>{const s=new Pe(se.UNKNOWN,"Fetching auth token failed: "+o.message);return this.d_(s)})})}I_(e,n){const o=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{o(()=>this.d_(s))}),this.stream.onMessage(s=>{o(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DA extends F0{constructor(e,n,o,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,s,c),this.serializer=l}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=zP(this.serializer,e),o=function(l){if(!("targetChange"in l))return Fe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?ti(c.readTime):Fe.min()}(e);return this.listener.R_(n,o)}V_(e){const n={};n.database=zh(this.serializer),n.addTarget=function(l,c){let d;const p=c.target;if(d=Mh(p)?{documents:HP(l,p)}:{query:qP(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=P0(l,c.resumeToken);const g=Fh(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Fe.min())>0){d.readTime=Cc(l,c.snapshotVersion.toTimestamp());const g=Fh(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const o=KP(this.serializer,e);o&&(n.labels=o),this.c_(n)}m_(e){const n={};n.database=zh(this.serializer),n.removeTarget=e,this.c_(n)}}class NA extends F0{constructor(e,n,o,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,s,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=$P(e.writeResults,e.commitTime),o=ti(e.commitTime);return this.listener.y_(o,n)}w_(){const e={};e.database=zh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>BP(this.serializer,o))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends class{}{constructor(e,n,o,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,o,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,jh(n,o),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(se.UNKNOWN,l.toString())})}ko(e,n,o,s,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,jh(n,o),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(se.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class VA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(xi(n),this.C_=!1):ye("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,o,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{o.enqueueAndForget(async()=>{ss(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=ze(p);g.k_.add(4),await Il(g),g.K_.set("Unknown"),g.k_.delete(4),await Jc(g)}(this))})}),this.K_=new VA(o,s)}}async function Jc(t){if(ss(t))for(const e of t.q_)await e(!0)}async function Il(t){for(const e of t.q_)await e(!1)}function j0(t,e){const n=ze(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),kp(n)?xp(n):ua(n).s_()&&Ap(n,e))}function Pp(t,e){const n=ze(t),o=ua(n);n.L_.delete(e),o.s_()&&U0(n,e),n.L_.size===0&&(o.s_()?o.a_():ss(n)&&n.K_.set("Unknown"))}function Ap(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).V_(e)}function U0(t,e){t.U_.xe(e),ua(t).m_(e)}function xp(t){t.U_=new LP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.K_.F_()}function kp(t){return ss(t)&&!ua(t).i_()&&t.L_.size>0}function ss(t){return ze(t).k_.size===0}function z0(t){t.U_=void 0}async function OA(t){t.K_.set("Online")}async function FA(t){t.L_.forEach((e,n)=>{Ap(t,e)})}async function jA(t,e){z0(t),kp(t)?(t.K_.O_(e),xp(t)):t.K_.set("Unknown")}async function UA(t,e,n){if(t.K_.set("Online"),e instanceof R0&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.L_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.L_.delete(d),s.U_.removeTarget(d))}(t,e)}catch(o){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Rc(t,o)}else if(e instanceof ic?t.U_.$e(e):e instanceof I0?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Fe.min()))try{const o=await M0(t.localStore);n.compareTo(o)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.L_.get(g);_&&l.L_.set(g,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const _=l.L_.get(p);if(!_)return;l.L_.set(p,_.withResumeToken(cn.EMPTY_BYTE_STRING,_.snapshotVersion)),U0(l,p);const T=new uo(_.target,p,g,_.sequenceNumber);Ap(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(o){ye("RemoteStore","Failed to raise snapshot:",o),await Rc(t,o)}}async function Rc(t,e,n){if(!la(e))throw e;t.k_.add(1),await Il(t),t.K_.set("Offline"),n||(n=()=>M0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Jc(t)})}function B0(t,e){return e().catch(n=>Rc(t,n,e))}async function Zc(t){const e=ze(t),n=To(e);let o=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;zA(e);)try{const s=await CA(e.localStore,o);if(s===null){e.B_.length===0&&n.a_();break}o=s.batchId,BA(e,s)}catch(s){await Rc(e,s)}$0(e)&&H0(e)}function zA(t){return ss(t)&&t.B_.length<10}function BA(t,e){t.B_.push(e);const n=To(t);n.s_()&&n.f_&&n.g_(e.mutations)}function $0(t){return ss(t)&&!To(t).i_()&&t.B_.length>0}function H0(t){To(t).start()}async function $A(t){To(t).w_()}async function HA(t){const e=To(t);for(const n of t.B_)e.g_(n.mutations)}async function qA(t,e,n){const o=t.B_.shift(),s=wp.from(o,e,n);await B0(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Zc(t)}async function WA(t,e){e&&To(t).f_&&await async function(o,s){if(function(c){return bP(c)&&c!==se.ABORTED}(s.code)){const l=o.B_.shift();To(o).__(),await B0(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Zc(o)}}(t,e),$0(t)&&H0(t)}async function N_(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const o=ss(n);n.k_.add(3),await Il(n),o&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Jc(n)}async function KA(t,e){const n=ze(t);e?(n.k_.delete(2),await Jc(n)):e||(n.k_.add(2),await Il(n),n.K_.set("Unknown"))}function ua(t){return t.W_||(t.W_=function(n,o,s){const l=ze(n);return l.b_(),new DA(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{Ro:OA.bind(null,t),mo:FA.bind(null,t),po:jA.bind(null,t),R_:UA.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),kp(t)?xp(t):t.K_.set("Unknown")):(await t.W_.stop(),z0(t))})),t.W_}function To(t){return t.G_||(t.G_=function(n,o,s){const l=ze(n);return l.b_(),new NA(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:$A.bind(null,t),po:WA.bind(null,t),p_:HA.bind(null,t),y_:qA.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Zc(t)):(await t.G_.stop(),t.B_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,o,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,s,l){const c=Date.now()+o,d=new bp(e,n,c,s,l);return d.start(o),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(t,e){if(xi("AsyncQueue",`${e}: ${t}`),la(t))return new Pe(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static emptySet(e){return new Qs(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||be.comparator(n.key,o.key):(n,o)=>be.comparator(n.key,o.key),this.keyedMap=Za(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const o=new Qs;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.z_=new bt(be.comparator)}track(e){const n=e.doc.key,o=this.z_.get(n);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(n,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(n,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(n):e.type===1&&o.type===2?this.z_=this.z_.insert(n,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Oe():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class ta{constructor(e,n,o,s,l,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,o,s,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new ta(e,n,Qs.emptySet(n),c,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==o[s].type||!n[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class GA{constructor(){this.queries=V_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,o){const s=ze(n),l=s.queries;s.queries=V_(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(o)})})(this,new Pe(se.ABORTED,"Firestore shutting down"))}}function V_(){return new os(t=>d0(t),Wc)}async function q0(t,e){const n=ze(t);let o=3;const s=e.query;let l=n.queries.get(s);l?!l.Y_()&&e.Z_()&&(o=2):(l=new QA,o=e.Z_()?0:1);try{switch(o){case 0:l.H_=await n.onListen(s,!0);break;case 1:l.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Dp(c,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,l),l.J_.push(e),e.ea(n.onlineState),l.H_&&e.ta(l.H_)&&Np(n)}async function W0(t,e){const n=ze(t),o=e.query;let s=3;const l=n.queries.get(o);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?s=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function XA(t,e){const n=ze(t);let o=!1;for(const s of e){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.J_)d.ta(s)&&(o=!0);c.H_=s}}o&&Np(n)}function YA(t,e,n){const o=ze(t),s=o.queries.get(e);if(s)for(const l of s.J_)l.onError(n);o.queries.delete(e)}function Np(t){t.X_.forEach(e=>{e.next()})}var $h,M_;(M_=$h||($h={})).na="default",M_.Cache="cache";class K0{constructor(e,n,o){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new ta(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const o=n!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$h.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.key=e}}class G0{constructor(e){this.key=e}}class JA{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ge(),this.mutatedKeys=Ge(),this.Va=h0(e),this.ma=new Qs(this.Va)}get fa(){return this.Ea}ga(e,n){const o=n?n.pa:new L_,s=n?n.ma:this.ma;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,T)=>{const w=s.get(_),I=Kc(this.query,T)?T:null,R=!!w&&this.mutatedKeys.has(w.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;w&&I?w.data.isEqual(I.data)?R!==M&&(o.track({type:3,doc:I}),k=!0):this.ya(w,I)||(o.track({type:2,doc:I}),k=!0,(p&&this.Va(I,p)>0||g&&this.Va(I,g)<0)&&(d=!0)):!w&&I?(o.track({type:0,doc:I}),k=!0):w&&!I&&(o.track({type:1,doc:w}),k=!0,(p||g)&&(d=!0)),k&&(I?(c=c.add(I),l=M?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),o.track({type:1,doc:_})}return{ma:c,pa:o,ss:d,mutatedKeys:l}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,s){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,T)=>function(I,R){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return M(I)-M(R)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(o),s=s!=null&&s;const d=n&&!s?this.Sa():[],p=this.Ra.size===0&&this.current&&!s?1:0,g=p!==this.Aa;return this.Aa=p,c.length!==0||g?{snapshot:new ta(this.query,e.ma,l,c,e.mutatedKeys,p===0,g,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new L_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ge(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const n=[];return e.forEach(o=>{this.Ra.has(o)||n.push(new G0(o))}),this.Ra.forEach(o=>{e.has(o)||n.push(new Q0(o))}),n}va(e){this.Ea=e.Es,this.Ra=Ge();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ta.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ZA{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class ex{constructor(e){this.key=e,this.Fa=!1}}class tx{constructor(e,n,o,s,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new os(d=>d0(d),Wc),this.Oa=new Map,this.Na=new Set,this.Ba=new bt(be.comparator),this.La=new Map,this.ka=new Cp,this.qa={},this.Qa=new Map,this.Ka=ea.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function nx(t,e,n=!0){const o=tE(t);let s;const l=o.xa.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ca()):s=await X0(o,e,n,!0),s}async function rx(t,e){const n=tE(t);await X0(n,e,!0,!1)}async function X0(t,e,n,o){const s=await IA(t.localStore,ei(e)),l=s.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return o&&(d=await ix(t,e,l,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&j0(t.remoteStore,s),d}async function ix(t,e,n,o,s){t.Ua=(T,w,I)=>async function(M,k,L,O){let z=k.view.ga(L);z.ss&&(z=await k_(M.localStore,k.query,!1).then(({documents:A})=>k.view.ga(A,z)));const G=O&&O.targetChanges.get(k.targetId),N=O&&O.targetMismatches.get(k.targetId)!=null,ee=k.view.applyChanges(z,M.isPrimaryClient,G,N);return F_(M,k.targetId,ee.ba),ee.snapshot}(t,T,w,I);const l=await k_(t.localStore,e,!0),c=new JA(e,l.Es),d=c.ga(l.documents),p=Cl.createSynthesizedTargetChangeForCurrentChange(n,o&&t.onlineState!=="Offline",s),g=c.applyChanges(d,t.isPrimaryClient,p);F_(t,n,g.ba);const _=new ZA(e,n,c);return t.xa.set(e,_),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),g.snapshot}async function ox(t,e,n){const o=ze(t),s=o.xa.get(e),l=o.Oa.get(s.targetId);if(l.length>1)return o.Oa.set(s.targetId,l.filter(c=>!Wc(c,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await Bh(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),n&&Pp(o.remoteStore,s.targetId),Hh(o,s.targetId)}).catch(aa)):(Hh(o,s.targetId),await Bh(o.localStore,s.targetId,!0))}async function sx(t,e){const n=ze(t),o=n.xa.get(e),s=n.Oa.get(o.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),Pp(n.remoteStore,o.targetId))}async function ax(t,e,n){const o=px(t);try{const s=await function(c,d){const p=ze(c),g=qt.now(),_=d.reduce((I,R)=>I.add(R.key),Ge());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=ki(),M=Ge();return p.hs.getEntries(I,_).next(k=>{R=k,R.forEach((L,O)=>{O.isValidDocument()||(M=M.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,R)).next(k=>{T=k;const L=[];for(const O of d){const z=RP(O,T.get(O.key).overlayedDocument);z!=null&&L.push(new Io(O.key,z,o0(z.value.mapValue),Lr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,L,d)}).next(k=>{w=k;const L=k.applyToLocalDocumentSet(T,M);return p.documentOverlayCache.saveOverlays(I,k.batchId,L)})}).then(()=>({batchId:w.batchId,changes:m0(T)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(c,d,p){let g=c.qa[c.currentUser.toKey()];g||(g=new bt(Je)),g=g.insert(d,p),c.qa[c.currentUser.toKey()]=g}(o,s.batchId,n),await Rl(o,s.changes),await Zc(o.remoteStore)}catch(s){const l=Dp(s,"Failed to persist write");n.reject(l)}}async function Y0(t,e){const n=ze(t);try{const o=await TA(n.localStore,e);e.targetChanges.forEach((s,l)=>{const c=n.La.get(l);c&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Fa=!0:s.modifiedDocuments.size>0?ht(c.Fa):s.removedDocuments.size>0&&(ht(c.Fa),c.Fa=!1))}),await Rl(n,o,e)}catch(o){await aa(o)}}function O_(t,e,n){const o=ze(t);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const s=[];o.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const p=ze(c);p.onlineState=d;let g=!1;p.queries.forEach((_,T)=>{for(const w of T.J_)w.ea(d)&&(g=!0)}),g&&Np(p)}(o.eventManager,e),s.length&&o.Ma.R_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function lx(t,e,n){const o=ze(t);o.sharedClientState.updateQueryState(e,"rejected",n);const s=o.La.get(e),l=s&&s.key;if(l){let c=new bt(be.comparator);c=c.insert(l,wn.newNoDocument(l,Fe.min()));const d=Ge().add(l),p=new Xc(Fe.min(),new Map,new bt(Je),c,d);await Y0(o,p),o.Ba=o.Ba.remove(l),o.La.delete(e),Lp(o)}else await Bh(o.localStore,e,!1).then(()=>Hh(o,e,n)).catch(aa)}async function ux(t,e){const n=ze(t),o=e.batch.batchId;try{const s=await wA(n.localStore,e);Z0(n,o,null),J0(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await Rl(n,s)}catch(s){await aa(s)}}async function cx(t,e,n){const o=ze(t);try{const s=await function(c,d){const p=ze(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(ht(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(o.localStore,e);Z0(o,e,n),J0(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),await Rl(o,s)}catch(s){await aa(s)}}function J0(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function Z0(t,e,n){const o=ze(t);let s=o.qa[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),o.qa[o.currentUser.toKey()]=s}}function Hh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const o of t.Oa.get(e))t.xa.delete(o),n&&t.Ma.Wa(o,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(o=>{t.ka.containsKey(o)||eE(t,o)})}function eE(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(Pp(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),Lp(t))}function F_(t,e,n){for(const o of n)o instanceof Q0?(t.ka.addReference(o.key,e),fx(t,o)):o instanceof G0?(ye("SyncEngine","Document no longer in limbo: "+o.key),t.ka.removeReference(o.key,e),t.ka.containsKey(o.key)||eE(t,o.key)):Oe()}function fx(t,e){const n=e.key,o=n.path.canonicalString();t.Ba.get(n)||t.Na.has(o)||(ye("SyncEngine","New document in limbo: "+n),t.Na.add(o),Lp(t))}function Lp(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new be(Pt.fromString(e)),o=t.Ka.next();t.La.set(o,new ex(n)),t.Ba=t.Ba.insert(n,o),j0(t.remoteStore,new uo(ei(_p(n.path)),o,"TargetPurposeLimboResolution",Bc.oe))}}async function Rl(t,e,n){const o=ze(t),s=[],l=[],c=[];o.xa.isEmpty()||(o.xa.forEach((d,p)=>{c.push(o.Ua(p,e,n).then(g=>{var _;if((g||n)&&o.isPrimaryClient){const T=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;o.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){s.push(g);const T=Rp.zi(p.targetId,g);l.push(T)}}))}),await Promise.all(c),o.Ma.R_(s),await async function(p,g){const _=ze(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>re.forEach(g,w=>re.forEach(w.Wi,I=>_.persistence.referenceDelegate.addReference(T,w.targetId,I)).next(()=>re.forEach(w.Gi,I=>_.persistence.referenceDelegate.removeReference(T,w.targetId,I)))))}catch(T){if(!la(T))throw T;ye("LocalStore","Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const I=_.us.get(w),R=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(R);_.us=_.us.insert(w,M)}}}(o.localStore,l))}async function dx(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const o=await V0(n.localStore,e);n.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new Pe(se.CANCELLED,c))})}),l.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Rl(n,o.Ts)}}function hx(t,e){const n=ze(t),o=n.La.get(e);if(o&&o.Fa)return Ge().add(o.key);{let s=Ge();const l=n.Oa.get(e);if(!l)return s;for(const c of l){const d=n.xa.get(c);s=s.unionWith(d.view.fa)}return s}}function tE(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lx.bind(null,e),e.Ma.R_=XA.bind(null,e.eventManager),e.Ma.Wa=YA.bind(null,e.eventManager),e}function px(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ux.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cx.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return EA(this.persistence,new _A,e.initialUser,this.serializer)}ja(e){return new L0(Ip.ei,this.serializer)}za(e){return new PA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class mx extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ht(this.persistence.referenceDelegate instanceof Ic);const o=this.persistence.referenceDelegate.garbageCollector;return new rA(o,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new L0(o=>Ic.ei(o,n),this.serializer)}}class qh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>O_(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=dx.bind(null,this.syncEngine),await KA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GA}()}createDatastore(e){const n=Yc(e.databaseInfo.databaseId),o=function(l){return new bA(l)}(e.databaseInfo);return function(l,c,d,p){return new LA(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return function(o,s,l,c,d){return new MA(o,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>O_(this.syncEngine,n,0),function(){return D_.p()?new D_:new AA}())}createSyncEngine(e,n){return function(s,l,c,d,p,g,_){const T=new tx(s,l,c,d,p,g);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const l=ze(s);ye("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Il(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qh.provider={build:()=>new qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,o,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=n0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async c=>{ye("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(o,c=>(ye("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const o=Dp(n,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function oh(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let o=n.initialUser;t.setCredentialChangeListener(async s=>{o.isEqual(s)||(await V0(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yx(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(o=>N_(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,s)=>N_(e.remoteStore,s)),t._onlineComponents=e}async function yx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await oh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await oh(t,new Pc)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await oh(t,new mx(void 0));return t._offlineComponents}async function rE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await j_(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await j_(t,new qh))),t._onlineComponents}function _x(t){return rE(t).then(e=>e.syncEngine)}async function iE(t){const e=await rE(t),n=e.eventManager;return n.onListen=nx.bind(null,e.syncEngine),n.onUnlisten=ox.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sx.bind(null,e.syncEngine),n}function vx(t,e,n={}){const o=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new nE({next:w=>{_.eu(),c.enqueueAndForget(()=>W0(l,T));const I=w.docs.has(d);!I&&w.fromCache?g.reject(new Pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?g.reject(new Pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new K0(_p(d.path),_,{includeMetadataChanges:!0,ua:!0});return q0(l,T)}(await iE(t),t.asyncQueue,e,n,o)),o.promise}function Ex(t,e,n={}){const o=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new nE({next:w=>{_.eu(),c.enqueueAndForget(()=>W0(l,T)),w.fromCache&&p.source==="server"?g.reject(new Pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new K0(d,_,{includeMetadataChanges:!0,ua:!0});return q0(l,T)}(await iE(t),t.asyncQueue,e,n,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e,n){if(!n)throw new Pe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wx(t,e,n,o){if(e===!0&&o===!0)throw new Pe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z_(t){if(!be.isDocumentKey(t))throw new Pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B_(t){if(be.isDocumentKey(t))throw new Pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vp(t);throw new Pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){var n,o;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oE((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,o,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new DR;switch(o.type){case"firstParty":return new MR(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=U_.get(n);o&&(ye("ComponentProvider","Removing Datastore"),U_.delete(n),o.terminate())}(this),Promise.resolve()}}function Tx(t,e,n,o={}){var s;const l=(t=bi(t,ef))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),o.mockUserToken){let d,p;if(typeof o.mockUserToken=="string")d=o.mockUserToken,p=En.MOCK_USER;else{d=hI(o.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=o.mockUserToken.sub||o.mockUserToken.user_id;if(!g)throw new Pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new En(g)}t._authCredentials=new NR(new t0(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new tf(this.firestore,e,this._query)}}class Jn{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class po extends tf{constructor(e,n,o){super(e,n,_p(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new be(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Wh(t,e,...n){if(t=yo(t),sE("collection","path",e),t instanceof ef){const o=Pt.fromString(e,...n);return B_(o),new po(t,null,o)}{if(!(t instanceof Jn||t instanceof po))throw new Pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(Pt.fromString(e,...n));return B_(o),new po(t.firestore,null,o)}}function Pl(t,e,...n){if(t=yo(t),arguments.length===1&&(e=n0.newId()),sE("doc","path",e),t instanceof ef){const o=Pt.fromString(e,...n);return z_(o),new Jn(t,null,new be(o))}{if(!(t instanceof Jn||t instanceof po))throw new Pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(Pt.fromString(e,...n));return z_(o),new Jn(t.firestore,t instanceof po?t.converter:null,new be(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new O0(this,"async_queue_retry"),this.fu=()=>{const o=ih();o&&ye("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const n=ih();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Ii;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!la(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(o);throw xi("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Ru=!1,o))));return this.gu=n,n}enqueueAfterDelay(e,n,o){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=bp.createAndSchedule(this,e,n,o,l=>this.Su(l));return this.Eu.push(s),s}pu(){this.Au&&Oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class ca extends ef{constructor(e,n,o,s){super(e,n,o,s),this.type="firestore",this._queue=new H_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function Sx(t,e){const n=typeof t=="object"?t:TR(),o=typeof t=="string"?t:"(default)",s=_R(n,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=fI("firestore");l&&Tx(s,...l)}return s}function Mp(t){if(t._terminated)throw new Pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cx(t),t._firestoreClient}function Cx(t){var e,n,o;const s=t._freezeSettings(),l=function(d,p,g,_){return new YR(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,oE(_.experimentalLongPollingOptions),_.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new gx(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(cn.fromBase64String(e))}catch(n){throw new Pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new na(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=/^__.*__$/;class Rx{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(e,this.data,n,this.fieldTransforms)}}class aE{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class Up{constructor(e,n,o,s,l,c){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Bu(e),s}Lu(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ac(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(lE(this.Mu)&&Ix.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Px{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Yc(e)}$u(e,n,o,s=!1){return new Up({Mu:e,methodName:n,Ku:o,path:un.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(t){const e=t._freezeSettings(),n=Yc(t._databaseId);return new Px(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ax(t,e,n,o,s,l={}){const c=t.$u(l.merge||l.mergeFields?2:0,e,n,s);zp("Data must be an object, but it was:",c,o);const d=cE(o,c);let p,g;if(l.merge)p=new Yn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=Kh(e,T,n);if(!c.contains(w))throw new Pe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);dE(_,w)||_.push(w)}p=new Yn(_),g=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=c.fieldTransforms;return new Rx(new Bn(d),p,g)}class rf extends Op{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function xx(t,e,n,o){const s=t.$u(1,e,n);zp("Data must be an object, but it was:",s,o);const l=[],c=Bn.empty();Co(o,(p,g)=>{const _=Bp(e,p,n);g=yo(g);const T=s.Lu(_);if(g instanceof rf)l.push(_);else{const w=of(g,T);w!=null&&(l.push(_),c.set(_,w))}});const d=new Yn(l);return new aE(c,d,s.fieldTransforms)}function kx(t,e,n,o,s,l){const c=t.$u(1,e,n),d=[Kh(e,o,n)],p=[s];if(l.length%2!=0)throw new Pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Kh(e,l[w])),p.push(l[w+1]);const g=[],_=Bn.empty();for(let w=d.length-1;w>=0;--w)if(!dE(g,d[w])){const I=d[w];let R=p[w];R=yo(R);const M=c.Lu(I);if(R instanceof rf)g.push(I);else{const k=of(R,M);k!=null&&(g.push(I),_.set(I,k))}}const T=new Yn(g);return new aE(_,T,c.fieldTransforms)}function of(t,e){if(fE(t=yo(t)))return zp("Unsupported field value:",e,t),cE(t,e);if(t instanceof Op)return function(o,s){if(!lE(s.Mu))throw s.qu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(o,s){const l=[];let c=0;for(const d of o){let p=of(d,s.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(o,s){if((o=yo(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return EP(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=qt.fromDate(o);return{timestampValue:Cc(s.serializer,l)}}if(o instanceof qt){const l=new qt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Cc(s.serializer,l)}}if(o instanceof Fp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof na)return{bytesValue:P0(s.serializer,o._byteString)};if(o instanceof Jn){const l=s.databaseId,c=o.firestore._databaseId;if(!c.isEqual(l))throw s.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sp(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof jp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return vp(d.serializer,p)})}}}}}}(o,s);throw s.qu(`Unsupported field value: ${Vp(o)}`)}(t,e)}function cE(t,e){const n={};return r0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(o,s)=>{const l=of(s,e.Ou(o));l!=null&&(n[o]=l)}),{mapValue:{fields:n}}}function fE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof Fp||t instanceof na||t instanceof Jn||t instanceof Op||t instanceof jp)}function zp(t,e,n){if(!fE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const o=Vp(n);throw o==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+o)}}function Kh(t,e,n){if((e=yo(e))instanceof nf)return e._internalPath;if(typeof e=="string")return Bp(t,e);throw Ac("Field path arguments must be of type string or ",t,!1,void 0,n)}const bx=new RegExp("[~\\*/\\[\\]]");function Bp(t,e,n){if(e.search(bx)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ac(t,e,n,o,s){const l=o&&!o.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${o}`),c&&(p+=` in document ${s}`),p+=")"),new Pe(se.INVALID_ARGUMENT,d+t+p)}function dE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,o,s,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dx extends hE{data(){return super.data()}}function pE(t,e){return typeof e=="string"?Bp(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lx{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Co(e,(s,l)=>{o[s]=this.convertValue(l,n)}),o}convertVectorValue(e){var n,o,s;const l=(s=(o=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(c=>Vt(c.doubleValue));return new jp(l)}convertGeoPoint(e){return new Fp(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Hc(e);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const n=vo(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Pt.fromString(e);ht(N0(o));const s=new pl(o.get(1),o.get(3)),l=new be(o.popFirst(5));return s.isEqual(n)||xi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e,n){let o;return o=t?t.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mE extends hE{constructor(e,n,o,s,l,c){super(e,n,o,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(pE("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class oc extends mE{data(e={}){return super.data(e)}}class Mx{constructor(e,n,o,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new tl(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new oc(this._firestore,this._userDataWriter,o.key,o,new tl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const p=new oc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new tl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new oc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new tl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:Ox(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ox(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){t=bi(t,Jn);const e=bi(t.firestore,ca);return vx(Mp(e),t._key).then(n=>zx(e,t,n))}class yE extends Lx{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function Fx(t){t=bi(t,tf);const e=bi(t.firestore,ca),n=Mp(e),o=new yE(e);return Nx(t._query),Ex(n,t._query).then(s=>new Mx(e,o,t,s))}function $p(t,e,n,...o){t=bi(t,Jn);const s=bi(t.firestore,ca),l=uE(s);let c;return c=typeof(e=yo(e))=="string"||e instanceof nf?kx(l,"updateDoc",t._key,e,n,o):xx(l,"updateDoc",t._key,e),Hp(s,[c.toMutation(t._key,Lr.exists(!0))])}function jx(t){return Hp(bi(t.firestore,ca),[new Ep(t._key,Lr.none())])}function Ux(t,e){const n=bi(t.firestore,ca),o=Pl(t),s=Vx(t.converter,e);return Hp(n,[Ax(uE(t.firestore),"addDoc",o._key,s,t.converter!==null,{}).toMutation(o._key,Lr.exists(!1))]).then(()=>o)}function Hp(t,e){return function(o,s){const l=new Ii;return o.asyncQueue.enqueueAndForget(async()=>ax(await _x(o),s,l)),l.promise}(Mp(t),e)}function zx(t,e,n){const o=n.docs.get(e._key),s=new yE(t);return new mE(t,s,e._key,o,new tl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){sa=s})(wR),_c(new fl("firestore",(o,{instanceIdentifier:s,options:l})=>{const c=o.getProvider("app").getImmediate(),d=new ca(new LR(o.getProvider("auth-internal")),new FR(o.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(g.options.projectId,_)}(c,s),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ks(a_,"4.7.6",e),Ks(a_,"4.7.6","esm2017")})();var Bx="firebase",$x="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(Bx,$x,"app");const Hx={apiKey:"AIzaSyDJlJEPXibbEdsM-0Dy_ltis3G08j_crh8",authDomain:"e-comerce-5e119.firebaseapp.com",projectId:"e-comerce-5e119",storageBucket:"e-comerce-5e119.appspot.com",messagingSenderId:"581444591910",appId:"1:581444591910:web:26dff9136befe774b961e7"},qx=Wv(Hx),ra=Sx(qx),sf=oi("Cart/fetch",async()=>(await Fx(Wh(ra,"cart"))).docs.map(n=>({id:n.id,...n.data()}))),qp=oi("Cart/add",async(t,{getState:e,dispatch:n})=>{try{n(sf());const o=e(),{cartItems:s}=o.cartReducer,l=s.findIndex(c=>c.product.id===t.id);if(l!==-1){const c=s[l],d=c.qty+1,p=Pl(Wh(ra,"cart"),c.id);await $p(p,{qty:d}),Ue.success("Quantity Increased!")}else await Ux(Wh(ra,"cart"),{product:t,qty:1}),Ue.success("Item Added To Cart Successfully!")}catch(o){return Promise.reject(o)}}),xc=oi("Cart/remove",async(t,{getState:e})=>{try{const n=Pl(ra,"cart",t);await jx(n)}catch(n){return Promise.reject(n)}}),Qh=oi("Cart/increaseQuantity",async t=>{try{const e=Pl(ra,"cart",t),o=(await gE(e)).data().qty;await $p(e,{qty:o+1})}catch(e){return Promise.reject(e)}}),_E=oi("Cart/decreaseQuantity",async(t,{dispatch:e})=>{try{const n=Pl(ra,"cart",t),s=(await gE(n)).data().qty;s<=1?e(xc(t)):(await $p(n,{qty:s-1}),Ue.success("Quantity Decreased Successfully!"))}catch(n){return Promise.reject(n)}}),Wx={cartItems:[],cartLoading:!0,cartItemsCount:0},Kx=xv({name:"Cart",initialState:Wx,reducers:{setCartItemsCount:(t,e)=>{t.cartItemsCount=e.payload}},extraReducers:t=>{t.addCase(qp.rejected,(e,n)=>{Ue.error("Failed To Add To Cart!"),console.log(n.error.message)}),t.addCase(sf.fulfilled,(e,n)=>{e.cartItems=n.payload,e.cartItemsCount=e.cartItems.length,e.cartLoading=!1}),t.addCase(xc.fulfilled,(e,n)=>{Ue.success("Item Removed From Cart Successfully!")}),t.addCase(xc.rejected,(e,n)=>{Ue.error("Failed To Remove Item From Cart!"),console.log(n.error.message)}),t.addCase(Qh.fulfilled,(e,n)=>{Ue.success("Quantity Increased Successfully!")}),t.addCase(Qh.rejected,(e,n)=>{Ue.error("Failed To Increase Quantity!"),console.log(n.error.message)}),t.addCase(_E.rejected,(e,n)=>{Ue.error("Failed To Decrease Quantity!"),console.log(n.error.message)})}}),Qx=Kx.reducer,vE=t=>t.cartReducer;function Gx({product:t}){const[e,n]=$.useState(!1),o=is(),s=()=>{o(qp(t))};return Z.jsx(Z.Fragment,{children:Z.jsxs("div",{className:br.productContainer,onMouseOver:()=>n(!0),onMouseOut:()=>n(!1),children:[Z.jsx("img",{src:t.thumbnail,alt:"img",className:br.thumbnail}),Z.jsx("h2",{className:br.heading,children:t.title}),Z.jsx("p",{className:br.description,children:t.description}),Z.jsx("h2",{className:br.price,children:`$${t.price}`}),Z.jsx(cp,{count:5,value:t.rating,size:24,activeColor:"#ffd700",isHalf:!0,edit:!1}),Z.jsx(op,{to:`products/${t.id}`,className:br.link,children:Z.jsx("button",{type:"button",className:br.moreInfoBtn,children:"More Info"})}),Z.jsx("button",{type:"button",className:br.addToCartBtn,onClick:()=>s(),children:"Add To Cart"}),e&&Z.jsxs("div",{className:br.iconContainer,children:[Z.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/6460/6460112.png",alt:"delete",className:br.icon,onClick:()=>o(Ch(t.id))}),Z.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/12493/12493756.png",alt:"update",className:br.icon,onClick:()=>o(OC(t))})]})]})})}function Xx(){const{sortPrice:t,products:e,sortedProducts:n}=ia(zc),[o,s]=$.useState(1),l=5,c=o*l,d=c-l,p=t?n.slice(d,c):e.slice(d,c),g=Math.ceil((t?n.length:e.length)/l),_=w=>{s(w)},T=[];for(let w=1;w<=g;w++)T.push(w);return Z.jsx(Z.Fragment,{children:Z.jsxs("div",{className:$y.productsListContainer,children:[Z.jsx("div",{className:$y.pagination,children:T.map(w=>Z.jsx("button",{onClick:()=>_(w),children:w},w))}),p.map(w=>Z.jsx(Gx,{product:w},w.id))]})})}const Yx="_overlay_pwhzs_3",Jx="_formContainer_pwhzs_23",Zx="_closeBtn_pwhzs_139",sh={overlay:Yx,formContainer:Jx,closeBtn:Zx};function ek(){const{update:t,productToUpdate:e}=ia(zc),[n,o]=$.useState(""),[s,l]=$.useState(""),[c,d]=$.useState(""),[p,g]=$.useState(""),[_,T]=$.useState(""),[w,I]=$.useState(""),[R,M]=$.useState(""),k=is();$.useEffect(()=>{t&&e?(o(e.title||""),l(e.description||""),d(e.price||""),g(e.rating||""),T(e.thumbnail||""),I(e.brand||""),M(e.category||"")):(o(""),l(""),d(""),g(""),T(""),I(""),M(""))},[t,e]);const L=O=>{if(O.preventDefault(),!n||!s||!c||!p||!_||!w||!R)return Ue.error("Please Enter All Fields!");k(t?Ih({id:e.id,updatedProduct:{title:n,description:s,price:c,rating:p,thumbnail:_,brand:w,category:R}}):Sh({product:{title:n,description:s,price:c,rating:p,thumbnail:_,brand:w,category:R}})),o(""),l(""),d(""),g(""),T(""),I(""),M("")};return Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:sh.overlay}),Z.jsxs("div",{className:sh.formContainer,children:[Z.jsx("h1",{style:{color:"#3498db"},children:t?"Update Product":"Add New Product"}),Z.jsxs("form",{children:[Z.jsx("label",{htmlFor:"name",children:"Name:"}),Z.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Enter name",value:n,required:!0,onChange:O=>o(O.target.value)}),Z.jsx("label",{htmlFor:"description",children:"Description:"}),Z.jsx("input",{type:"text",id:"description",name:"description",placeholder:"Enter description",value:s,required:!0,onChange:O=>l(O.target.value)}),Z.jsx("label",{htmlFor:"price",children:"Price:"}),Z.jsx("input",{type:"number",id:"price",name:"price",placeholder:"Enter price",required:!0,value:c,onChange:O=>d(O.target.value)}),Z.jsx("label",{htmlFor:"rating",children:"Rating (0-5):"}),Z.jsx("input",{type:"number",id:"rating",name:"rating",placeholder:"Enter rating",value:p,required:!0,min:"0",max:"5",onChange:O=>g(O.target.value)}),Z.jsx("label",{htmlFor:"thumbnail",children:"Thumbnail URL:"}),Z.jsx("input",{type:"text",id:"thumbnail",name:"thumbnail",placeholder:"Enter thumbnail URL",value:_,required:!0,onChange:O=>T(O.target.value)}),Z.jsx("label",{htmlFor:"brand",children:"Brand:"}),Z.jsx("input",{type:"text",id:"brand",name:"brand",placeholder:"Enter brand",value:w,required:!0,onChange:O=>I(O.target.value)}),Z.jsx("label",{htmlFor:"category",children:"Category:"}),Z.jsx("input",{type:"text",id:"category",name:"category",placeholder:"Enter category",value:R,required:!0,onChange:O=>M(O.target.value)})]}),Z.jsx("button",{type:"submit",onClick:O=>L(O),children:t?"Update Product":"Add Product"}),Z.jsx("button",{type:"button",className:sh.closeBtn,onClick:()=>k(Fv()),children:"Close"})]})]})}function tk(){const{productsLoading:t,formVisible:e,sortPrice:n}=ia(zc),o=is();return $.useEffect(()=>{o(wh())},[o]),Z.jsx(Z.Fragment,{children:t?Z.jsx("div",{className:ju.loaderContainer,children:Z.jsx(mv,{size:100,color:"#3498db"})}):Z.jsxs("div",{className:ju.homepageContainer,children:[e&&Z.jsx(ek,{}),Z.jsx("button",{type:"button",className:ju.sortButton,onClick:()=>o(MC()),children:n?Z.jsx("img",{className:ju.close,src:"https://cdn-icons-png.flaticon.com/128/1828/1828843.png",alt:"img"}):"Sort By Price"}),Z.jsx(Xx,{})]})})}const nk="_navbarContainer_184ge_3",rk="_navItemsLeft_184ge_29",ik="_navItemsRight_184ge_41",ok="_navItem_184ge_29",sk="_navLink_184ge_85",ak="_cartContainer_184ge_1",lk="_cartItemsCount_184ge_121",vn={navbarContainer:nk,navItemsLeft:rk,navItemsRight:ik,navItem:ok,navLink:sk,cartContainer:ak,cartItemsCount:lk};function uk(){const t=is(),{cartItemsCount:e}=ia(vE);return $.useEffect(()=>{t(sf())},[t]),Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:vn.navbarContainer,children:[Z.jsxs("div",{className:vn.navItemsLeft,children:[Z.jsx(Zu,{to:"/",className:vn.navLink,children:Z.jsx("div",{className:vn.navItem,children:Z.jsx("p",{children:"eCommerce"})})}),Z.jsx(Zu,{to:"/",className:vn.navLink,children:Z.jsx("div",{className:vn.navItem,children:Z.jsx("p",{children:"Products"})})}),Z.jsxs("div",{className:vn.navItem,onClick:()=>t(Fv()),children:[Z.jsx("p",{children:"Add a product"}),Z.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/9447/9447856.png",alt:"img",className:vn.AddProductImg})]})]}),Z.jsxs("div",{className:vn.navItemsRight,children:[Z.jsx(Zu,{to:"cart",className:vn.navLink,children:Z.jsxs("div",{className:vn.navItem,id:vn.cartContainer,children:[Z.jsx("p",{className:vn.cartItemsCount,children:e}),Z.jsx("p",{children:"Cart"}),Z.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/5952/5952750.png",alt:"img",className:vn.cartImg})]})}),Z.jsxs("div",{className:vn.navItem,children:[Z.jsx("p",{children:"User"}),Z.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/5397/5397570.png",alt:"img",className:vn.userImg})]})]})]}),Z.jsx(JT,{})]})}const ck=NS({reducer:{productReducer:VC,cartReducer:Qx}}),fk="_loaderContainer_hlk9d_3",dk="_productPageContainer_hlk9d_17",hk="_imagesContainer_hlk9d_39",pk="_detailsContainer_hlk9d_41",mk="_allPicsContainer_hlk9d_73",gk="_mainPicContainer_hlk9d_119",yk="_title_hlk9d_135",_k="_productBrand_hlk9d_149",vk="_productCategory_hlk9d_151",Ek="_price_hlk9d_163",wk="_cartContainer_hlk9d_177",Tk="_buttons_hlk9d_191",Sk="_qty_hlk9d_229",Ck="_addCartButton_hlk9d_237",Ik="_descriptionTitle_hlk9d_267",Rk="_description_hlk9d_267",Pn={loaderContainer:fk,productPageContainer:dk,imagesContainer:hk,detailsContainer:pk,allPicsContainer:mk,mainPicContainer:gk,title:yk,productBrand:_k,productCategory:vk,price:Ek,cartContainer:wk,buttons:Tk,qty:Sk,addCartButton:Ck,descriptionTitle:Ik,description:Rk};var Si={},Ka={},q_;function Pk(){if(q_)return Ka;q_=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.calculateRgba=void 0;var t;(function(o){o.maroon="#800000",o.red="#FF0000",o.orange="#FFA500",o.yellow="#FFFF00",o.olive="#808000",o.green="#008000",o.purple="#800080",o.fuchsia="#FF00FF",o.lime="#00FF00",o.teal="#008080",o.aqua="#00FFFF",o.blue="#0000FF",o.navy="#000080",o.black="#000000",o.gray="#808080",o.silver="#C0C0C0",o.white="#FFFFFF"})(t||(t={}));var e=function(o,s){if(o.includes("/"))return o.replace("rgb(","rgba(");var l=o.substring(o.startsWith("rgba(")?5:4,o.length-1).trim(),c=l.split(",");return c.length===4?o.replace("rgb(","rgba("):c.length===3?"rgba(".concat(l,", ").concat(s,")"):"rgba(".concat(l," / ").concat(s,")")},n=function(o,s){if(o.startsWith("rgb"))return e(o,s);if(Object.keys(t).includes(o)&&(o=t[o]),o[0]==="#"&&(o=o.slice(1)),o.length===3){var l="";o.split("").forEach(function(d){l+=d,l+=d}),o=l}var c=(o.match(/.{2}/g)||[]).map(function(d){return parseInt(d,16)}).join(", ");return"rgba(".concat(c,", ").concat(s,")")};return Ka.calculateRgba=n,Ka}var Qa={},W_;function Ak(){if(W_)return Qa;W_=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.parseLengthAndUnit=e,Qa.cssValue=n;var t={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function e(o){if(typeof o=="number")return{value:o,unit:"px"};var s,l=(o.match(/^[0-9.]*/)||"").toString();l.includes(".")?s=parseFloat(l):s=parseInt(l,10);var c=(o.match(/[^0-9]*$/)||"").toString();return t[c]?{value:s,unit:c}:(console.warn("React Spinners: ".concat(o," is not a valid css value. Defaulting to ").concat(s,"px.")),{value:s,unit:"px"})}function n(o){var s=e(o);return"".concat(s.value).concat(s.unit)}return Qa}var Ga={},K_;function xk(){if(K_)return Ga;K_=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.createAnimation=void 0;var t=function(e,n,o){var s="react-spinners-".concat(e,"-").concat(o);if(typeof window>"u"||!window.document)return s;var l=document.createElement("style");document.head.appendChild(l);var c=l.sheet,d=`
    @keyframes `.concat(s,` {
      `).concat(n,`
    }
  `);return c&&c.insertRule(d,0),s};return Ga.createAnimation=t,Ga}var Q_;function kk(){if(Q_)return Si;Q_=1;var t=Si.__assign||function(){return t=Object.assign||function(_){for(var T,w=1,I=arguments.length;w<I;w++){T=arguments[w];for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(_[R]=T[R])}return _},t.apply(this,arguments)},e=Si.__createBinding||(Object.create?function(_,T,w,I){I===void 0&&(I=w);var R=Object.getOwnPropertyDescriptor(T,w);(!R||("get"in R?!T.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return T[w]}}),Object.defineProperty(_,I,R)}:function(_,T,w,I){I===void 0&&(I=w),_[I]=T[w]}),n=Si.__setModuleDefault||(Object.create?function(_,T){Object.defineProperty(_,"default",{enumerable:!0,value:T})}:function(_,T){_.default=T}),o=Si.__importStar||function(_){if(_&&_.__esModule)return _;var T={};if(_!=null)for(var w in _)w!=="default"&&Object.prototype.hasOwnProperty.call(_,w)&&e(T,_,w);return n(T,_),T},s=Si.__rest||function(_,T){var w={};for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&T.indexOf(I)<0&&(w[I]=_[I]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,I=Object.getOwnPropertySymbols(_);R<I.length;R++)T.indexOf(I[R])<0&&Object.prototype.propertyIsEnumerable.call(_,I[R])&&(w[I[R]]=_[I[R]]);return w};Object.defineProperty(Si,"__esModule",{value:!0});var l=o(So()),c=Pk(),d=Ak(),p=xk();function g(_){var T=_.loading,w=T===void 0?!0:T,I=_.color,R=I===void 0?"#000000":I,M=_.speedMultiplier,k=M===void 0?1:M,L=_.cssOverride,O=L===void 0?{}:L,z=_.size,G=z===void 0?50:z,N=s(_,["loading","color","speedMultiplier","cssOverride","size"]),ee=(0,d.parseLengthAndUnit)(G),A=ee.value,S=ee.unit,P=t({display:"inherit",position:"relative",width:(0,d.cssValue)(G),height:(0,d.cssValue)(G),transform:"rotate(165deg)"},O),D=A/5,V=(A-D)/2,U=V-D,x=(0,c.calculateRgba)(R,.75),et=(0,p.createAnimation)("HashLoader","0% {width: ".concat(D,"px; box-shadow: ").concat(V,"px ").concat(-U,"px ").concat(x,", ").concat(-V,"px ").concat(U,"px ").concat(x,`}
    35% {width: `).concat((0,d.cssValue)(G),"; box-shadow: 0 ").concat(-U,"px ").concat(x,", 0 ").concat(U,"px ").concat(x,`}
    70% {width: `).concat(D,"px; box-shadow: ").concat(-V,"px ").concat(-U,"px ").concat(x,", ").concat(V,"px ").concat(U,"px ").concat(x,`}
    100% {box-shadow: `).concat(V,"px ").concat(-U,"px ").concat(x,", ").concat(-V,"px ").concat(U,"px ").concat(x,"}"),"before"),je=(0,p.createAnimation)("HashLoader","0% {height: ".concat(D,"px; box-shadow: ").concat(U,"px ").concat(V,"px ").concat(R,", ").concat(-U,"px ").concat(-V,"px ").concat(R,`}
    35% {height: `).concat((0,d.cssValue)(G),"; box-shadow: ").concat(U,"px 0 ").concat(R,", ").concat(-U,"px 0 ").concat(R,`}
    70% {height: `).concat(D,"px; box-shadow: ").concat(U,"px ").concat(-V,"px ").concat(R,", ").concat(-U,"px ").concat(V,"px ").concat(R,`}
    100% {box-shadow: `).concat(U,"px ").concat(V,"px ").concat(R,", ").concat(-U,"px ").concat(-V,"px ").concat(R,"}"),"after"),at=function(Te){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(A/5).concat(S),height:"".concat(A/5).concat(S),borderRadius:"".concat(A/10).concat(S),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(Te===1?et:je," ").concat(2/k,"s infinite")}};return w?l.createElement("span",t({style:P},N),l.createElement("span",{style:at(1)}),l.createElement("span",{style:at(2)})):null}return Si.default=g,Si}var bk=kk();const Dk=kc(bk);function Nk(){const[t,e]=$.useState(0),{selectedProduct:n,productLoading:o}=ia(zc),s=n,{id:l}=LT(),c=is();return $.useEffect(()=>{c(Th(l))},[c,l]),o?Z.jsx("div",{className:Pn.loaderContainer,children:Z.jsx(Dk,{size:100,color:"#e44d26"})}):s?Z.jsxs("div",{className:Pn.productPageContainer,children:[Z.jsx("div",{className:Pn.imagesContainer,children:s.images&&Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:Pn.allPicsContainer,children:s.images.map((d,p)=>Z.jsx("img",{src:d,alt:`img-${p}`,onClick:()=>e(p)},p))}),Z.jsx("div",{className:Pn.mainPicContainer,children:Z.jsx("img",{src:s.images[t],alt:"main-img"})})]})}),Z.jsxs("div",{className:Pn.detailsContainer,children:[Z.jsx("h1",{className:Pn.title,children:s.title}),Z.jsx("p",{className:Pn.productBrand,children:`Brand: ${s.brand}`}),Z.jsx("p",{className:Pn.productCategory,children:`Category: ${s.category}`}),Z.jsx(cp,{count:5,value:s.rating,size:35,activeColor:"#ffd700",isHalf:!0,edit:!1}),Z.jsx("h2",{className:Pn.price,children:` $${s.price}`}),Z.jsx("div",{className:Pn.cartContainer,children:Z.jsx("button",{type:"button",className:Pn.addCartButton,onClick:()=>c(qp(s)),children:"Add To Cart"})}),Z.jsx("p",{className:Pn.descriptionTitle,children:"Description"}),Z.jsx("p",{className:Pn.description,children:s.description})]})]}):Z.jsx("div",{className:Pn.productPageContainer,children:"Product not found"})}const Lk="_errorContainer_1my9n_3",Vk="_errorContent_1my9n_17",Mk="_errorHeading_1my9n_25",Ok="_errorMessage_1my9n_37",Fk="_errorDescription_1my9n_47",jk="_errorButton_1my9n_57",Bs={errorContainer:Lk,errorContent:Vk,errorHeading:Mk,errorMessage:Ok,errorDescription:Fk,errorButton:jk};function Uk(){const t=lv(),e=()=>{t(-1)};return Z.jsx("div",{className:Bs.errorContainer,children:Z.jsxs("div",{className:Bs.errorContent,children:[Z.jsx("h1",{className:Bs.errorHeading,children:"404"}),Z.jsx("p",{className:Bs.errorMessage,children:"Oops! Page not found"}),Z.jsx("p",{className:Bs.errorDescription,children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),Z.jsx("button",{className:Bs.errorButton,onClick:e,children:"Go Back Home"})]})})}const zk="_loaderContainer_s85ow_3",Bk="_CartPageContainer_s85ow_17",$k="_noItemsHeading_s85ow_33",ah={loaderContainer:zk,CartPageContainer:Bk,noItemsHeading:$k},Hk="_productContainer_6i5hy_3",qk="_thumbnail_6i5hy_47",Wk="_heading_6i5hy_61",Kk="_description_6i5hy_69",Qk="_price_6i5hy_93",Gk="_removeFromCartBtn_6i5hy_101",Xk="_icon_6i5hy_137",Yk="_iconContainer_6i5hy_147",Jk="_priceAndQtyContainer_6i5hy_175",Zk="_qtyContainer_6i5hy_187",so={productContainer:Hk,thumbnail:qk,heading:Wk,description:Kk,price:Qk,removeFromCartBtn:Gk,icon:Xk,iconContainer:Yk,priceAndQtyContainer:Jk,qtyContainer:Zk};function e2({product:t,qty:e,id:n}){const o=is();return Z.jsx(Z.Fragment,{children:Z.jsxs("div",{className:so.productContainer,children:[Z.jsx("img",{src:t.thumbnail,alt:"img",className:so.thumbnail}),Z.jsx("h2",{className:so.heading,children:t.title}),Z.jsx("p",{className:so.description,children:t.description}),Z.jsx("h2",{className:so.price,children:`$${t.price}`}),Z.jsx(cp,{count:5,value:t.rating,size:24,activeColor:"#ffd700",isHalf:!0,edit:!1}),Z.jsx("div",{className:so.priceAndQtyContainer,children:Z.jsxs("span",{className:so.qtyContainer,children:[Z.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/3388/3388913.png",alt:"Remove",onClick:()=>o(_E(n))}),Z.jsx("p",{children:e}),Z.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/1828/1828919.png",alt:"Add",onClick:()=>o(Qh(n))})]})}),Z.jsx("button",{type:"button",className:so.removeFromCartBtn,onClick:()=>o(xc(n)),children:"Remove From Cart"})]})})}function t2(){const{cartItems:t,cartLoading:e}=ia(vE),n=is();return $.useEffect(()=>{n(sf())}),Z.jsx(Z.Fragment,{children:e?Z.jsx("div",{className:ah.loaderContainer,children:Z.jsx(mv,{size:100,color:"#e44d26"})}):Z.jsx("div",{className:ah.CartPageContainer,children:t.length===0?Z.jsx("h1",{className:ah.noItemsHeading,children:"No items in the cart!"}):Z.jsx(Z.Fragment,{children:t.map(o=>Z.jsx(e2,{product:o.product,qty:o.qty,id:o.id},o.id))})})})}function n2(){const t=S1([{path:"/",element:Z.jsx(uk,{}),errorElement:Z.jsx(Uk,{}),children:[{index:!0,element:Z.jsx(tk,{})},{path:"products/:id",element:Z.jsx(Nk,{})},{path:"cart",element:Z.jsx(t2,{})}]}]);return Z.jsxs(Z.Fragment,{children:[Z.jsx(NC,{className:"notification"}),Z.jsx(rS,{store:ck,children:Z.jsx(V1,{router:t})})]})}const r2=Dw.createRoot(document.getElementById("root"));r2.render(Z.jsx(_t.StrictMode,{children:Z.jsx(n2,{})}));
